var Wg=Object.defineProperty;var Td=e=>{throw TypeError(e)};var Vg=(e,t,n)=>t in e?Wg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Oe=(e,t,n)=>Vg(e,typeof t!="symbol"?t+"":t,n),ol=(e,t,n)=>t.has(e)||Td("Cannot "+n);var N=(e,t,n)=>(ol(e,t,"read from private field"),n?n.call(e):t.get(e)),H=(e,t,n)=>t.has(e)?Td("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),$=(e,t,n,r)=>(ol(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Z=(e,t,n)=>(ol(e,t,"access private method"),n);var oo=(e,t,n,r)=>({set _(i){$(e,t,i,n)},get _(){return N(e,t,r)}});function qg(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function qf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Qf={exports:{}},ka={},Kf={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qi=Symbol.for("react.element"),Qg=Symbol.for("react.portal"),Kg=Symbol.for("react.fragment"),Gg=Symbol.for("react.strict_mode"),Zg=Symbol.for("react.profiler"),Jg=Symbol.for("react.provider"),Xg=Symbol.for("react.context"),Yg=Symbol.for("react.forward_ref"),ex=Symbol.for("react.suspense"),tx=Symbol.for("react.memo"),nx=Symbol.for("react.lazy"),Ad=Symbol.iterator;function rx(e){return e===null||typeof e!="object"?null:(e=Ad&&e[Ad]||e["@@iterator"],typeof e=="function"?e:null)}var Gf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Zf=Object.assign,Jf={};function Ms(e,t,n){this.props=e,this.context=t,this.refs=Jf,this.updater=n||Gf}Ms.prototype.isReactComponent={};Ms.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ms.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Xf(){}Xf.prototype=Ms.prototype;function hu(e,t,n){this.props=e,this.context=t,this.refs=Jf,this.updater=n||Gf}var fu=hu.prototype=new Xf;fu.constructor=hu;Zf(fu,Ms.prototype);fu.isPureReactComponent=!0;var Dd=Array.isArray,Yf=Object.prototype.hasOwnProperty,mu={current:null},em={key:!0,ref:!0,__self:!0,__source:!0};function tm(e,t,n){var r,i={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)Yf.call(t,r)&&!em.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:qi,type:e,key:o,ref:a,props:i,_owner:mu.current}}function sx(e,t){return{$$typeof:qi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function pu(e){return typeof e=="object"&&e!==null&&e.$$typeof===qi}function ix(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Md=/\/+/g;function al(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ix(""+e.key):t.toString(36)}function Po(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case qi:case Qg:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+al(a,0):r,Dd(i)?(n="",e!=null&&(n=e.replace(Md,"$&/")+"/"),Po(i,t,n,"",function(u){return u})):i!=null&&(pu(i)&&(i=sx(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Md,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",Dd(e))for(var l=0;l<e.length;l++){o=e[l];var c=r+al(o,l);a+=Po(o,t,n,c,i)}else if(c=rx(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=r+al(o,l++),a+=Po(o,t,n,c,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function ao(e,t,n){if(e==null)return e;var r=[],i=0;return Po(e,r,"","",function(o){return t.call(n,o,i++)}),r}function ox(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ye={current:null},To={transition:null},ax={ReactCurrentDispatcher:Ye,ReactCurrentBatchConfig:To,ReactCurrentOwner:mu};function nm(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:ao,forEach:function(e,t,n){ao(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ao(e,function(){t++}),t},toArray:function(e){return ao(e,function(t){return t})||[]},only:function(e){if(!pu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};X.Component=Ms;X.Fragment=Kg;X.Profiler=Zg;X.PureComponent=hu;X.StrictMode=Gg;X.Suspense=ex;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ax;X.act=nm;X.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Zf({},e.props),i=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=mu.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Yf.call(t,c)&&!em.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:qi,type:e.type,key:i,ref:o,props:r,_owner:a}};X.createContext=function(e){return e={$$typeof:Xg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Jg,_context:e},e.Consumer=e};X.createElement=tm;X.createFactory=function(e){var t=tm.bind(null,e);return t.type=e,t};X.createRef=function(){return{current:null}};X.forwardRef=function(e){return{$$typeof:Yg,render:e}};X.isValidElement=pu;X.lazy=function(e){return{$$typeof:nx,_payload:{_status:-1,_result:e},_init:ox}};X.memo=function(e,t){return{$$typeof:tx,type:e,compare:t===void 0?null:t}};X.startTransition=function(e){var t=To.transition;To.transition={};try{e()}finally{To.transition=t}};X.unstable_act=nm;X.useCallback=function(e,t){return Ye.current.useCallback(e,t)};X.useContext=function(e){return Ye.current.useContext(e)};X.useDebugValue=function(){};X.useDeferredValue=function(e){return Ye.current.useDeferredValue(e)};X.useEffect=function(e,t){return Ye.current.useEffect(e,t)};X.useId=function(){return Ye.current.useId()};X.useImperativeHandle=function(e,t,n){return Ye.current.useImperativeHandle(e,t,n)};X.useInsertionEffect=function(e,t){return Ye.current.useInsertionEffect(e,t)};X.useLayoutEffect=function(e,t){return Ye.current.useLayoutEffect(e,t)};X.useMemo=function(e,t){return Ye.current.useMemo(e,t)};X.useReducer=function(e,t,n){return Ye.current.useReducer(e,t,n)};X.useRef=function(e){return Ye.current.useRef(e)};X.useState=function(e){return Ye.current.useState(e)};X.useSyncExternalStore=function(e,t,n){return Ye.current.useSyncExternalStore(e,t,n)};X.useTransition=function(){return Ye.current.useTransition()};X.version="18.3.1";Kf.exports=X;var d=Kf.exports;const Qi=qf(d),lx=qg({__proto__:null,default:Qi},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cx=d,ux=Symbol.for("react.element"),dx=Symbol.for("react.fragment"),hx=Object.prototype.hasOwnProperty,fx=cx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mx={key:!0,ref:!0,__self:!0,__source:!0};function rm(e,t,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)hx.call(t,r)&&!mx.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:ux,type:e,key:o,ref:a,props:i,_owner:fx.current}}ka.Fragment=dx;ka.jsx=rm;ka.jsxs=rm;Qf.exports=ka;var s=Qf.exports,sm={exports:{}},vt={},im={exports:{}},om={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,B){var U=M.length;M.push(B);e:for(;0<U;){var I=U-1>>>1,J=M[I];if(0<i(J,B))M[I]=B,M[U]=J,U=I;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var B=M[0],U=M.pop();if(U!==B){M[0]=U;e:for(var I=0,J=M.length,de=J>>>1;I<de;){var tt=2*(I+1)-1,rr=M[tt],Yt=tt+1,sr=M[Yt];if(0>i(rr,U))Yt<J&&0>i(sr,rr)?(M[I]=sr,M[Yt]=U,I=Yt):(M[I]=rr,M[tt]=U,I=tt);else if(Yt<J&&0>i(sr,U))M[I]=sr,M[Yt]=U,I=Yt;else break e}}return B}function i(M,B){var U=M.sortIndex-B.sortIndex;return U!==0?U:M.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,f=null,m=3,v=!1,b=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(M){for(var B=n(u);B!==null;){if(B.callback===null)r(u);else if(B.startTime<=M)r(u),B.sortIndex=B.expirationTime,t(c,B);else break;B=n(u)}}function j(M){if(w=!1,y(M),!b)if(n(c)!==null)b=!0,V(S);else{var B=n(u);B!==null&&be(j,B.startTime-M)}}function S(M,B){b=!1,w&&(w=!1,g(E),E=-1),v=!0;var U=m;try{for(y(B),f=n(c);f!==null&&(!(f.expirationTime>B)||M&&!Q());){var I=f.callback;if(typeof I=="function"){f.callback=null,m=f.priorityLevel;var J=I(f.expirationTime<=B);B=e.unstable_now(),typeof J=="function"?f.callback=J:f===n(c)&&r(c),y(B)}else r(c);f=n(c)}if(f!==null)var de=!0;else{var tt=n(u);tt!==null&&be(j,tt.startTime-B),de=!1}return de}finally{f=null,m=U,v=!1}}var C=!1,k=null,E=-1,_=5,R=-1;function Q(){return!(e.unstable_now()-R<_)}function z(){if(k!==null){var M=e.unstable_now();R=M;var B=!0;try{B=k(!0,M)}finally{B?L():(C=!1,k=null)}}else C=!1}var L;if(typeof p=="function")L=function(){p(z)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,A=te.port2;te.port1.onmessage=z,L=function(){A.postMessage(null)}}else L=function(){x(z,0)};function V(M){k=M,C||(C=!0,L())}function be(M,B){E=x(function(){M(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){b||v||(b=!0,V(S))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(M){switch(m){case 1:case 2:case 3:var B=3;break;default:B=m}var U=m;m=B;try{return M()}finally{m=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,B){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var U=m;m=M;try{return B()}finally{m=U}},e.unstable_scheduleCallback=function(M,B,U){var I=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?I+U:I):U=I,M){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=U+J,M={id:h++,callback:B,priorityLevel:M,startTime:U,expirationTime:J,sortIndex:-1},U>I?(M.sortIndex=U,t(u,M),n(c)===null&&M===n(u)&&(w?(g(E),E=-1):w=!0,be(j,U-I))):(M.sortIndex=J,t(c,M),b||v||(b=!0,V(S))),M},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(M){var B=m;return function(){var U=m;m=B;try{return M.apply(this,arguments)}finally{m=U}}}})(om);im.exports=om;var px=im.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gx=d,yt=px;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var am=new Set,mi={};function Ir(e,t){ws(e,t),ws(e+"Capture",t)}function ws(e,t){for(mi[e]=t,e=0;e<t.length;e++)am.add(t[e])}var dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wl=Object.prototype.hasOwnProperty,xx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ld={},Id={};function yx(e){return Wl.call(Id,e)?!0:Wl.call(Ld,e)?!1:xx.test(e)?Id[e]=!0:(Ld[e]=!0,!1)}function vx(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function wx(e,t,n,r){if(t===null||typeof t>"u"||vx(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function et(e,t,n,r,i,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Fe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Fe[e]=new et(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Fe[t]=new et(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Fe[e]=new et(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Fe[e]=new et(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Fe[e]=new et(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Fe[e]=new et(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Fe[e]=new et(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Fe[e]=new et(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Fe[e]=new et(e,5,!1,e.toLowerCase(),null,!1,!1)});var gu=/[\-:]([a-z])/g;function xu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gu,xu);Fe[t]=new et(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gu,xu);Fe[t]=new et(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gu,xu);Fe[t]=new et(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Fe[e]=new et(e,1,!1,e.toLowerCase(),null,!1,!1)});Fe.xlinkHref=new et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Fe[e]=new et(e,1,!1,e.toLowerCase(),null,!0,!0)});function yu(e,t,n,r){var i=Fe.hasOwnProperty(t)?Fe[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(wx(t,n,i,r)&&(n=null),r||i===null?yx(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var xn=gx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lo=Symbol.for("react.element"),Hr=Symbol.for("react.portal"),Wr=Symbol.for("react.fragment"),vu=Symbol.for("react.strict_mode"),Vl=Symbol.for("react.profiler"),lm=Symbol.for("react.provider"),cm=Symbol.for("react.context"),wu=Symbol.for("react.forward_ref"),ql=Symbol.for("react.suspense"),Ql=Symbol.for("react.suspense_list"),bu=Symbol.for("react.memo"),wn=Symbol.for("react.lazy"),um=Symbol.for("react.offscreen"),$d=Symbol.iterator;function Ws(e){return e===null||typeof e!="object"?null:(e=$d&&e[$d]||e["@@iterator"],typeof e=="function"?e:null)}var we=Object.assign,ll;function Ys(e){if(ll===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ll=t&&t[1]||""}return`
`+ll+e}var cl=!1;function ul(e,t){if(!e||cl)return"";cl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,l=o.length-1;1<=a&&0<=l&&i[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==o[l]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{cl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ys(e):""}function bx(e){switch(e.tag){case 5:return Ys(e.type);case 16:return Ys("Lazy");case 13:return Ys("Suspense");case 19:return Ys("SuspenseList");case 0:case 2:case 15:return e=ul(e.type,!1),e;case 11:return e=ul(e.type.render,!1),e;case 1:return e=ul(e.type,!0),e;default:return""}}function Kl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wr:return"Fragment";case Hr:return"Portal";case Vl:return"Profiler";case vu:return"StrictMode";case ql:return"Suspense";case Ql:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case cm:return(e.displayName||"Context")+".Consumer";case lm:return(e._context.displayName||"Context")+".Provider";case wu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bu:return t=e.displayName||null,t!==null?t:Kl(e.type)||"Memo";case wn:t=e._payload,e=e._init;try{return Kl(e(t))}catch{}}return null}function jx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kl(t);case 8:return t===vu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Zn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dm(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Sx(e){var t=dm(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function co(e){e._valueTracker||(e._valueTracker=Sx(e))}function hm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dm(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Qo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Gl(e,t){var n=t.checked;return we({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Fd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Zn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fm(e,t){t=t.checked,t!=null&&yu(e,"checked",t,!1)}function Zl(e,t){fm(e,t);var n=Zn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Jl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Jl(e,t.type,Zn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Od(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Jl(e,t,n){(t!=="number"||Qo(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ei=Array.isArray;function ns(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Zn(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Xl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return we({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(D(92));if(ei(n)){if(1<n.length)throw Error(D(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Zn(n)}}function mm(e,t){var n=Zn(t.value),r=Zn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Bd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function pm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?pm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var uo,gm=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(uo=uo||document.createElement("div"),uo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=uo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function pi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var si={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Nx=["Webkit","ms","Moz","O"];Object.keys(si).forEach(function(e){Nx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),si[t]=si[e]})});function xm(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||si.hasOwnProperty(e)&&si[e]?(""+t).trim():t+"px"}function ym(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=xm(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var kx=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ec(e,t){if(t){if(kx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function tc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nc=null;function ju(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var rc=null,rs=null,ss=null;function Ud(e){if(e=Zi(e)){if(typeof rc!="function")throw Error(D(280));var t=e.stateNode;t&&(t=Pa(t),rc(e.stateNode,e.type,t))}}function vm(e){rs?ss?ss.push(e):ss=[e]:rs=e}function wm(){if(rs){var e=rs,t=ss;if(ss=rs=null,Ud(e),t)for(e=0;e<t.length;e++)Ud(t[e])}}function bm(e,t){return e(t)}function jm(){}var dl=!1;function Sm(e,t,n){if(dl)return e(t,n);dl=!0;try{return bm(e,t,n)}finally{dl=!1,(rs!==null||ss!==null)&&(jm(),wm())}}function gi(e,t){var n=e.stateNode;if(n===null)return null;var r=Pa(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var sc=!1;if(dn)try{var Vs={};Object.defineProperty(Vs,"passive",{get:function(){sc=!0}}),window.addEventListener("test",Vs,Vs),window.removeEventListener("test",Vs,Vs)}catch{sc=!1}function Cx(e,t,n,r,i,o,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var ii=!1,Ko=null,Go=!1,ic=null,Ex={onError:function(e){ii=!0,Ko=e}};function _x(e,t,n,r,i,o,a,l,c){ii=!1,Ko=null,Cx.apply(Ex,arguments)}function Rx(e,t,n,r,i,o,a,l,c){if(_x.apply(this,arguments),ii){if(ii){var u=Ko;ii=!1,Ko=null}else throw Error(D(198));Go||(Go=!0,ic=u)}}function $r(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Nm(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Hd(e){if($r(e)!==e)throw Error(D(188))}function Px(e){var t=e.alternate;if(!t){if(t=$r(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Hd(i),e;if(o===r)return Hd(i),t;o=o.sibling}throw Error(D(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function km(e){return e=Px(e),e!==null?Cm(e):null}function Cm(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Cm(e);if(t!==null)return t;e=e.sibling}return null}var Em=yt.unstable_scheduleCallback,Wd=yt.unstable_cancelCallback,Tx=yt.unstable_shouldYield,Ax=yt.unstable_requestPaint,Ne=yt.unstable_now,Dx=yt.unstable_getCurrentPriorityLevel,Su=yt.unstable_ImmediatePriority,_m=yt.unstable_UserBlockingPriority,Zo=yt.unstable_NormalPriority,Mx=yt.unstable_LowPriority,Rm=yt.unstable_IdlePriority,Ca=null,Zt=null;function Lx(e){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Ca,e,void 0,(e.current.flags&128)===128)}catch{}}var Ft=Math.clz32?Math.clz32:Fx,Ix=Math.log,$x=Math.LN2;function Fx(e){return e>>>=0,e===0?32:31-(Ix(e)/$x|0)|0}var ho=64,fo=4194304;function ti(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Jo(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~i;l!==0?r=ti(l):(o&=a,o!==0&&(r=ti(o)))}else a=n&~i,a!==0?r=ti(a):o!==0&&(r=ti(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ft(t),i=1<<n,r|=e[n],t&=~i;return r}function Ox(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zx(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-Ft(o),l=1<<a,c=i[a];c===-1?(!(l&n)||l&r)&&(i[a]=Ox(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function oc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Pm(){var e=ho;return ho<<=1,!(ho&4194240)&&(ho=64),e}function hl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ki(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ft(t),e[t]=n}function Bx(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ft(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function Nu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ft(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ie=0;function Tm(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Am,ku,Dm,Mm,Lm,ac=!1,mo=[],Fn=null,On=null,zn=null,xi=new Map,yi=new Map,jn=[],Ux="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vd(e,t){switch(e){case"focusin":case"focusout":Fn=null;break;case"dragenter":case"dragleave":On=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":xi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":yi.delete(t.pointerId)}}function qs(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Zi(t),t!==null&&ku(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Hx(e,t,n,r,i){switch(t){case"focusin":return Fn=qs(Fn,e,t,n,r,i),!0;case"dragenter":return On=qs(On,e,t,n,r,i),!0;case"mouseover":return zn=qs(zn,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return xi.set(o,qs(xi.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,yi.set(o,qs(yi.get(o)||null,e,t,n,r,i)),!0}return!1}function Im(e){var t=ar(e.target);if(t!==null){var n=$r(t);if(n!==null){if(t=n.tag,t===13){if(t=Nm(n),t!==null){e.blockedOn=t,Lm(e.priority,function(){Dm(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ao(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=lc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);nc=r,n.target.dispatchEvent(r),nc=null}else return t=Zi(n),t!==null&&ku(t),e.blockedOn=n,!1;t.shift()}return!0}function qd(e,t,n){Ao(e)&&n.delete(t)}function Wx(){ac=!1,Fn!==null&&Ao(Fn)&&(Fn=null),On!==null&&Ao(On)&&(On=null),zn!==null&&Ao(zn)&&(zn=null),xi.forEach(qd),yi.forEach(qd)}function Qs(e,t){e.blockedOn===t&&(e.blockedOn=null,ac||(ac=!0,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,Wx)))}function vi(e){function t(i){return Qs(i,e)}if(0<mo.length){Qs(mo[0],e);for(var n=1;n<mo.length;n++){var r=mo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Fn!==null&&Qs(Fn,e),On!==null&&Qs(On,e),zn!==null&&Qs(zn,e),xi.forEach(t),yi.forEach(t),n=0;n<jn.length;n++)r=jn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<jn.length&&(n=jn[0],n.blockedOn===null);)Im(n),n.blockedOn===null&&jn.shift()}var is=xn.ReactCurrentBatchConfig,Xo=!0;function Vx(e,t,n,r){var i=ie,o=is.transition;is.transition=null;try{ie=1,Cu(e,t,n,r)}finally{ie=i,is.transition=o}}function qx(e,t,n,r){var i=ie,o=is.transition;is.transition=null;try{ie=4,Cu(e,t,n,r)}finally{ie=i,is.transition=o}}function Cu(e,t,n,r){if(Xo){var i=lc(e,t,n,r);if(i===null)jl(e,t,r,Yo,n),Vd(e,r);else if(Hx(i,e,t,n,r))r.stopPropagation();else if(Vd(e,r),t&4&&-1<Ux.indexOf(e)){for(;i!==null;){var o=Zi(i);if(o!==null&&Am(o),o=lc(e,t,n,r),o===null&&jl(e,t,r,Yo,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else jl(e,t,r,null,n)}}var Yo=null;function lc(e,t,n,r){if(Yo=null,e=ju(r),e=ar(e),e!==null)if(t=$r(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Nm(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yo=e,null}function $m(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dx()){case Su:return 1;case _m:return 4;case Zo:case Mx:return 16;case Rm:return 536870912;default:return 16}default:return 16}}var Ln=null,Eu=null,Do=null;function Fm(){if(Do)return Do;var e,t=Eu,n=t.length,r,i="value"in Ln?Ln.value:Ln.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[o-r];r++);return Do=i.slice(e,1<r?1-r:void 0)}function Mo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function po(){return!0}function Qd(){return!1}function wt(e){function t(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?po:Qd,this.isPropagationStopped=Qd,this}return we(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=po)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=po)},persist:function(){},isPersistent:po}),t}var Ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_u=wt(Ls),Gi=we({},Ls,{view:0,detail:0}),Qx=wt(Gi),fl,ml,Ks,Ea=we({},Gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ru,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ks&&(Ks&&e.type==="mousemove"?(fl=e.screenX-Ks.screenX,ml=e.screenY-Ks.screenY):ml=fl=0,Ks=e),fl)},movementY:function(e){return"movementY"in e?e.movementY:ml}}),Kd=wt(Ea),Kx=we({},Ea,{dataTransfer:0}),Gx=wt(Kx),Zx=we({},Gi,{relatedTarget:0}),pl=wt(Zx),Jx=we({},Ls,{animationName:0,elapsedTime:0,pseudoElement:0}),Xx=wt(Jx),Yx=we({},Ls,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ey=wt(Yx),ty=we({},Ls,{data:0}),Gd=wt(ty),ny={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ry={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sy[e])?!!t[e]:!1}function Ru(){return iy}var oy=we({},Gi,{key:function(e){if(e.key){var t=ny[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Mo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ry[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ru,charCode:function(e){return e.type==="keypress"?Mo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Mo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ay=wt(oy),ly=we({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zd=wt(ly),cy=we({},Gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ru}),uy=wt(cy),dy=we({},Ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),hy=wt(dy),fy=we({},Ea,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),my=wt(fy),py=[9,13,27,32],Pu=dn&&"CompositionEvent"in window,oi=null;dn&&"documentMode"in document&&(oi=document.documentMode);var gy=dn&&"TextEvent"in window&&!oi,Om=dn&&(!Pu||oi&&8<oi&&11>=oi),Jd=" ",Xd=!1;function zm(e,t){switch(e){case"keyup":return py.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vr=!1;function xy(e,t){switch(e){case"compositionend":return Bm(t);case"keypress":return t.which!==32?null:(Xd=!0,Jd);case"textInput":return e=t.data,e===Jd&&Xd?null:e;default:return null}}function yy(e,t){if(Vr)return e==="compositionend"||!Pu&&zm(e,t)?(e=Fm(),Do=Eu=Ln=null,Vr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Om&&t.locale!=="ko"?null:t.data;default:return null}}var vy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!vy[e.type]:t==="textarea"}function Um(e,t,n,r){vm(r),t=ea(t,"onChange"),0<t.length&&(n=new _u("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ai=null,wi=null;function wy(e){Ym(e,0)}function _a(e){var t=Kr(e);if(hm(t))return e}function by(e,t){if(e==="change")return t}var Hm=!1;if(dn){var gl;if(dn){var xl="oninput"in document;if(!xl){var eh=document.createElement("div");eh.setAttribute("oninput","return;"),xl=typeof eh.oninput=="function"}gl=xl}else gl=!1;Hm=gl&&(!document.documentMode||9<document.documentMode)}function th(){ai&&(ai.detachEvent("onpropertychange",Wm),wi=ai=null)}function Wm(e){if(e.propertyName==="value"&&_a(wi)){var t=[];Um(t,wi,e,ju(e)),Sm(wy,t)}}function jy(e,t,n){e==="focusin"?(th(),ai=t,wi=n,ai.attachEvent("onpropertychange",Wm)):e==="focusout"&&th()}function Sy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _a(wi)}function Ny(e,t){if(e==="click")return _a(t)}function ky(e,t){if(e==="input"||e==="change")return _a(t)}function Cy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var zt=typeof Object.is=="function"?Object.is:Cy;function bi(e,t){if(zt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Wl.call(t,i)||!zt(e[i],t[i]))return!1}return!0}function nh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rh(e,t){var n=nh(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nh(n)}}function Vm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Vm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qm(){for(var e=window,t=Qo();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Qo(e.document)}return t}function Tu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ey(e){var t=qm(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Vm(n.ownerDocument.documentElement,n)){if(r!==null&&Tu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=rh(n,o);var a=rh(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var _y=dn&&"documentMode"in document&&11>=document.documentMode,qr=null,cc=null,li=null,uc=!1;function sh(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;uc||qr==null||qr!==Qo(r)||(r=qr,"selectionStart"in r&&Tu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),li&&bi(li,r)||(li=r,r=ea(cc,"onSelect"),0<r.length&&(t=new _u("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=qr)))}function go(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Qr={animationend:go("Animation","AnimationEnd"),animationiteration:go("Animation","AnimationIteration"),animationstart:go("Animation","AnimationStart"),transitionend:go("Transition","TransitionEnd")},yl={},Qm={};dn&&(Qm=document.createElement("div").style,"AnimationEvent"in window||(delete Qr.animationend.animation,delete Qr.animationiteration.animation,delete Qr.animationstart.animation),"TransitionEvent"in window||delete Qr.transitionend.transition);function Ra(e){if(yl[e])return yl[e];if(!Qr[e])return e;var t=Qr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Qm)return yl[e]=t[n];return e}var Km=Ra("animationend"),Gm=Ra("animationiteration"),Zm=Ra("animationstart"),Jm=Ra("transitionend"),Xm=new Map,ih="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yn(e,t){Xm.set(e,t),Ir(t,[e])}for(var vl=0;vl<ih.length;vl++){var wl=ih[vl],Ry=wl.toLowerCase(),Py=wl[0].toUpperCase()+wl.slice(1);Yn(Ry,"on"+Py)}Yn(Km,"onAnimationEnd");Yn(Gm,"onAnimationIteration");Yn(Zm,"onAnimationStart");Yn("dblclick","onDoubleClick");Yn("focusin","onFocus");Yn("focusout","onBlur");Yn(Jm,"onTransitionEnd");ws("onMouseEnter",["mouseout","mouseover"]);ws("onMouseLeave",["mouseout","mouseover"]);ws("onPointerEnter",["pointerout","pointerover"]);ws("onPointerLeave",["pointerout","pointerover"]);Ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ir("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ni="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ty=new Set("cancel close invalid load scroll toggle".split(" ").concat(ni));function oh(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Rx(r,t,void 0,e),e.currentTarget=null}function Ym(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==o&&i.isPropagationStopped())break e;oh(i,l,u),o=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==o&&i.isPropagationStopped())break e;oh(i,l,u),o=c}}}if(Go)throw e=ic,Go=!1,ic=null,e}function he(e,t){var n=t[pc];n===void 0&&(n=t[pc]=new Set);var r=e+"__bubble";n.has(r)||(e0(t,e,2,!1),n.add(r))}function bl(e,t,n){var r=0;t&&(r|=4),e0(n,e,r,t)}var xo="_reactListening"+Math.random().toString(36).slice(2);function ji(e){if(!e[xo]){e[xo]=!0,am.forEach(function(n){n!=="selectionchange"&&(Ty.has(n)||bl(n,!1,e),bl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xo]||(t[xo]=!0,bl("selectionchange",!1,t))}}function e0(e,t,n,r){switch($m(t)){case 1:var i=Vx;break;case 4:i=qx;break;default:i=Cu}n=i.bind(null,t,n,e),i=void 0,!sc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function jl(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=ar(l),a===null)return;if(c=a.tag,c===5||c===6){r=o=a;continue e}l=l.parentNode}}r=r.return}Sm(function(){var u=o,h=ju(n),f=[];e:{var m=Xm.get(e);if(m!==void 0){var v=_u,b=e;switch(e){case"keypress":if(Mo(n)===0)break e;case"keydown":case"keyup":v=ay;break;case"focusin":b="focus",v=pl;break;case"focusout":b="blur",v=pl;break;case"beforeblur":case"afterblur":v=pl;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Kd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Gx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=uy;break;case Km:case Gm:case Zm:v=Xx;break;case Jm:v=hy;break;case"scroll":v=Qx;break;case"wheel":v=my;break;case"copy":case"cut":case"paste":v=ey;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Zd}var w=(t&4)!==0,x=!w&&e==="scroll",g=w?m!==null?m+"Capture":null:m;w=[];for(var p=u,y;p!==null;){y=p;var j=y.stateNode;if(y.tag===5&&j!==null&&(y=j,g!==null&&(j=gi(p,g),j!=null&&w.push(Si(p,j,y)))),x)break;p=p.return}0<w.length&&(m=new v(m,b,null,n,h),f.push({event:m,listeners:w}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&n!==nc&&(b=n.relatedTarget||n.fromElement)&&(ar(b)||b[hn]))break e;if((v||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,v?(b=n.relatedTarget||n.toElement,v=u,b=b?ar(b):null,b!==null&&(x=$r(b),b!==x||b.tag!==5&&b.tag!==6)&&(b=null)):(v=null,b=u),v!==b)){if(w=Kd,j="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(w=Zd,j="onPointerLeave",g="onPointerEnter",p="pointer"),x=v==null?m:Kr(v),y=b==null?m:Kr(b),m=new w(j,p+"leave",v,n,h),m.target=x,m.relatedTarget=y,j=null,ar(h)===u&&(w=new w(g,p+"enter",b,n,h),w.target=y,w.relatedTarget=x,j=w),x=j,v&&b)t:{for(w=v,g=b,p=0,y=w;y;y=Ur(y))p++;for(y=0,j=g;j;j=Ur(j))y++;for(;0<p-y;)w=Ur(w),p--;for(;0<y-p;)g=Ur(g),y--;for(;p--;){if(w===g||g!==null&&w===g.alternate)break t;w=Ur(w),g=Ur(g)}w=null}else w=null;v!==null&&ah(f,m,v,w,!1),b!==null&&x!==null&&ah(f,x,b,w,!0)}}e:{if(m=u?Kr(u):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var S=by;else if(Yd(m))if(Hm)S=ky;else{S=Sy;var C=jy}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(S=Ny);if(S&&(S=S(e,u))){Um(f,S,n,h);break e}C&&C(e,m,u),e==="focusout"&&(C=m._wrapperState)&&C.controlled&&m.type==="number"&&Jl(m,"number",m.value)}switch(C=u?Kr(u):window,e){case"focusin":(Yd(C)||C.contentEditable==="true")&&(qr=C,cc=u,li=null);break;case"focusout":li=cc=qr=null;break;case"mousedown":uc=!0;break;case"contextmenu":case"mouseup":case"dragend":uc=!1,sh(f,n,h);break;case"selectionchange":if(_y)break;case"keydown":case"keyup":sh(f,n,h)}var k;if(Pu)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Vr?zm(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Om&&n.locale!=="ko"&&(Vr||E!=="onCompositionStart"?E==="onCompositionEnd"&&Vr&&(k=Fm()):(Ln=h,Eu="value"in Ln?Ln.value:Ln.textContent,Vr=!0)),C=ea(u,E),0<C.length&&(E=new Gd(E,e,null,n,h),f.push({event:E,listeners:C}),k?E.data=k:(k=Bm(n),k!==null&&(E.data=k)))),(k=gy?xy(e,n):yy(e,n))&&(u=ea(u,"onBeforeInput"),0<u.length&&(h=new Gd("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=k))}Ym(f,t)})}function Si(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ea(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=gi(e,n),o!=null&&r.unshift(Si(e,o,i)),o=gi(e,t),o!=null&&r.push(Si(e,o,i))),e=e.return}return r}function Ur(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ah(e,t,n,r,i){for(var o=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,i?(c=gi(n,o),c!=null&&a.unshift(Si(n,c,l))):i||(c=gi(n,o),c!=null&&a.push(Si(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Ay=/\r\n?/g,Dy=/\u0000|\uFFFD/g;function lh(e){return(typeof e=="string"?e:""+e).replace(Ay,`
`).replace(Dy,"")}function yo(e,t,n){if(t=lh(t),lh(e)!==t&&n)throw Error(D(425))}function ta(){}var dc=null,hc=null;function fc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mc=typeof setTimeout=="function"?setTimeout:void 0,My=typeof clearTimeout=="function"?clearTimeout:void 0,ch=typeof Promise=="function"?Promise:void 0,Ly=typeof queueMicrotask=="function"?queueMicrotask:typeof ch<"u"?function(e){return ch.resolve(null).then(e).catch(Iy)}:mc;function Iy(e){setTimeout(function(){throw e})}function Sl(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),vi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);vi(t)}function Bn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function uh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Is=Math.random().toString(36).slice(2),Gt="__reactFiber$"+Is,Ni="__reactProps$"+Is,hn="__reactContainer$"+Is,pc="__reactEvents$"+Is,$y="__reactListeners$"+Is,Fy="__reactHandles$"+Is;function ar(e){var t=e[Gt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hn]||n[Gt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=uh(e);e!==null;){if(n=e[Gt])return n;e=uh(e)}return t}e=n,n=e.parentNode}return null}function Zi(e){return e=e[Gt]||e[hn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Kr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function Pa(e){return e[Ni]||null}var gc=[],Gr=-1;function er(e){return{current:e}}function me(e){0>Gr||(e.current=gc[Gr],gc[Gr]=null,Gr--)}function ue(e,t){Gr++,gc[Gr]=e.current,e.current=t}var Jn={},qe=er(Jn),at=er(!1),Cr=Jn;function bs(e,t){var n=e.type.contextTypes;if(!n)return Jn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function lt(e){return e=e.childContextTypes,e!=null}function na(){me(at),me(qe)}function dh(e,t,n){if(qe.current!==Jn)throw Error(D(168));ue(qe,t),ue(at,n)}function t0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(D(108,jx(e)||"Unknown",i));return we({},n,r)}function ra(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Jn,Cr=qe.current,ue(qe,e),ue(at,at.current),!0}function hh(e,t,n){var r=e.stateNode;if(!r)throw Error(D(169));n?(e=t0(e,t,Cr),r.__reactInternalMemoizedMergedChildContext=e,me(at),me(qe),ue(qe,e)):me(at),ue(at,n)}var rn=null,Ta=!1,Nl=!1;function n0(e){rn===null?rn=[e]:rn.push(e)}function Oy(e){Ta=!0,n0(e)}function tr(){if(!Nl&&rn!==null){Nl=!0;var e=0,t=ie;try{var n=rn;for(ie=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}rn=null,Ta=!1}catch(i){throw rn!==null&&(rn=rn.slice(e+1)),Em(Su,tr),i}finally{ie=t,Nl=!1}}return null}var Zr=[],Jr=0,sa=null,ia=0,jt=[],St=0,Er=null,an=1,ln="";function ir(e,t){Zr[Jr++]=ia,Zr[Jr++]=sa,sa=e,ia=t}function r0(e,t,n){jt[St++]=an,jt[St++]=ln,jt[St++]=Er,Er=e;var r=an;e=ln;var i=32-Ft(r)-1;r&=~(1<<i),n+=1;var o=32-Ft(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,an=1<<32-Ft(t)+i|n<<i|r,ln=o+e}else an=1<<o|n<<i|r,ln=e}function Au(e){e.return!==null&&(ir(e,1),r0(e,1,0))}function Du(e){for(;e===sa;)sa=Zr[--Jr],Zr[Jr]=null,ia=Zr[--Jr],Zr[Jr]=null;for(;e===Er;)Er=jt[--St],jt[St]=null,ln=jt[--St],jt[St]=null,an=jt[--St],jt[St]=null}var xt=null,pt=null,pe=!1,Lt=null;function s0(e,t){var n=Nt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function fh(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xt=e,pt=Bn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xt=e,pt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Er!==null?{id:an,overflow:ln}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Nt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,xt=e,pt=null,!0):!1;default:return!1}}function xc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function yc(e){if(pe){var t=pt;if(t){var n=t;if(!fh(e,t)){if(xc(e))throw Error(D(418));t=Bn(n.nextSibling);var r=xt;t&&fh(e,t)?s0(r,n):(e.flags=e.flags&-4097|2,pe=!1,xt=e)}}else{if(xc(e))throw Error(D(418));e.flags=e.flags&-4097|2,pe=!1,xt=e}}}function mh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xt=e}function vo(e){if(e!==xt)return!1;if(!pe)return mh(e),pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!fc(e.type,e.memoizedProps)),t&&(t=pt)){if(xc(e))throw i0(),Error(D(418));for(;t;)s0(e,t),t=Bn(t.nextSibling)}if(mh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){pt=Bn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}pt=null}}else pt=xt?Bn(e.stateNode.nextSibling):null;return!0}function i0(){for(var e=pt;e;)e=Bn(e.nextSibling)}function js(){pt=xt=null,pe=!1}function Mu(e){Lt===null?Lt=[e]:Lt.push(e)}var zy=xn.ReactCurrentBatchConfig;function Gs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var l=i.refs;a===null?delete l[o]:l[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,e))}return e}function wo(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ph(e){var t=e._init;return t(e._payload)}function o0(e){function t(g,p){if(e){var y=g.deletions;y===null?(g.deletions=[p],g.flags|=16):y.push(p)}}function n(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function i(g,p){return g=Vn(g,p),g.index=0,g.sibling=null,g}function o(g,p,y){return g.index=y,e?(y=g.alternate,y!==null?(y=y.index,y<p?(g.flags|=2,p):y):(g.flags|=2,p)):(g.flags|=1048576,p)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,p,y,j){return p===null||p.tag!==6?(p=Tl(y,g.mode,j),p.return=g,p):(p=i(p,y),p.return=g,p)}function c(g,p,y,j){var S=y.type;return S===Wr?h(g,p,y.props.children,j,y.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===wn&&ph(S)===p.type)?(j=i(p,y.props),j.ref=Gs(g,p,y),j.return=g,j):(j=Bo(y.type,y.key,y.props,null,g.mode,j),j.ref=Gs(g,p,y),j.return=g,j)}function u(g,p,y,j){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Al(y,g.mode,j),p.return=g,p):(p=i(p,y.children||[]),p.return=g,p)}function h(g,p,y,j,S){return p===null||p.tag!==7?(p=jr(y,g.mode,j,S),p.return=g,p):(p=i(p,y),p.return=g,p)}function f(g,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Tl(""+p,g.mode,y),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case lo:return y=Bo(p.type,p.key,p.props,null,g.mode,y),y.ref=Gs(g,null,p),y.return=g,y;case Hr:return p=Al(p,g.mode,y),p.return=g,p;case wn:var j=p._init;return f(g,j(p._payload),y)}if(ei(p)||Ws(p))return p=jr(p,g.mode,y,null),p.return=g,p;wo(g,p)}return null}function m(g,p,y,j){var S=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return S!==null?null:l(g,p,""+y,j);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case lo:return y.key===S?c(g,p,y,j):null;case Hr:return y.key===S?u(g,p,y,j):null;case wn:return S=y._init,m(g,p,S(y._payload),j)}if(ei(y)||Ws(y))return S!==null?null:h(g,p,y,j,null);wo(g,y)}return null}function v(g,p,y,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(y)||null,l(p,g,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case lo:return g=g.get(j.key===null?y:j.key)||null,c(p,g,j,S);case Hr:return g=g.get(j.key===null?y:j.key)||null,u(p,g,j,S);case wn:var C=j._init;return v(g,p,y,C(j._payload),S)}if(ei(j)||Ws(j))return g=g.get(y)||null,h(p,g,j,S,null);wo(p,j)}return null}function b(g,p,y,j){for(var S=null,C=null,k=p,E=p=0,_=null;k!==null&&E<y.length;E++){k.index>E?(_=k,k=null):_=k.sibling;var R=m(g,k,y[E],j);if(R===null){k===null&&(k=_);break}e&&k&&R.alternate===null&&t(g,k),p=o(R,p,E),C===null?S=R:C.sibling=R,C=R,k=_}if(E===y.length)return n(g,k),pe&&ir(g,E),S;if(k===null){for(;E<y.length;E++)k=f(g,y[E],j),k!==null&&(p=o(k,p,E),C===null?S=k:C.sibling=k,C=k);return pe&&ir(g,E),S}for(k=r(g,k);E<y.length;E++)_=v(k,g,E,y[E],j),_!==null&&(e&&_.alternate!==null&&k.delete(_.key===null?E:_.key),p=o(_,p,E),C===null?S=_:C.sibling=_,C=_);return e&&k.forEach(function(Q){return t(g,Q)}),pe&&ir(g,E),S}function w(g,p,y,j){var S=Ws(y);if(typeof S!="function")throw Error(D(150));if(y=S.call(y),y==null)throw Error(D(151));for(var C=S=null,k=p,E=p=0,_=null,R=y.next();k!==null&&!R.done;E++,R=y.next()){k.index>E?(_=k,k=null):_=k.sibling;var Q=m(g,k,R.value,j);if(Q===null){k===null&&(k=_);break}e&&k&&Q.alternate===null&&t(g,k),p=o(Q,p,E),C===null?S=Q:C.sibling=Q,C=Q,k=_}if(R.done)return n(g,k),pe&&ir(g,E),S;if(k===null){for(;!R.done;E++,R=y.next())R=f(g,R.value,j),R!==null&&(p=o(R,p,E),C===null?S=R:C.sibling=R,C=R);return pe&&ir(g,E),S}for(k=r(g,k);!R.done;E++,R=y.next())R=v(k,g,E,R.value,j),R!==null&&(e&&R.alternate!==null&&k.delete(R.key===null?E:R.key),p=o(R,p,E),C===null?S=R:C.sibling=R,C=R);return e&&k.forEach(function(z){return t(g,z)}),pe&&ir(g,E),S}function x(g,p,y,j){if(typeof y=="object"&&y!==null&&y.type===Wr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case lo:e:{for(var S=y.key,C=p;C!==null;){if(C.key===S){if(S=y.type,S===Wr){if(C.tag===7){n(g,C.sibling),p=i(C,y.props.children),p.return=g,g=p;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===wn&&ph(S)===C.type){n(g,C.sibling),p=i(C,y.props),p.ref=Gs(g,C,y),p.return=g,g=p;break e}n(g,C);break}else t(g,C);C=C.sibling}y.type===Wr?(p=jr(y.props.children,g.mode,j,y.key),p.return=g,g=p):(j=Bo(y.type,y.key,y.props,null,g.mode,j),j.ref=Gs(g,p,y),j.return=g,g=j)}return a(g);case Hr:e:{for(C=y.key;p!==null;){if(p.key===C)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(g,p.sibling),p=i(p,y.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else t(g,p);p=p.sibling}p=Al(y,g.mode,j),p.return=g,g=p}return a(g);case wn:return C=y._init,x(g,p,C(y._payload),j)}if(ei(y))return b(g,p,y,j);if(Ws(y))return w(g,p,y,j);wo(g,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(g,p.sibling),p=i(p,y),p.return=g,g=p):(n(g,p),p=Tl(y,g.mode,j),p.return=g,g=p),a(g)):n(g,p)}return x}var Ss=o0(!0),a0=o0(!1),oa=er(null),aa=null,Xr=null,Lu=null;function Iu(){Lu=Xr=aa=null}function $u(e){var t=oa.current;me(oa),e._currentValue=t}function vc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function os(e,t){aa=e,Lu=Xr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ot=!0),e.firstContext=null)}function Ct(e){var t=e._currentValue;if(Lu!==e)if(e={context:e,memoizedValue:t,next:null},Xr===null){if(aa===null)throw Error(D(308));Xr=e,aa.dependencies={lanes:0,firstContext:e}}else Xr=Xr.next=e;return t}var lr=null;function Fu(e){lr===null?lr=[e]:lr.push(e)}function l0(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Fu(t)):(n.next=i.next,i.next=n),t.interleaved=n,fn(e,r)}function fn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var bn=!1;function Ou(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function c0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function cn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Un(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ee&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,fn(e,n)}return i=r.interleaved,i===null?(t.next=t,Fu(r)):(t.next=i.next,i.next=t),r.interleaved=t,fn(e,n)}function Lo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nu(e,n)}}function gh(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function la(e,t,n,r){var i=e.updateQueue;bn=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?o=u:a.next=u,a=c;var h=e.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=c))}if(o!==null){var f=i.baseState;a=0,h=u=c=null,l=o;do{var m=l.lane,v=l.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,w=l;switch(m=t,v=n,w.tag){case 1:if(b=w.payload,typeof b=="function"){f=b.call(v,f,m);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=w.payload,m=typeof b=="function"?b.call(v,f,m):b,m==null)break e;f=we({},f,m);break e;case 2:bn=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else v={eventTime:v,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=v,c=f):h=h.next=v,a|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(h===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Rr|=a,e.lanes=a,e.memoizedState=f}}function xh(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(D(191,i));i.call(r)}}}var Ji={},Jt=er(Ji),ki=er(Ji),Ci=er(Ji);function cr(e){if(e===Ji)throw Error(D(174));return e}function zu(e,t){switch(ue(Ci,t),ue(ki,e),ue(Jt,Ji),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Yl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Yl(t,e)}me(Jt),ue(Jt,t)}function Ns(){me(Jt),me(ki),me(Ci)}function u0(e){cr(Ci.current);var t=cr(Jt.current),n=Yl(t,e.type);t!==n&&(ue(ki,e),ue(Jt,n))}function Bu(e){ki.current===e&&(me(Jt),me(ki))}var xe=er(0);function ca(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var kl=[];function Uu(){for(var e=0;e<kl.length;e++)kl[e]._workInProgressVersionPrimary=null;kl.length=0}var Io=xn.ReactCurrentDispatcher,Cl=xn.ReactCurrentBatchConfig,_r=0,ve=null,Pe=null,De=null,ua=!1,ci=!1,Ei=0,By=0;function ze(){throw Error(D(321))}function Hu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!zt(e[n],t[n]))return!1;return!0}function Wu(e,t,n,r,i,o){if(_r=o,ve=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Io.current=e===null||e.memoizedState===null?Vy:qy,e=n(r,i),ci){o=0;do{if(ci=!1,Ei=0,25<=o)throw Error(D(301));o+=1,De=Pe=null,t.updateQueue=null,Io.current=Qy,e=n(r,i)}while(ci)}if(Io.current=da,t=Pe!==null&&Pe.next!==null,_r=0,De=Pe=ve=null,ua=!1,t)throw Error(D(300));return e}function Vu(){var e=Ei!==0;return Ei=0,e}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?ve.memoizedState=De=e:De=De.next=e,De}function Et(){if(Pe===null){var e=ve.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=De===null?ve.memoizedState:De.next;if(t!==null)De=t,Pe=e;else{if(e===null)throw Error(D(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},De===null?ve.memoizedState=De=e:De=De.next=e}return De}function _i(e,t){return typeof t=="function"?t(e):t}function El(e){var t=Et(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=Pe,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((_r&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,ve.lanes|=h,Rr|=h}u=u.next}while(u!==null&&u!==o);c===null?a=r:c.next=l,zt(r,t.memoizedState)||(ot=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,ve.lanes|=o,Rr|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _l(e){var t=Et(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=e(o,a.action),a=a.next;while(a!==i);zt(o,t.memoizedState)||(ot=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function d0(){}function h0(e,t){var n=ve,r=Et(),i=t(),o=!zt(r.memoizedState,i);if(o&&(r.memoizedState=i,ot=!0),r=r.queue,qu(p0.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||De!==null&&De.memoizedState.tag&1){if(n.flags|=2048,Ri(9,m0.bind(null,n,r,i,t),void 0,null),Le===null)throw Error(D(349));_r&30||f0(n,t,i)}return i}function f0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function m0(e,t,n,r){t.value=n,t.getSnapshot=r,g0(t)&&x0(e)}function p0(e,t,n){return n(function(){g0(t)&&x0(e)})}function g0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!zt(e,n)}catch{return!0}}function x0(e){var t=fn(e,1);t!==null&&Ot(t,e,1,-1)}function yh(e){var t=Vt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:e},t.queue=e,e=e.dispatch=Wy.bind(null,ve,e),[t.memoizedState,e]}function Ri(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ve.updateQueue,t===null?(t={lastEffect:null,stores:null},ve.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function y0(){return Et().memoizedState}function $o(e,t,n,r){var i=Vt();ve.flags|=e,i.memoizedState=Ri(1|t,n,void 0,r===void 0?null:r)}function Aa(e,t,n,r){var i=Et();r=r===void 0?null:r;var o=void 0;if(Pe!==null){var a=Pe.memoizedState;if(o=a.destroy,r!==null&&Hu(r,a.deps)){i.memoizedState=Ri(t,n,o,r);return}}ve.flags|=e,i.memoizedState=Ri(1|t,n,o,r)}function vh(e,t){return $o(8390656,8,e,t)}function qu(e,t){return Aa(2048,8,e,t)}function v0(e,t){return Aa(4,2,e,t)}function w0(e,t){return Aa(4,4,e,t)}function b0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function j0(e,t,n){return n=n!=null?n.concat([e]):null,Aa(4,4,b0.bind(null,t,e),n)}function Qu(){}function S0(e,t){var n=Et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Hu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function N0(e,t){var n=Et();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Hu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function k0(e,t,n){return _r&21?(zt(n,t)||(n=Pm(),ve.lanes|=n,Rr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ot=!0),e.memoizedState=n)}function Uy(e,t){var n=ie;ie=n!==0&&4>n?n:4,e(!0);var r=Cl.transition;Cl.transition={};try{e(!1),t()}finally{ie=n,Cl.transition=r}}function C0(){return Et().memoizedState}function Hy(e,t,n){var r=Wn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},E0(e))_0(t,n);else if(n=l0(e,t,n,r),n!==null){var i=Xe();Ot(n,e,r,i),R0(n,t,r)}}function Wy(e,t,n){var r=Wn(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(E0(e))_0(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,l=o(a,n);if(i.hasEagerState=!0,i.eagerState=l,zt(l,a)){var c=t.interleaved;c===null?(i.next=i,Fu(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=l0(e,t,i,r),n!==null&&(i=Xe(),Ot(n,e,r,i),R0(n,t,r))}}function E0(e){var t=e.alternate;return e===ve||t!==null&&t===ve}function _0(e,t){ci=ua=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function R0(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Nu(e,n)}}var da={readContext:Ct,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useInsertionEffect:ze,useLayoutEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useMutableSource:ze,useSyncExternalStore:ze,useId:ze,unstable_isNewReconciler:!1},Vy={readContext:Ct,useCallback:function(e,t){return Vt().memoizedState=[e,t===void 0?null:t],e},useContext:Ct,useEffect:vh,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,$o(4194308,4,b0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $o(4194308,4,e,t)},useInsertionEffect:function(e,t){return $o(4,2,e,t)},useMemo:function(e,t){var n=Vt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Vt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Hy.bind(null,ve,e),[r.memoizedState,e]},useRef:function(e){var t=Vt();return e={current:e},t.memoizedState=e},useState:yh,useDebugValue:Qu,useDeferredValue:function(e){return Vt().memoizedState=e},useTransition:function(){var e=yh(!1),t=e[0];return e=Uy.bind(null,e[1]),Vt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ve,i=Vt();if(pe){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),Le===null)throw Error(D(349));_r&30||f0(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,vh(p0.bind(null,r,o,e),[e]),r.flags|=2048,Ri(9,m0.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Vt(),t=Le.identifierPrefix;if(pe){var n=ln,r=an;n=(r&~(1<<32-Ft(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ei++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=By++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},qy={readContext:Ct,useCallback:S0,useContext:Ct,useEffect:qu,useImperativeHandle:j0,useInsertionEffect:v0,useLayoutEffect:w0,useMemo:N0,useReducer:El,useRef:y0,useState:function(){return El(_i)},useDebugValue:Qu,useDeferredValue:function(e){var t=Et();return k0(t,Pe.memoizedState,e)},useTransition:function(){var e=El(_i)[0],t=Et().memoizedState;return[e,t]},useMutableSource:d0,useSyncExternalStore:h0,useId:C0,unstable_isNewReconciler:!1},Qy={readContext:Ct,useCallback:S0,useContext:Ct,useEffect:qu,useImperativeHandle:j0,useInsertionEffect:v0,useLayoutEffect:w0,useMemo:N0,useReducer:_l,useRef:y0,useState:function(){return _l(_i)},useDebugValue:Qu,useDeferredValue:function(e){var t=Et();return Pe===null?t.memoizedState=e:k0(t,Pe.memoizedState,e)},useTransition:function(){var e=_l(_i)[0],t=Et().memoizedState;return[e,t]},useMutableSource:d0,useSyncExternalStore:h0,useId:C0,unstable_isNewReconciler:!1};function Tt(e,t){if(e&&e.defaultProps){t=we({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function wc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:we({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Da={isMounted:function(e){return(e=e._reactInternals)?$r(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xe(),i=Wn(e),o=cn(r,i);o.payload=t,n!=null&&(o.callback=n),t=Un(e,o,i),t!==null&&(Ot(t,e,i,r),Lo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xe(),i=Wn(e),o=cn(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Un(e,o,i),t!==null&&(Ot(t,e,i,r),Lo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xe(),r=Wn(e),i=cn(n,r);i.tag=2,t!=null&&(i.callback=t),t=Un(e,i,r),t!==null&&(Ot(t,e,r,n),Lo(t,e,r))}};function wh(e,t,n,r,i,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!bi(n,r)||!bi(i,o):!0}function P0(e,t,n){var r=!1,i=Jn,o=t.contextType;return typeof o=="object"&&o!==null?o=Ct(o):(i=lt(t)?Cr:qe.current,r=t.contextTypes,o=(r=r!=null)?bs(e,i):Jn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Da,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function bh(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Da.enqueueReplaceState(t,t.state,null)}function bc(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ou(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Ct(o):(o=lt(t)?Cr:qe.current,i.context=bs(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(wc(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Da.enqueueReplaceState(i,i.state,null),la(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ks(e,t){try{var n="",r=t;do n+=bx(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function Rl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function jc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ky=typeof WeakMap=="function"?WeakMap:Map;function T0(e,t,n){n=cn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){fa||(fa=!0,Ac=r),jc(e,t)},n}function A0(e,t,n){n=cn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){jc(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){jc(e,t),typeof r!="function"&&(Hn===null?Hn=new Set([this]):Hn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function jh(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ky;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=lv.bind(null,e,t,n),t.then(e,e))}function Sh(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Nh(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=cn(-1,1),t.tag=2,Un(n,t,1))),n.lanes|=1),e)}var Gy=xn.ReactCurrentOwner,ot=!1;function Ze(e,t,n,r){t.child=e===null?a0(t,null,n,r):Ss(t,e.child,n,r)}function kh(e,t,n,r,i){n=n.render;var o=t.ref;return os(t,i),r=Wu(e,t,n,r,o,i),n=Vu(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,mn(e,t,i)):(pe&&n&&Au(t),t.flags|=1,Ze(e,t,r,i),t.child)}function Ch(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!td(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,D0(e,t,o,r,i)):(e=Bo(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:bi,n(a,r)&&e.ref===t.ref)return mn(e,t,i)}return t.flags|=1,e=Vn(o,r),e.ref=t.ref,e.return=t,t.child=e}function D0(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(bi(o,r)&&e.ref===t.ref)if(ot=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(ot=!0);else return t.lanes=e.lanes,mn(e,t,i)}return Sc(e,t,n,r,i)}function M0(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(es,ft),ft|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ue(es,ft),ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,ue(es,ft),ft|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,ue(es,ft),ft|=r;return Ze(e,t,i,n),t.child}function L0(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Sc(e,t,n,r,i){var o=lt(n)?Cr:qe.current;return o=bs(t,o),os(t,i),n=Wu(e,t,n,r,o,i),r=Vu(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,mn(e,t,i)):(pe&&r&&Au(t),t.flags|=1,Ze(e,t,n,i),t.child)}function Eh(e,t,n,r,i){if(lt(n)){var o=!0;ra(t)}else o=!1;if(os(t,i),t.stateNode===null)Fo(e,t),P0(t,n,r),bc(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ct(u):(u=lt(n)?Cr:qe.current,u=bs(t,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==u)&&bh(t,a,r,u),bn=!1;var m=t.memoizedState;a.state=m,la(t,r,a,i),c=t.memoizedState,l!==r||m!==c||at.current||bn?(typeof h=="function"&&(wc(t,n,h,r),c=t.memoizedState),(l=bn||wh(t,n,l,r,m,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,c0(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Tt(t.type,l),a.props=u,f=t.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ct(c):(c=lt(n)?Cr:qe.current,c=bs(t,c));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||m!==c)&&bh(t,a,r,c),bn=!1,m=t.memoizedState,a.state=m,la(t,r,a,i);var b=t.memoizedState;l!==f||m!==b||at.current||bn?(typeof v=="function"&&(wc(t,n,v,r),b=t.memoizedState),(u=bn||wh(t,n,u,r,m,b,c)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,b,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,b,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=b),a.props=r,a.state=b,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Nc(e,t,n,r,o,i)}function Nc(e,t,n,r,i,o){L0(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&hh(t,n,!1),mn(e,t,o);r=t.stateNode,Gy.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Ss(t,e.child,null,o),t.child=Ss(t,null,l,o)):Ze(e,t,l,o),t.memoizedState=r.state,i&&hh(t,n,!0),t.child}function I0(e){var t=e.stateNode;t.pendingContext?dh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&dh(e,t.context,!1),zu(e,t.containerInfo)}function _h(e,t,n,r,i){return js(),Mu(i),t.flags|=256,Ze(e,t,n,r),t.child}var kc={dehydrated:null,treeContext:null,retryLane:0};function Cc(e){return{baseLanes:e,cachePool:null,transitions:null}}function $0(e,t,n){var r=t.pendingProps,i=xe.current,o=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ue(xe,i&1),e===null)return yc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Ia(a,r,0,null),e=jr(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Cc(n),t.memoizedState=kc,e):Ku(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return Zy(e,t,a,r,l,i,n);if(o){o=r.fallback,a=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Vn(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=Vn(l,o):(o=jr(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?Cc(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=kc,r}return o=e.child,e=o.sibling,r=Vn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ku(e,t){return t=Ia({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bo(e,t,n,r){return r!==null&&Mu(r),Ss(t,e.child,null,n),e=Ku(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Zy(e,t,n,r,i,o,a){if(n)return t.flags&256?(t.flags&=-257,r=Rl(Error(D(422))),bo(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Ia({mode:"visible",children:r.children},i,0,null),o=jr(o,i,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Ss(t,e.child,null,a),t.child.memoizedState=Cc(a),t.memoizedState=kc,o);if(!(t.mode&1))return bo(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(D(419)),r=Rl(o,r,void 0),bo(e,t,a,r)}if(l=(a&e.childLanes)!==0,ot||l){if(r=Le,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,fn(e,i),Ot(r,e,i,-1))}return ed(),r=Rl(Error(D(421))),bo(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=cv.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,pt=Bn(i.nextSibling),xt=t,pe=!0,Lt=null,e!==null&&(jt[St++]=an,jt[St++]=ln,jt[St++]=Er,an=e.id,ln=e.overflow,Er=t),t=Ku(t,r.children),t.flags|=4096,t)}function Rh(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),vc(e.return,t,n)}function Pl(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function F0(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ze(e,t,r.children,n),r=xe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rh(e,n,t);else if(e.tag===19)Rh(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ue(xe,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ca(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Pl(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ca(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Pl(t,!0,n,null,o);break;case"together":Pl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Rr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=Vn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Vn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Jy(e,t,n){switch(t.tag){case 3:I0(t),js();break;case 5:u0(t);break;case 1:lt(t.type)&&ra(t);break;case 4:zu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ue(oa,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ue(xe,xe.current&1),t.flags|=128,null):n&t.child.childLanes?$0(e,t,n):(ue(xe,xe.current&1),e=mn(e,t,n),e!==null?e.sibling:null);ue(xe,xe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return F0(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ue(xe,xe.current),r)break;return null;case 22:case 23:return t.lanes=0,M0(e,t,n)}return mn(e,t,n)}var O0,Ec,z0,B0;O0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ec=function(){};z0=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,cr(Jt.current);var o=null;switch(n){case"input":i=Gl(e,i),r=Gl(e,r),o=[];break;case"select":i=we({},i,{value:void 0}),r=we({},r,{value:void 0}),o=[];break;case"textarea":i=Xl(e,i),r=Xl(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ta)}ec(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(mi.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(mi.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&he("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};B0=function(e,t,n,r){n!==r&&(t.flags|=4)};function Zs(e,t){if(!pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Be(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xy(e,t,n){var r=t.pendingProps;switch(Du(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(t),null;case 1:return lt(t.type)&&na(),Be(t),null;case 3:return r=t.stateNode,Ns(),me(at),me(qe),Uu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(vo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Lt!==null&&(Lc(Lt),Lt=null))),Ec(e,t),Be(t),null;case 5:Bu(t);var i=cr(Ci.current);if(n=t.type,e!==null&&t.stateNode!=null)z0(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(D(166));return Be(t),null}if(e=cr(Jt.current),vo(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Gt]=t,r[Ni]=o,e=(t.mode&1)!==0,n){case"dialog":he("cancel",r),he("close",r);break;case"iframe":case"object":case"embed":he("load",r);break;case"video":case"audio":for(i=0;i<ni.length;i++)he(ni[i],r);break;case"source":he("error",r);break;case"img":case"image":case"link":he("error",r),he("load",r);break;case"details":he("toggle",r);break;case"input":Fd(r,o),he("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},he("invalid",r);break;case"textarea":zd(r,o),he("invalid",r)}ec(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&yo(r.textContent,l,e),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&yo(r.textContent,l,e),i=["children",""+l]):mi.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&he("scroll",r)}switch(n){case"input":co(r),Od(r,o,!0);break;case"textarea":co(r),Bd(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ta)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=pm(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Gt]=t,e[Ni]=r,O0(e,t,!1,!1),t.stateNode=e;e:{switch(a=tc(n,r),n){case"dialog":he("cancel",e),he("close",e),i=r;break;case"iframe":case"object":case"embed":he("load",e),i=r;break;case"video":case"audio":for(i=0;i<ni.length;i++)he(ni[i],e);i=r;break;case"source":he("error",e),i=r;break;case"img":case"image":case"link":he("error",e),he("load",e),i=r;break;case"details":he("toggle",e),i=r;break;case"input":Fd(e,r),i=Gl(e,r),he("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=we({},r,{value:void 0}),he("invalid",e);break;case"textarea":zd(e,r),i=Xl(e,r),he("invalid",e);break;default:i=r}ec(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?ym(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&gm(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&pi(e,c):typeof c=="number"&&pi(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(mi.hasOwnProperty(o)?c!=null&&o==="onScroll"&&he("scroll",e):c!=null&&yu(e,o,c,a))}switch(n){case"input":co(e),Od(e,r,!1);break;case"textarea":co(e),Bd(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Zn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?ns(e,!!r.multiple,o,!1):r.defaultValue!=null&&ns(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=ta)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Be(t),null;case 6:if(e&&t.stateNode!=null)B0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(D(166));if(n=cr(Ci.current),cr(Jt.current),vo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Gt]=t,(o=r.nodeValue!==n)&&(e=xt,e!==null))switch(e.tag){case 3:yo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&yo(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gt]=t,t.stateNode=r}return Be(t),null;case 13:if(me(xe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pe&&pt!==null&&t.mode&1&&!(t.flags&128))i0(),js(),t.flags|=98560,o=!1;else if(o=vo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(D(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(D(317));o[Gt]=t}else js(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Be(t),o=!1}else Lt!==null&&(Lc(Lt),Lt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||xe.current&1?Ae===0&&(Ae=3):ed())),t.updateQueue!==null&&(t.flags|=4),Be(t),null);case 4:return Ns(),Ec(e,t),e===null&&ji(t.stateNode.containerInfo),Be(t),null;case 10:return $u(t.type._context),Be(t),null;case 17:return lt(t.type)&&na(),Be(t),null;case 19:if(me(xe),o=t.memoizedState,o===null)return Be(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)Zs(o,!1);else{if(Ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=ca(e),a!==null){for(t.flags|=128,Zs(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ue(xe,xe.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ne()>Cs&&(t.flags|=128,r=!0,Zs(o,!1),t.lanes=4194304)}else{if(!r)if(e=ca(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Zs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!pe)return Be(t),null}else 2*Ne()-o.renderingStartTime>Cs&&n!==1073741824&&(t.flags|=128,r=!0,Zs(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ne(),t.sibling=null,n=xe.current,ue(xe,r?n&1|2:n&1),t):(Be(t),null);case 22:case 23:return Yu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ft&1073741824&&(Be(t),t.subtreeFlags&6&&(t.flags|=8192)):Be(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function Yy(e,t){switch(Du(t),t.tag){case 1:return lt(t.type)&&na(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ns(),me(at),me(qe),Uu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Bu(t),null;case 13:if(me(xe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));js()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(xe),null;case 4:return Ns(),null;case 10:return $u(t.type._context),null;case 22:case 23:return Yu(),null;case 24:return null;default:return null}}var jo=!1,He=!1,ev=typeof WeakSet=="function"?WeakSet:Set,F=null;function Yr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Se(e,t,r)}else n.current=null}function _c(e,t,n){try{n()}catch(r){Se(e,t,r)}}var Ph=!1;function tv(e,t){if(dc=Xo,e=qm(),Tu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,f=e,m=null;t:for(;;){for(var v;f!==n||i!==0&&f.nodeType!==3||(l=a+i),f!==o||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(v=f.firstChild)!==null;)m=f,f=v;for(;;){if(f===e)break t;if(m===n&&++u===i&&(l=a),m===o&&++h===r&&(c=a),(v=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=v}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(hc={focusedElem:e,selectionRange:n},Xo=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var w=b.memoizedProps,x=b.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?w:Tt(t.type,w),x);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(j){Se(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return b=Ph,Ph=!1,b}function ui(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&_c(t,n,o)}i=i.next}while(i!==r)}}function Ma(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Rc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function U0(e){var t=e.alternate;t!==null&&(e.alternate=null,U0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Gt],delete t[Ni],delete t[pc],delete t[$y],delete t[Fy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function H0(e){return e.tag===5||e.tag===3||e.tag===4}function Th(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||H0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ta));else if(r!==4&&(e=e.child,e!==null))for(Pc(e,t,n),e=e.sibling;e!==null;)Pc(e,t,n),e=e.sibling}function Tc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Tc(e,t,n),e=e.sibling;e!==null;)Tc(e,t,n),e=e.sibling}var Ie=null,Mt=!1;function yn(e,t,n){for(n=n.child;n!==null;)W0(e,t,n),n=n.sibling}function W0(e,t,n){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Ca,n)}catch{}switch(n.tag){case 5:He||Yr(n,t);case 6:var r=Ie,i=Mt;Ie=null,yn(e,t,n),Ie=r,Mt=i,Ie!==null&&(Mt?(e=Ie,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ie.removeChild(n.stateNode));break;case 18:Ie!==null&&(Mt?(e=Ie,n=n.stateNode,e.nodeType===8?Sl(e.parentNode,n):e.nodeType===1&&Sl(e,n),vi(e)):Sl(Ie,n.stateNode));break;case 4:r=Ie,i=Mt,Ie=n.stateNode.containerInfo,Mt=!0,yn(e,t,n),Ie=r,Mt=i;break;case 0:case 11:case 14:case 15:if(!He&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&_c(n,t,a),i=i.next}while(i!==r)}yn(e,t,n);break;case 1:if(!He&&(Yr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Se(n,t,l)}yn(e,t,n);break;case 21:yn(e,t,n);break;case 22:n.mode&1?(He=(r=He)||n.memoizedState!==null,yn(e,t,n),He=r):yn(e,t,n);break;default:yn(e,t,n)}}function Ah(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ev),t.forEach(function(r){var i=uv.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Rt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Ie=l.stateNode,Mt=!1;break e;case 3:Ie=l.stateNode.containerInfo,Mt=!0;break e;case 4:Ie=l.stateNode.containerInfo,Mt=!0;break e}l=l.return}if(Ie===null)throw Error(D(160));W0(o,a,i),Ie=null,Mt=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Se(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)V0(t,e),t=t.sibling}function V0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Rt(t,e),Ut(e),r&4){try{ui(3,e,e.return),Ma(3,e)}catch(w){Se(e,e.return,w)}try{ui(5,e,e.return)}catch(w){Se(e,e.return,w)}}break;case 1:Rt(t,e),Ut(e),r&512&&n!==null&&Yr(n,n.return);break;case 5:if(Rt(t,e),Ut(e),r&512&&n!==null&&Yr(n,n.return),e.flags&32){var i=e.stateNode;try{pi(i,"")}catch(w){Se(e,e.return,w)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&fm(i,o),tc(l,a);var u=tc(l,o);for(a=0;a<c.length;a+=2){var h=c[a],f=c[a+1];h==="style"?ym(i,f):h==="dangerouslySetInnerHTML"?gm(i,f):h==="children"?pi(i,f):yu(i,h,f,u)}switch(l){case"input":Zl(i,o);break;case"textarea":mm(i,o);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?ns(i,!!o.multiple,v,!1):m!==!!o.multiple&&(o.defaultValue!=null?ns(i,!!o.multiple,o.defaultValue,!0):ns(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ni]=o}catch(w){Se(e,e.return,w)}}break;case 6:if(Rt(t,e),Ut(e),r&4){if(e.stateNode===null)throw Error(D(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(w){Se(e,e.return,w)}}break;case 3:if(Rt(t,e),Ut(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vi(t.containerInfo)}catch(w){Se(e,e.return,w)}break;case 4:Rt(t,e),Ut(e);break;case 13:Rt(t,e),Ut(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Ju=Ne())),r&4&&Ah(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(He=(u=He)||h,Rt(t,e),He=u):Rt(t,e),Ut(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(F=e,h=e.child;h!==null;){for(f=F=h;F!==null;){switch(m=F,v=m.child,m.tag){case 0:case 11:case 14:case 15:ui(4,m,m.return);break;case 1:Yr(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(w){Se(r,n,w)}}break;case 5:Yr(m,m.return);break;case 22:if(m.memoizedState!==null){Mh(f);continue}}v!==null?(v.return=m,F=v):Mh(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=xm("display",a))}catch(w){Se(e,e.return,w)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){Se(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Rt(t,e),Ut(e),r&4&&Ah(e);break;case 21:break;default:Rt(t,e),Ut(e)}}function Ut(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(H0(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(pi(i,""),r.flags&=-33);var o=Th(e);Tc(e,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Th(e);Pc(e,l,a);break;default:throw Error(D(161))}}catch(c){Se(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function nv(e,t,n){F=e,q0(e)}function q0(e,t,n){for(var r=(e.mode&1)!==0;F!==null;){var i=F,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||jo;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||He;l=jo;var u=He;if(jo=a,(He=c)&&!u)for(F=i;F!==null;)a=F,c=a.child,a.tag===22&&a.memoizedState!==null?Lh(i):c!==null?(c.return=a,F=c):Lh(i);for(;o!==null;)F=o,q0(o),o=o.sibling;F=i,jo=l,He=u}Dh(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,F=o):Dh(e)}}function Dh(e){for(;F!==null;){var t=F;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:He||Ma(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!He)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Tt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&xh(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}xh(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&vi(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}He||t.flags&512&&Rc(t)}catch(m){Se(t,t.return,m)}}if(t===e){F=null;break}if(n=t.sibling,n!==null){n.return=t.return,F=n;break}F=t.return}}function Mh(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var n=t.sibling;if(n!==null){n.return=t.return,F=n;break}F=t.return}}function Lh(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ma(4,t)}catch(c){Se(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){Se(t,i,c)}}var o=t.return;try{Rc(t)}catch(c){Se(t,o,c)}break;case 5:var a=t.return;try{Rc(t)}catch(c){Se(t,a,c)}}}catch(c){Se(t,t.return,c)}if(t===e){F=null;break}var l=t.sibling;if(l!==null){l.return=t.return,F=l;break}F=t.return}}var rv=Math.ceil,ha=xn.ReactCurrentDispatcher,Gu=xn.ReactCurrentOwner,kt=xn.ReactCurrentBatchConfig,ee=0,Le=null,_e=null,$e=0,ft=0,es=er(0),Ae=0,Pi=null,Rr=0,La=0,Zu=0,di=null,it=null,Ju=0,Cs=1/0,nn=null,fa=!1,Ac=null,Hn=null,So=!1,In=null,ma=0,hi=0,Dc=null,Oo=-1,zo=0;function Xe(){return ee&6?Ne():Oo!==-1?Oo:Oo=Ne()}function Wn(e){return e.mode&1?ee&2&&$e!==0?$e&-$e:zy.transition!==null?(zo===0&&(zo=Pm()),zo):(e=ie,e!==0||(e=window.event,e=e===void 0?16:$m(e.type)),e):1}function Ot(e,t,n,r){if(50<hi)throw hi=0,Dc=null,Error(D(185));Ki(e,n,r),(!(ee&2)||e!==Le)&&(e===Le&&(!(ee&2)&&(La|=n),Ae===4&&Sn(e,$e)),ct(e,r),n===1&&ee===0&&!(t.mode&1)&&(Cs=Ne()+500,Ta&&tr()))}function ct(e,t){var n=e.callbackNode;zx(e,t);var r=Jo(e,e===Le?$e:0);if(r===0)n!==null&&Wd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Wd(n),t===1)e.tag===0?Oy(Ih.bind(null,e)):n0(Ih.bind(null,e)),Ly(function(){!(ee&6)&&tr()}),n=null;else{switch(Tm(r)){case 1:n=Su;break;case 4:n=_m;break;case 16:n=Zo;break;case 536870912:n=Rm;break;default:n=Zo}n=ep(n,Q0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Q0(e,t){if(Oo=-1,zo=0,ee&6)throw Error(D(327));var n=e.callbackNode;if(as()&&e.callbackNode!==n)return null;var r=Jo(e,e===Le?$e:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=pa(e,r);else{t=r;var i=ee;ee|=2;var o=G0();(Le!==e||$e!==t)&&(nn=null,Cs=Ne()+500,br(e,t));do try{ov();break}catch(l){K0(e,l)}while(!0);Iu(),ha.current=o,ee=i,_e!==null?t=0:(Le=null,$e=0,t=Ae)}if(t!==0){if(t===2&&(i=oc(e),i!==0&&(r=i,t=Mc(e,i))),t===1)throw n=Pi,br(e,0),Sn(e,r),ct(e,Ne()),n;if(t===6)Sn(e,r);else{if(i=e.current.alternate,!(r&30)&&!sv(i)&&(t=pa(e,r),t===2&&(o=oc(e),o!==0&&(r=o,t=Mc(e,o))),t===1))throw n=Pi,br(e,0),Sn(e,r),ct(e,Ne()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(D(345));case 2:or(e,it,nn);break;case 3:if(Sn(e,r),(r&130023424)===r&&(t=Ju+500-Ne(),10<t)){if(Jo(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Xe(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=mc(or.bind(null,e,it,nn),t);break}or(e,it,nn);break;case 4:if(Sn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Ft(r);o=1<<a,a=t[a],a>i&&(i=a),r&=~o}if(r=i,r=Ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rv(r/1960))-r,10<r){e.timeoutHandle=mc(or.bind(null,e,it,nn),r);break}or(e,it,nn);break;case 5:or(e,it,nn);break;default:throw Error(D(329))}}}return ct(e,Ne()),e.callbackNode===n?Q0.bind(null,e):null}function Mc(e,t){var n=di;return e.current.memoizedState.isDehydrated&&(br(e,t).flags|=256),e=pa(e,t),e!==2&&(t=it,it=n,t!==null&&Lc(t)),e}function Lc(e){it===null?it=e:it.push.apply(it,e)}function sv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!zt(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Sn(e,t){for(t&=~Zu,t&=~La,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ft(t),r=1<<n;e[n]=-1,t&=~r}}function Ih(e){if(ee&6)throw Error(D(327));as();var t=Jo(e,0);if(!(t&1))return ct(e,Ne()),null;var n=pa(e,t);if(e.tag!==0&&n===2){var r=oc(e);r!==0&&(t=r,n=Mc(e,r))}if(n===1)throw n=Pi,br(e,0),Sn(e,t),ct(e,Ne()),n;if(n===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,or(e,it,nn),ct(e,Ne()),null}function Xu(e,t){var n=ee;ee|=1;try{return e(t)}finally{ee=n,ee===0&&(Cs=Ne()+500,Ta&&tr())}}function Pr(e){In!==null&&In.tag===0&&!(ee&6)&&as();var t=ee;ee|=1;var n=kt.transition,r=ie;try{if(kt.transition=null,ie=1,e)return e()}finally{ie=r,kt.transition=n,ee=t,!(ee&6)&&tr()}}function Yu(){ft=es.current,me(es)}function br(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,My(n)),_e!==null)for(n=_e.return;n!==null;){var r=n;switch(Du(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&na();break;case 3:Ns(),me(at),me(qe),Uu();break;case 5:Bu(r);break;case 4:Ns();break;case 13:me(xe);break;case 19:me(xe);break;case 10:$u(r.type._context);break;case 22:case 23:Yu()}n=n.return}if(Le=e,_e=e=Vn(e.current,null),$e=ft=t,Ae=0,Pi=null,Zu=La=Rr=0,it=di=null,lr!==null){for(t=0;t<lr.length;t++)if(n=lr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}lr=null}return e}function K0(e,t){do{var n=_e;try{if(Iu(),Io.current=da,ua){for(var r=ve.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ua=!1}if(_r=0,De=Pe=ve=null,ci=!1,Ei=0,Gu.current=null,n===null||n.return===null){Ae=1,Pi=t,_e=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=$e,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=l,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=Sh(a);if(v!==null){v.flags&=-257,Nh(v,a,l,o,t),v.mode&1&&jh(o,u,t),t=v,c=u;var b=t.updateQueue;if(b===null){var w=new Set;w.add(c),t.updateQueue=w}else b.add(c);break e}else{if(!(t&1)){jh(o,u,t),ed();break e}c=Error(D(426))}}else if(pe&&l.mode&1){var x=Sh(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Nh(x,a,l,o,t),Mu(ks(c,l));break e}}o=c=ks(c,l),Ae!==4&&(Ae=2),di===null?di=[o]:di.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var g=T0(o,c,t);gh(o,g);break e;case 1:l=c;var p=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Hn===null||!Hn.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var j=A0(o,l,t);gh(o,j);break e}}o=o.return}while(o!==null)}J0(n)}catch(S){t=S,_e===n&&n!==null&&(_e=n=n.return);continue}break}while(!0)}function G0(){var e=ha.current;return ha.current=da,e===null?da:e}function ed(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),Le===null||!(Rr&268435455)&&!(La&268435455)||Sn(Le,$e)}function pa(e,t){var n=ee;ee|=2;var r=G0();(Le!==e||$e!==t)&&(nn=null,br(e,t));do try{iv();break}catch(i){K0(e,i)}while(!0);if(Iu(),ee=n,ha.current=r,_e!==null)throw Error(D(261));return Le=null,$e=0,Ae}function iv(){for(;_e!==null;)Z0(_e)}function ov(){for(;_e!==null&&!Tx();)Z0(_e)}function Z0(e){var t=Y0(e.alternate,e,ft);e.memoizedProps=e.pendingProps,t===null?J0(e):_e=t,Gu.current=null}function J0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Yy(n,t),n!==null){n.flags&=32767,_e=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,_e=null;return}}else if(n=Xy(n,t,ft),n!==null){_e=n;return}if(t=t.sibling,t!==null){_e=t;return}_e=t=e}while(t!==null);Ae===0&&(Ae=5)}function or(e,t,n){var r=ie,i=kt.transition;try{kt.transition=null,ie=1,av(e,t,n,r)}finally{kt.transition=i,ie=r}return null}function av(e,t,n,r){do as();while(In!==null);if(ee&6)throw Error(D(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Bx(e,o),e===Le&&(_e=Le=null,$e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||So||(So=!0,ep(Zo,function(){return as(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=kt.transition,kt.transition=null;var a=ie;ie=1;var l=ee;ee|=4,Gu.current=null,tv(e,n),V0(n,e),Ey(hc),Xo=!!dc,hc=dc=null,e.current=n,nv(n),Ax(),ee=l,ie=a,kt.transition=o}else e.current=n;if(So&&(So=!1,In=e,ma=i),o=e.pendingLanes,o===0&&(Hn=null),Lx(n.stateNode),ct(e,Ne()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(fa)throw fa=!1,e=Ac,Ac=null,e;return ma&1&&e.tag!==0&&as(),o=e.pendingLanes,o&1?e===Dc?hi++:(hi=0,Dc=e):hi=0,tr(),null}function as(){if(In!==null){var e=Tm(ma),t=kt.transition,n=ie;try{if(kt.transition=null,ie=16>e?16:e,In===null)var r=!1;else{if(e=In,In=null,ma=0,ee&6)throw Error(D(331));var i=ee;for(ee|=4,F=e.current;F!==null;){var o=F,a=o.child;if(F.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(F=u;F!==null;){var h=F;switch(h.tag){case 0:case 11:case 15:ui(8,h,o)}var f=h.child;if(f!==null)f.return=h,F=f;else for(;F!==null;){h=F;var m=h.sibling,v=h.return;if(U0(h),h===u){F=null;break}if(m!==null){m.return=v,F=m;break}F=v}}}var b=o.alternate;if(b!==null){var w=b.child;if(w!==null){b.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}F=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,F=a;else e:for(;F!==null;){if(o=F,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ui(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,F=g;break e}F=o.return}}var p=e.current;for(F=p;F!==null;){a=F;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,F=y;else e:for(a=p;F!==null;){if(l=F,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ma(9,l)}}catch(S){Se(l,l.return,S)}if(l===a){F=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,F=j;break e}F=l.return}}if(ee=i,tr(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Ca,e)}catch{}r=!0}return r}finally{ie=n,kt.transition=t}}return!1}function $h(e,t,n){t=ks(n,t),t=T0(e,t,1),e=Un(e,t,1),t=Xe(),e!==null&&(Ki(e,1,t),ct(e,t))}function Se(e,t,n){if(e.tag===3)$h(e,e,n);else for(;t!==null;){if(t.tag===3){$h(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hn===null||!Hn.has(r))){e=ks(n,e),e=A0(t,e,1),t=Un(t,e,1),e=Xe(),t!==null&&(Ki(t,1,e),ct(t,e));break}}t=t.return}}function lv(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Xe(),e.pingedLanes|=e.suspendedLanes&n,Le===e&&($e&n)===n&&(Ae===4||Ae===3&&($e&130023424)===$e&&500>Ne()-Ju?br(e,0):Zu|=n),ct(e,t)}function X0(e,t){t===0&&(e.mode&1?(t=fo,fo<<=1,!(fo&130023424)&&(fo=4194304)):t=1);var n=Xe();e=fn(e,t),e!==null&&(Ki(e,t,n),ct(e,n))}function cv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),X0(e,n)}function uv(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(t),X0(e,n)}var Y0;Y0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||at.current)ot=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ot=!1,Jy(e,t,n);ot=!!(e.flags&131072)}else ot=!1,pe&&t.flags&1048576&&r0(t,ia,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Fo(e,t),e=t.pendingProps;var i=bs(t,qe.current);os(t,n),i=Wu(null,t,r,e,i,n);var o=Vu();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,lt(r)?(o=!0,ra(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ou(t),i.updater=Da,t.stateNode=i,i._reactInternals=t,bc(t,r,e,n),t=Nc(null,t,r,!0,o,n)):(t.tag=0,pe&&o&&Au(t),Ze(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Fo(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=hv(r),e=Tt(r,e),i){case 0:t=Sc(null,t,r,e,n);break e;case 1:t=Eh(null,t,r,e,n);break e;case 11:t=kh(null,t,r,e,n);break e;case 14:t=Ch(null,t,r,Tt(r.type,e),n);break e}throw Error(D(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Tt(r,i),Sc(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Tt(r,i),Eh(e,t,r,i,n);case 3:e:{if(I0(t),e===null)throw Error(D(387));r=t.pendingProps,o=t.memoizedState,i=o.element,c0(e,t),la(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=ks(Error(D(423)),t),t=_h(e,t,r,n,i);break e}else if(r!==i){i=ks(Error(D(424)),t),t=_h(e,t,r,n,i);break e}else for(pt=Bn(t.stateNode.containerInfo.firstChild),xt=t,pe=!0,Lt=null,n=a0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(js(),r===i){t=mn(e,t,n);break e}Ze(e,t,r,n)}t=t.child}return t;case 5:return u0(t),e===null&&yc(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,a=i.children,fc(r,i)?a=null:o!==null&&fc(r,o)&&(t.flags|=32),L0(e,t),Ze(e,t,a,n),t.child;case 6:return e===null&&yc(t),null;case 13:return $0(e,t,n);case 4:return zu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Ss(t,null,r,n):Ze(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Tt(r,i),kh(e,t,r,i,n);case 7:return Ze(e,t,t.pendingProps,n),t.child;case 8:return Ze(e,t,t.pendingProps.children,n),t.child;case 12:return Ze(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,ue(oa,r._currentValue),r._currentValue=a,o!==null)if(zt(o.value,a)){if(o.children===i.children&&!at.current){t=mn(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=cn(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),vc(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(D(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),vc(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Ze(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,os(t,n),i=Ct(i),r=r(i),t.flags|=1,Ze(e,t,r,n),t.child;case 14:return r=t.type,i=Tt(r,t.pendingProps),i=Tt(r.type,i),Ch(e,t,r,i,n);case 15:return D0(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Tt(r,i),Fo(e,t),t.tag=1,lt(r)?(e=!0,ra(t)):e=!1,os(t,n),P0(t,r,i),bc(t,r,i,n),Nc(null,t,r,!0,e,n);case 19:return F0(e,t,n);case 22:return M0(e,t,n)}throw Error(D(156,t.tag))};function ep(e,t){return Em(e,t)}function dv(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,n,r){return new dv(e,t,n,r)}function td(e){return e=e.prototype,!(!e||!e.isReactComponent)}function hv(e){if(typeof e=="function")return td(e)?1:0;if(e!=null){if(e=e.$$typeof,e===wu)return 11;if(e===bu)return 14}return 2}function Vn(e,t){var n=e.alternate;return n===null?(n=Nt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Bo(e,t,n,r,i,o){var a=2;if(r=e,typeof e=="function")td(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Wr:return jr(n.children,i,o,t);case vu:a=8,i|=8;break;case Vl:return e=Nt(12,n,t,i|2),e.elementType=Vl,e.lanes=o,e;case ql:return e=Nt(13,n,t,i),e.elementType=ql,e.lanes=o,e;case Ql:return e=Nt(19,n,t,i),e.elementType=Ql,e.lanes=o,e;case um:return Ia(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lm:a=10;break e;case cm:a=9;break e;case wu:a=11;break e;case bu:a=14;break e;case wn:a=16,r=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=Nt(a,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function jr(e,t,n,r){return e=Nt(7,e,r,t),e.lanes=n,e}function Ia(e,t,n,r){return e=Nt(22,e,r,t),e.elementType=um,e.lanes=n,e.stateNode={isHidden:!1},e}function Tl(e,t,n){return e=Nt(6,e,null,t),e.lanes=n,e}function Al(e,t,n){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fv(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hl(0),this.expirationTimes=hl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hl(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function nd(e,t,n,r,i,o,a,l,c){return e=new fv(e,t,n,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Nt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ou(o),e}function mv(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function tp(e){if(!e)return Jn;e=e._reactInternals;e:{if($r(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var n=e.type;if(lt(n))return t0(e,n,t)}return t}function np(e,t,n,r,i,o,a,l,c){return e=nd(n,r,!0,e,i,o,a,l,c),e.context=tp(null),n=e.current,r=Xe(),i=Wn(n),o=cn(r,i),o.callback=t??null,Un(n,o,i),e.current.lanes=i,Ki(e,i,r),ct(e,r),e}function $a(e,t,n,r){var i=t.current,o=Xe(),a=Wn(i);return n=tp(n),t.context===null?t.context=n:t.pendingContext=n,t=cn(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Un(i,t,a),e!==null&&(Ot(e,i,a,o),Lo(e,i,a)),a}function ga(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Fh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function rd(e,t){Fh(e,t),(e=e.alternate)&&Fh(e,t)}function pv(){return null}var rp=typeof reportError=="function"?reportError:function(e){console.error(e)};function sd(e){this._internalRoot=e}Fa.prototype.render=sd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));$a(e,t,null,null)};Fa.prototype.unmount=sd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pr(function(){$a(null,e,null,null)}),t[hn]=null}};function Fa(e){this._internalRoot=e}Fa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mm();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jn.length&&t!==0&&t<jn[n].priority;n++);jn.splice(n,0,e),n===0&&Im(e)}};function id(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Oa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Oh(){}function gv(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=ga(a);o.call(u)}}var a=np(t,r,e,0,null,!1,!1,"",Oh);return e._reactRootContainer=a,e[hn]=a.current,ji(e.nodeType===8?e.parentNode:e),Pr(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var u=ga(c);l.call(u)}}var c=nd(e,0,!1,null,null,!1,!1,"",Oh);return e._reactRootContainer=c,e[hn]=c.current,ji(e.nodeType===8?e.parentNode:e),Pr(function(){$a(t,c,n,r)}),c}function za(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var l=i;i=function(){var c=ga(a);l.call(c)}}$a(t,a,e,i)}else a=gv(n,t,e,i,r);return ga(a)}Am=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ti(t.pendingLanes);n!==0&&(Nu(t,n|1),ct(t,Ne()),!(ee&6)&&(Cs=Ne()+500,tr()))}break;case 13:Pr(function(){var r=fn(e,1);if(r!==null){var i=Xe();Ot(r,e,1,i)}}),rd(e,1)}};ku=function(e){if(e.tag===13){var t=fn(e,134217728);if(t!==null){var n=Xe();Ot(t,e,134217728,n)}rd(e,134217728)}};Dm=function(e){if(e.tag===13){var t=Wn(e),n=fn(e,t);if(n!==null){var r=Xe();Ot(n,e,t,r)}rd(e,t)}};Mm=function(){return ie};Lm=function(e,t){var n=ie;try{return ie=e,t()}finally{ie=n}};rc=function(e,t,n){switch(t){case"input":if(Zl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Pa(r);if(!i)throw Error(D(90));hm(r),Zl(r,i)}}}break;case"textarea":mm(e,n);break;case"select":t=n.value,t!=null&&ns(e,!!n.multiple,t,!1)}};bm=Xu;jm=Pr;var xv={usingClientEntryPoint:!1,Events:[Zi,Kr,Pa,vm,wm,Xu]},Js={findFiberByHostInstance:ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yv={bundleType:Js.bundleType,version:Js.version,rendererPackageName:Js.rendererPackageName,rendererConfig:Js.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=km(e),e===null?null:e.stateNode},findFiberByHostInstance:Js.findFiberByHostInstance||pv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var No=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!No.isDisabled&&No.supportsFiber)try{Ca=No.inject(yv),Zt=No}catch{}}vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xv;vt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!id(t))throw Error(D(200));return mv(e,t,null,n)};vt.createRoot=function(e,t){if(!id(e))throw Error(D(299));var n=!1,r="",i=rp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=nd(e,1,!1,null,null,n,!1,r,i),e[hn]=t.current,ji(e.nodeType===8?e.parentNode:e),new sd(t)};vt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=km(t),e=e===null?null:e.stateNode,e};vt.flushSync=function(e){return Pr(e)};vt.hydrate=function(e,t,n){if(!Oa(t))throw Error(D(200));return za(null,e,t,!0,n)};vt.hydrateRoot=function(e,t,n){if(!id(e))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=rp;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=np(t,null,e,1,n??null,i,!1,o,a),e[hn]=t.current,ji(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Fa(t)};vt.render=function(e,t,n){if(!Oa(t))throw Error(D(200));return za(null,e,t,!1,n)};vt.unmountComponentAtNode=function(e){if(!Oa(e))throw Error(D(40));return e._reactRootContainer?(Pr(function(){za(null,null,e,!1,function(){e._reactRootContainer=null,e[hn]=null})}),!0):!1};vt.unstable_batchedUpdates=Xu;vt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Oa(n))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return za(e,t,n,!1,r)};vt.version="18.3.1-next-f1338f8080-20240426";function sp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sp)}catch(e){console.error(e)}}sp(),sm.exports=vt;var vv=sm.exports,ip,zh=vv;ip=zh.createRoot,zh.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ti(){return Ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ti.apply(this,arguments)}var $n;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})($n||($n={}));const Bh="popstate";function wv(e){e===void 0&&(e={});function t(r,i){let{pathname:o,search:a,hash:l}=r.location;return Ic("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:xa(i)}return jv(t,n,null,e)}function Re(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function op(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function bv(){return Math.random().toString(36).substr(2,8)}function Uh(e,t){return{usr:e.state,key:e.key,idx:t}}function Ic(e,t,n,r){return n===void 0&&(n=null),Ti({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?$s(t):t,{state:n,key:t&&t.key||r||bv()})}function xa(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function $s(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function jv(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,l=$n.Pop,c=null,u=h();u==null&&(u=0,a.replaceState(Ti({},a.state,{idx:u}),""));function h(){return(a.state||{idx:null}).idx}function f(){l=$n.Pop;let x=h(),g=x==null?null:x-u;u=x,c&&c({action:l,location:w.location,delta:g})}function m(x,g){l=$n.Push;let p=Ic(w.location,x,g);u=h()+1;let y=Uh(p,u),j=w.createHref(p);try{a.pushState(y,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(j)}o&&c&&c({action:l,location:w.location,delta:1})}function v(x,g){l=$n.Replace;let p=Ic(w.location,x,g);u=h();let y=Uh(p,u),j=w.createHref(p);a.replaceState(y,"",j),o&&c&&c({action:l,location:w.location,delta:0})}function b(x){let g=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof x=="string"?x:xa(x);return p=p.replace(/ $/,"%20"),Re(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let w={get action(){return l},get location(){return e(i,a)},listen(x){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Bh,f),c=x,()=>{i.removeEventListener(Bh,f),c=null}},createHref(x){return t(i,x)},createURL:b,encodeLocation(x){let g=b(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:m,replace:v,go(x){return a.go(x)}};return w}var Hh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Hh||(Hh={}));function Sv(e,t,n){return n===void 0&&(n="/"),Nv(e,t,n)}function Nv(e,t,n,r){let i=typeof t=="string"?$s(t):t,o=od(i.pathname||"/",n);if(o==null)return null;let a=ap(e);kv(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let u=$v(o);l=Mv(a[c],u)}return l}function ap(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,l)=>{let c={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};c.relativePath.startsWith("/")&&(Re(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=qn([r,c.relativePath]),h=n.concat(c);o.children&&o.children.length>0&&(Re(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ap(o.children,t,h,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:Av(u,o.index),routesMeta:h})};return e.forEach((o,a)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,a);else for(let c of lp(o.path))i(o,a,c)}),t}function lp(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=lp(r.join("/")),l=[];return l.push(...a.map(c=>c===""?o:[o,c].join("/"))),i&&l.push(...a),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function kv(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Dv(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Cv=/^:[\w-]+$/,Ev=3,_v=2,Rv=1,Pv=10,Tv=-2,Wh=e=>e==="*";function Av(e,t){let n=e.split("/"),r=n.length;return n.some(Wh)&&(r+=Tv),t&&(r+=_v),n.filter(i=>!Wh(i)).reduce((i,o)=>i+(Cv.test(o)?Ev:o===""?Rv:Pv),r)}function Dv(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Mv(e,t,n){let{routesMeta:r}=e,i={},o="/",a=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,h=o==="/"?t:t.slice(o.length)||"/",f=Lv({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),m=c.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:qn([o,f.pathname]),pathnameBase:Bv(qn([o,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(o=qn([o,f.pathnameBase]))}return a}function Lv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Iv(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((u,h,f)=>{let{paramName:m,isOptional:v}=h;if(m==="*"){let w=l[f]||"";a=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const b=l[f];return v&&!b?u[m]=void 0:u[m]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:e}}function Iv(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),op(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function $v(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return op(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function od(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Fv(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?$s(e):e;return{pathname:n?n.startsWith("/")?n:Ov(n,t):t,search:Uv(r),hash:Hv(i)}}function Ov(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Dl(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zv(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function cp(e,t){let n=zv(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function up(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=$s(e):(i=Ti({},e),Re(!i.pathname||!i.pathname.includes("?"),Dl("?","pathname","search",i)),Re(!i.pathname||!i.pathname.includes("#"),Dl("#","pathname","hash",i)),Re(!i.search||!i.search.includes("#"),Dl("#","search","hash",i)));let o=e===""||i.pathname==="",a=o?"/":i.pathname,l;if(a==null)l=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}l=f>=0?t[f]:"/"}let c=Fv(i,l),u=a&&a!=="/"&&a.endsWith("/"),h=(o||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const qn=e=>e.join("/").replace(/\/\/+/g,"/"),Bv=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Uv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Hv=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Wv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const dp=["post","put","patch","delete"];new Set(dp);const Vv=["get",...dp];new Set(Vv);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ai(){return Ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ai.apply(this,arguments)}const ad=d.createContext(null),qv=d.createContext(null),Fr=d.createContext(null),Ba=d.createContext(null),Or=d.createContext({outlet:null,matches:[],isDataRoute:!1}),hp=d.createContext(null);function Qv(e,t){let{relative:n}=t===void 0?{}:t;Xi()||Re(!1);let{basename:r,navigator:i}=d.useContext(Fr),{hash:o,pathname:a,search:l}=mp(e,{relative:n}),c=a;return r!=="/"&&(c=a==="/"?r:qn([r,a])),i.createHref({pathname:c,search:l,hash:o})}function Xi(){return d.useContext(Ba)!=null}function Ua(){return Xi()||Re(!1),d.useContext(Ba).location}function fp(e){d.useContext(Fr).static||d.useLayoutEffect(e)}function Ha(){let{isDataRoute:e}=d.useContext(Or);return e?o1():Kv()}function Kv(){Xi()||Re(!1);let e=d.useContext(ad),{basename:t,future:n,navigator:r}=d.useContext(Fr),{matches:i}=d.useContext(Or),{pathname:o}=Ua(),a=JSON.stringify(cp(i,n.v7_relativeSplatPath)),l=d.useRef(!1);return fp(()=>{l.current=!0}),d.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let f=up(u,JSON.parse(a),o,h.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:qn([t,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[t,r,a,o,e])}function mp(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=d.useContext(Fr),{matches:i}=d.useContext(Or),{pathname:o}=Ua(),a=JSON.stringify(cp(i,r.v7_relativeSplatPath));return d.useMemo(()=>up(e,JSON.parse(a),o,n==="path"),[e,a,o,n])}function Gv(e,t){return Zv(e,t)}function Zv(e,t,n,r){Xi()||Re(!1);let{navigator:i}=d.useContext(Fr),{matches:o}=d.useContext(Or),a=o[o.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=Ua(),h;if(t){var f;let x=typeof t=="string"?$s(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||Re(!1),h=x}else h=u;let m=h.pathname||"/",v=m;if(c!=="/"){let x=c.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let b=Sv(e,{pathname:v}),w=t1(b&&b.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:qn([c,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:qn([c,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,r);return t&&w?d.createElement(Ba.Provider,{value:{location:Ai({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:$n.Pop}},w):w}function Jv(){let e=i1(),t=Wv(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},t),n?d.createElement("pre",{style:i},n):null,null)}const Xv=d.createElement(Jv,null);class Yv extends d.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?d.createElement(Or.Provider,{value:this.props.routeContext},d.createElement(hp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function e1(e){let{routeContext:t,match:n,children:r}=e,i=d.useContext(ad);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),d.createElement(Or.Provider,{value:t},r)}function t1(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,l=(i=n)==null?void 0:i.errors;if(l!=null){let h=a.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);h>=0||Re(!1),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<a.length;h++){let f=a[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:m,errors:v}=n,b=f.route.loader&&m[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||b){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,f,m)=>{let v,b=!1,w=null,x=null;n&&(v=l&&f.route.id?l[f.route.id]:void 0,w=f.route.errorElement||Xv,c&&(u<0&&m===0?(a1("route-fallback"),b=!0,x=null):u===m&&(b=!0,x=f.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,m+1)),p=()=>{let y;return v?y=w:b?y=x:f.route.Component?y=d.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=h,d.createElement(e1,{match:f,routeContext:{outlet:h,matches:g,isDataRoute:n!=null},children:y})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?d.createElement(Yv,{location:n.location,revalidation:n.revalidation,component:w,error:v,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var pp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(pp||{}),gp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(gp||{});function n1(e){let t=d.useContext(ad);return t||Re(!1),t}function r1(e){let t=d.useContext(qv);return t||Re(!1),t}function s1(e){let t=d.useContext(Or);return t||Re(!1),t}function xp(e){let t=s1(),n=t.matches[t.matches.length-1];return n.route.id||Re(!1),n.route.id}function i1(){var e;let t=d.useContext(hp),n=r1(),r=xp();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function o1(){let{router:e}=n1(pp.UseNavigateStable),t=xp(gp.UseNavigateStable),n=d.useRef(!1);return fp(()=>{n.current=!0}),d.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Ai({fromRouteId:t},o)))},[e,t])}const Vh={};function a1(e,t,n){Vh[e]||(Vh[e]=!0)}function l1(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Wt(e){Re(!1)}function c1(e){let{basename:t="/",children:n=null,location:r,navigationType:i=$n.Pop,navigator:o,static:a=!1,future:l}=e;Xi()&&Re(!1);let c=t.replace(/^\/*/,"/"),u=d.useMemo(()=>({basename:c,navigator:o,static:a,future:Ai({v7_relativeSplatPath:!1},l)}),[c,l,o,a]);typeof r=="string"&&(r=$s(r));let{pathname:h="/",search:f="",hash:m="",state:v=null,key:b="default"}=r,w=d.useMemo(()=>{let x=od(h,c);return x==null?null:{location:{pathname:x,search:f,hash:m,state:v,key:b},navigationType:i}},[c,h,f,m,v,b,i]);return w==null?null:d.createElement(Fr.Provider,{value:u},d.createElement(Ba.Provider,{children:n,value:w}))}function u1(e){let{children:t,location:n}=e;return Gv($c(t),n)}new Promise(()=>{});function $c(e,t){t===void 0&&(t=[]);let n=[];return d.Children.forEach(e,(r,i)=>{if(!d.isValidElement(r))return;let o=[...t,i];if(r.type===d.Fragment){n.push.apply(n,$c(r.props.children,o));return}r.type!==Wt&&Re(!1),!r.props.index||!r.props.children||Re(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=$c(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fc(){return Fc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fc.apply(this,arguments)}function d1(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function h1(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function f1(e,t){return e.button===0&&(!t||t==="_self")&&!h1(e)}const m1=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],p1="6";try{window.__reactRouterVersion=p1}catch{}const g1="startTransition",qh=lx[g1];function x1(e){let{basename:t,children:n,future:r,window:i}=e,o=d.useRef();o.current==null&&(o.current=wv({window:i,v5Compat:!0}));let a=o.current,[l,c]=d.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},h=d.useCallback(f=>{u&&qh?qh(()=>c(f)):c(f)},[c,u]);return d.useLayoutEffect(()=>a.listen(h),[a,h]),d.useEffect(()=>l1(r),[r]),d.createElement(c1,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:r})}const y1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",v1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,w1=d.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:l,target:c,to:u,preventScrollReset:h,viewTransition:f}=t,m=d1(t,m1),{basename:v}=d.useContext(Fr),b,w=!1;if(typeof u=="string"&&v1.test(u)&&(b=u,y1))try{let y=new URL(window.location.href),j=u.startsWith("//")?new URL(y.protocol+u):new URL(u),S=od(j.pathname,v);j.origin===y.origin&&S!=null?u=S+j.search+j.hash:w=!0}catch{}let x=Qv(u,{relative:i}),g=b1(u,{replace:a,state:l,target:c,preventScrollReset:h,relative:i,viewTransition:f});function p(y){r&&r(y),y.defaultPrevented||g(y)}return d.createElement("a",Fc({},m,{href:b||x,onClick:w||o?r:p,ref:n,target:c}))});var Qh;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Qh||(Qh={}));var Kh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Kh||(Kh={}));function b1(e,t){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:l}=t===void 0?{}:t,c=Ha(),u=Ua(),h=mp(e,{relative:a});return d.useCallback(f=>{if(f1(f,n)){f.preventDefault();let m=r!==void 0?r:xa(u)===xa(h);c(e,{replace:m,state:i,preventScrollReset:o,relative:a,viewTransition:l})}},[u,c,h,r,i,n,e,o,a,l])}var Fs=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Tr=typeof window>"u"||"Deno"in globalThis;function Je(){}function j1(e,t){return typeof e=="function"?e(t):e}function Oc(e){return typeof e=="number"&&e>=0&&e!==1/0}function yp(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Qn(e,t){return typeof e=="function"?e(t):e}function It(e,t){return typeof e=="function"?e(t):e}function Gh(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:a,stale:l}=e;if(a){if(r){if(t.queryHash!==ld(a,t.options))return!1}else if(!Di(t.queryKey,a))return!1}if(n!=="all"){const c=t.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||o&&!o(t))}function Zh(e,t){const{exact:n,status:r,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Ar(t.options.mutationKey)!==Ar(o))return!1}else if(!Di(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function ld(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ar)(e)}function Ar(e){return JSON.stringify(e,(t,n)=>zc(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Di(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Di(e[n],t[n])):!1}function vp(e,t){if(e===t)return e;const n=Jh(e)&&Jh(t);if(n||zc(e)&&zc(t)){const r=n?e:Object.keys(e),i=r.length,o=n?t:Object.keys(t),a=o.length,l=n?[]:{},c=new Set(r);let u=0;for(let h=0;h<a;h++){const f=n?h:o[h];(!n&&c.has(f)||n)&&e[f]===void 0&&t[f]===void 0?(l[f]=void 0,u++):(l[f]=vp(e[f],t[f]),l[f]===e[f]&&e[f]!==void 0&&u++)}return i===a&&u===i?e:l}return t}function ya(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Jh(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function zc(e){if(!Xh(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!Xh(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Xh(e){return Object.prototype.toString.call(e)==="[object Object]"}function S1(e){return new Promise(t=>{setTimeout(t,e)})}function Bc(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?vp(e,t):t}function N1(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function k1(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var cd=Symbol();function wp(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===cd?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function bp(e,t){return typeof e=="function"?e(...t):!!e}var hr,kn,ls,If,C1=(If=class extends Fs{constructor(){super();H(this,hr);H(this,kn);H(this,ls);$(this,ls,t=>{if(!Tr&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){N(this,kn)||this.setEventListener(N(this,ls))}onUnsubscribe(){var t;this.hasListeners()||((t=N(this,kn))==null||t.call(this),$(this,kn,void 0))}setEventListener(t){var n;$(this,ls,t),(n=N(this,kn))==null||n.call(this),$(this,kn,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){N(this,hr)!==t&&($(this,hr,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof N(this,hr)=="boolean"?N(this,hr):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},hr=new WeakMap,kn=new WeakMap,ls=new WeakMap,If),ud=new C1,cs,Cn,us,$f,E1=($f=class extends Fs{constructor(){super();H(this,cs,!0);H(this,Cn);H(this,us);$(this,us,t=>{if(!Tr&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){N(this,Cn)||this.setEventListener(N(this,us))}onUnsubscribe(){var t;this.hasListeners()||((t=N(this,Cn))==null||t.call(this),$(this,Cn,void 0))}setEventListener(t){var n;$(this,us,t),(n=N(this,Cn))==null||n.call(this),$(this,Cn,t(this.setOnline.bind(this)))}setOnline(t){N(this,cs)!==t&&($(this,cs,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return N(this,cs)}},cs=new WeakMap,Cn=new WeakMap,us=new WeakMap,$f),va=new E1;function Uc(){let e,t;const n=new Promise((i,o)=>{e=i,t=o});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function _1(e){return Math.min(1e3*2**e,3e4)}function jp(e){return(e??"online")==="online"?va.isOnline():!0}var Sp=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Ml(e){return e instanceof Sp}function Np(e){let t=!1,n=0,r=!1,i;const o=Uc(),a=w=>{var x;r||(m(new Sp(w)),(x=e.abort)==null||x.call(e))},l=()=>{t=!0},c=()=>{t=!1},u=()=>ud.isFocused()&&(e.networkMode==="always"||va.isOnline())&&e.canRun(),h=()=>jp(e.networkMode)&&e.canRun(),f=w=>{var x;r||(r=!0,(x=e.onSuccess)==null||x.call(e,w),i==null||i(),o.resolve(w))},m=w=>{var x;r||(r=!0,(x=e.onError)==null||x.call(e,w),i==null||i(),o.reject(w))},v=()=>new Promise(w=>{var x;i=g=>{(r||u())&&w(g)},(x=e.onPause)==null||x.call(e)}).then(()=>{var w;i=void 0,r||(w=e.onContinue)==null||w.call(e)}),b=()=>{if(r)return;let w;const x=n===0?e.initialPromise:void 0;try{w=x??e.fn()}catch(g){w=Promise.reject(g)}Promise.resolve(w).then(f).catch(g=>{var C;if(r)return;const p=e.retry??(Tr?0:3),y=e.retryDelay??_1,j=typeof y=="function"?y(n,g):y,S=p===!0||typeof p=="number"&&n<p||typeof p=="function"&&p(n,g);if(t||!S){m(g);return}n++,(C=e.onFail)==null||C.call(e,n,g),S1(j).then(()=>u()?void 0:v()).then(()=>{t?m(g):b()})})};return{promise:o,cancel:a,continue:()=>(i==null||i(),o),cancelRetry:l,continueRetry:c,canStart:h,start:()=>(h()?b():v().then(b),o)}}var R1=e=>setTimeout(e,0);function P1(){let e=[],t=0,n=l=>{l()},r=l=>{l()},i=R1;const o=l=>{t?e.push(l):i(()=>{n(l)})},a=()=>{const l=e;e=[],l.length&&i(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||a()}return c},batchCalls:l=>(...c)=>{o(()=>{l(...c)})},schedule:o,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{i=l}}}var Te=P1(),fr,Ff,kp=(Ff=class{constructor(){H(this,fr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Oc(this.gcTime)&&$(this,fr,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Tr?1/0:5*60*1e3))}clearGcTimeout(){N(this,fr)&&(clearTimeout(N(this,fr)),$(this,fr,void 0))}},fr=new WeakMap,Ff),ds,mr,bt,pr,Ue,Ui,gr,At,tn,Of,T1=(Of=class extends kp{constructor(t){super();H(this,At);H(this,ds);H(this,mr);H(this,bt);H(this,pr);H(this,Ue);H(this,Ui);H(this,gr);$(this,gr,!1),$(this,Ui,t.defaultOptions),this.setOptions(t.options),this.observers=[],$(this,pr,t.client),$(this,bt,N(this,pr).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,$(this,ds,A1(this.options)),this.state=t.state??N(this,ds),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=N(this,Ue))==null?void 0:t.promise}setOptions(t){this.options={...N(this,Ui),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&N(this,bt).remove(this)}setData(t,n){const r=Bc(this.state.data,t,this.options);return Z(this,At,tn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Z(this,At,tn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=N(this,Ue))==null?void 0:r.promise;return(i=N(this,Ue))==null||i.cancel(t),n?n.then(Je).catch(Je):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(N(this,ds))}isActive(){return this.observers.some(t=>It(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===cd||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Qn(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!yp(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=N(this,Ue))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=N(this,Ue))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),N(this,bt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(N(this,Ue)&&(N(this,gr)?N(this,Ue).cancel({revert:!0}):N(this,Ue).cancelRetry()),this.scheduleGc()),N(this,bt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Z(this,At,tn).call(this,{type:"invalidate"})}fetch(t,n){var u,h,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(N(this,Ue))return N(this,Ue).continueRetry(),N(this,Ue).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(v=>v.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>($(this,gr,!0),r.signal)})},o=()=>{const m=wp(this.options,n),b=(()=>{const w={client:N(this,pr),queryKey:this.queryKey,meta:this.meta};return i(w),w})();return $(this,gr,!1),this.options.persister?this.options.persister(m,b,this):m(b)},l=(()=>{const m={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:N(this,pr),state:this.state,fetchFn:o};return i(m),m})();(u=this.options.behavior)==null||u.onFetch(l,this),$(this,mr,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&Z(this,At,tn).call(this,{type:"fetch",meta:(f=l.fetchOptions)==null?void 0:f.meta});const c=m=>{var v,b,w,x;Ml(m)&&m.silent||Z(this,At,tn).call(this,{type:"error",error:m}),Ml(m)||((b=(v=N(this,bt).config).onError)==null||b.call(v,m,this),(x=(w=N(this,bt).config).onSettled)==null||x.call(w,this.state.data,m,this)),this.scheduleGc()};return $(this,Ue,Np({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:r.abort.bind(r),onSuccess:m=>{var v,b,w,x;if(m===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(g){c(g);return}(b=(v=N(this,bt).config).onSuccess)==null||b.call(v,m,this),(x=(w=N(this,bt).config).onSettled)==null||x.call(w,m,this.state.error,this),this.scheduleGc()},onError:c,onFail:(m,v)=>{Z(this,At,tn).call(this,{type:"failed",failureCount:m,error:v})},onPause:()=>{Z(this,At,tn).call(this,{type:"pause"})},onContinue:()=>{Z(this,At,tn).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),N(this,Ue).start()}},ds=new WeakMap,mr=new WeakMap,bt=new WeakMap,pr=new WeakMap,Ue=new WeakMap,Ui=new WeakMap,gr=new WeakMap,At=new WeakSet,tn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Cp(r.data,this.options),fetchMeta:t.meta??null};case"success":return $(this,mr,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return Ml(i)&&i.revert&&N(this,mr)?{...N(this,mr),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Te.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),N(this,bt).notify({query:this,type:"updated",action:t})})},Of);function Cp(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:jp(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function A1(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var qt,zf,D1=(zf=class extends Fs{constructor(t={}){super();H(this,qt);this.config=t,$(this,qt,new Map)}build(t,n,r){const i=n.queryKey,o=n.queryHash??ld(i,n);let a=this.get(o);return a||(a=new T1({client:t,queryKey:i,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(a)),a}add(t){N(this,qt).has(t.queryHash)||(N(this,qt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=N(this,qt).get(t.queryHash);n&&(t.destroy(),n===t&&N(this,qt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Te.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return N(this,qt).get(t)}getAll(){return[...N(this,qt).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Gh(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Gh(t,r)):n}notify(t){Te.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Te.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Te.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},qt=new WeakMap,zf),Qt,Ke,xr,Kt,vn,Bf,M1=(Bf=class extends kp{constructor(t){super();H(this,Kt);H(this,Qt);H(this,Ke);H(this,xr);this.mutationId=t.mutationId,$(this,Ke,t.mutationCache),$(this,Qt,[]),this.state=t.state||Ep(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){N(this,Qt).includes(t)||(N(this,Qt).push(t),this.clearGcTimeout(),N(this,Ke).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){$(this,Qt,N(this,Qt).filter(n=>n!==t)),this.scheduleGc(),N(this,Ke).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){N(this,Qt).length||(this.state.status==="pending"?this.scheduleGc():N(this,Ke).remove(this))}continue(){var t;return((t=N(this,xr))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var o,a,l,c,u,h,f,m,v,b,w,x,g,p,y,j,S,C,k,E;const n=()=>{Z(this,Kt,vn).call(this,{type:"continue"})};$(this,xr,Np({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(_,R)=>{Z(this,Kt,vn).call(this,{type:"failed",failureCount:_,error:R})},onPause:()=>{Z(this,Kt,vn).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>N(this,Ke).canRun(this)}));const r=this.state.status==="pending",i=!N(this,xr).canStart();try{if(r)n();else{Z(this,Kt,vn).call(this,{type:"pending",variables:t,isPaused:i}),await((a=(o=N(this,Ke).config).onMutate)==null?void 0:a.call(o,t,this));const R=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,t));R!==this.state.context&&Z(this,Kt,vn).call(this,{type:"pending",context:R,variables:t,isPaused:i})}const _=await N(this,xr).start();return await((h=(u=N(this,Ke).config).onSuccess)==null?void 0:h.call(u,_,t,this.state.context,this)),await((m=(f=this.options).onSuccess)==null?void 0:m.call(f,_,t,this.state.context)),await((b=(v=N(this,Ke).config).onSettled)==null?void 0:b.call(v,_,null,this.state.variables,this.state.context,this)),await((x=(w=this.options).onSettled)==null?void 0:x.call(w,_,null,t,this.state.context)),Z(this,Kt,vn).call(this,{type:"success",data:_}),_}catch(_){try{throw await((p=(g=N(this,Ke).config).onError)==null?void 0:p.call(g,_,t,this.state.context,this)),await((j=(y=this.options).onError)==null?void 0:j.call(y,_,t,this.state.context)),await((C=(S=N(this,Ke).config).onSettled)==null?void 0:C.call(S,void 0,_,this.state.variables,this.state.context,this)),await((E=(k=this.options).onSettled)==null?void 0:E.call(k,void 0,_,t,this.state.context)),_}finally{Z(this,Kt,vn).call(this,{type:"error",error:_})}}finally{N(this,Ke).runNext(this)}}},Qt=new WeakMap,Ke=new WeakMap,xr=new WeakMap,Kt=new WeakSet,vn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Te.batch(()=>{N(this,Qt).forEach(r=>{r.onMutationUpdate(t)}),N(this,Ke).notify({mutation:this,type:"updated",action:t})})},Bf);function Ep(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var sn,Dt,Hi,Uf,L1=(Uf=class extends Fs{constructor(t={}){super();H(this,sn);H(this,Dt);H(this,Hi);this.config=t,$(this,sn,new Set),$(this,Dt,new Map),$(this,Hi,0)}build(t,n,r){const i=new M1({mutationCache:this,mutationId:++oo(this,Hi)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){N(this,sn).add(t);const n=ko(t);if(typeof n=="string"){const r=N(this,Dt).get(n);r?r.push(t):N(this,Dt).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(N(this,sn).delete(t)){const n=ko(t);if(typeof n=="string"){const r=N(this,Dt).get(n);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&N(this,Dt).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=ko(t);if(typeof n=="string"){const r=N(this,Dt).get(n),i=r==null?void 0:r.find(o=>o.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const n=ko(t);if(typeof n=="string"){const i=(r=N(this,Dt).get(n))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Te.batch(()=>{N(this,sn).forEach(t=>{this.notify({type:"removed",mutation:t})}),N(this,sn).clear(),N(this,Dt).clear()})}getAll(){return Array.from(N(this,sn))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Zh(n,r))}findAll(t={}){return this.getAll().filter(n=>Zh(t,n))}notify(t){Te.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Te.batch(()=>Promise.all(t.map(n=>n.continue().catch(Je))))}},sn=new WeakMap,Dt=new WeakMap,Hi=new WeakMap,Uf);function ko(e){var t;return(t=e.options.scope)==null?void 0:t.id}function wa(e){return{onFetch:(t,n)=>{var h,f,m,v,b;const r=t.options,i=(m=(f=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,o=((v=t.state.data)==null?void 0:v.pages)||[],a=((b=t.state.data)==null?void 0:b.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let w=!1;const x=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(t.signal.aborted?w=!0:t.signal.addEventListener("abort",()=>{w=!0}),t.signal)})},g=wp(t.options,t.fetchOptions),p=async(y,j,S)=>{if(w)return Promise.reject();if(j==null&&y.pages.length)return Promise.resolve(y);const k=(()=>{const Q={client:t.client,queryKey:t.queryKey,pageParam:j,direction:S?"backward":"forward",meta:t.options.meta};return x(Q),Q})(),E=await g(k),{maxPages:_}=t.options,R=S?k1:N1;return{pages:R(y.pages,E,_),pageParams:R(y.pageParams,j,_)}};if(i&&o.length){const y=i==="backward",j=y?_p:Hc,S={pages:o,pageParams:a},C=j(r,S);l=await p(S,C,y)}else{const y=e??o.length;do{const j=c===0?a[0]??r.initialPageParam:Hc(r,l);if(c>0&&j==null)break;l=await p(l,j),c++}while(c<y)}return l};t.options.persister?t.fetchFn=()=>{var w,x;return(x=(w=t.options).persister)==null?void 0:x.call(w,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function Hc(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function _p(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}function I1(e,t){return t?Hc(e,t)!=null:!1}function $1(e,t){return!t||!e.getPreviousPageParam?!1:_p(e,t)!=null}var je,En,_n,hs,fs,Rn,ms,ps,Hf,F1=(Hf=class{constructor(e={}){H(this,je);H(this,En);H(this,_n);H(this,hs);H(this,fs);H(this,Rn);H(this,ms);H(this,ps);$(this,je,e.queryCache||new D1),$(this,En,e.mutationCache||new L1),$(this,_n,e.defaultOptions||{}),$(this,hs,new Map),$(this,fs,new Map),$(this,Rn,0)}mount(){oo(this,Rn)._++,N(this,Rn)===1&&($(this,ms,ud.subscribe(async e=>{e&&(await this.resumePausedMutations(),N(this,je).onFocus())})),$(this,ps,va.subscribe(async e=>{e&&(await this.resumePausedMutations(),N(this,je).onOnline())})))}unmount(){var e,t;oo(this,Rn)._--,N(this,Rn)===0&&((e=N(this,ms))==null||e.call(this),$(this,ms,void 0),(t=N(this,ps))==null||t.call(this),$(this,ps,void 0))}isFetching(e){return N(this,je).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return N(this,En).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=N(this,je).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=N(this,je).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Qn(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return N(this,je).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=N(this,je).get(r.queryHash),o=i==null?void 0:i.state.data,a=j1(t,o);if(a!==void 0)return N(this,je).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return Te.batch(()=>N(this,je).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=N(this,je).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=N(this,je);Te.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=N(this,je);return Te.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Te.batch(()=>N(this,je).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Je).catch(Je)}invalidateQueries(e,t={}){return Te.batch(()=>(N(this,je).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Te.batch(()=>N(this,je).findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(Je)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Je)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=N(this,je).build(this,t);return n.isStaleByTime(Qn(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Je).catch(Je)}fetchInfiniteQuery(e){return e.behavior=wa(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Je).catch(Je)}ensureInfiniteQueryData(e){return e.behavior=wa(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return va.isOnline()?N(this,En).resumePausedMutations():Promise.resolve()}getQueryCache(){return N(this,je)}getMutationCache(){return N(this,En)}getDefaultOptions(){return N(this,_n)}setDefaultOptions(e){$(this,_n,e)}setQueryDefaults(e,t){N(this,hs).set(Ar(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...N(this,hs).values()],n={};return t.forEach(r=>{Di(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){N(this,fs).set(Ar(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...N(this,fs).values()],n={};return t.forEach(r=>{Di(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...N(this,_n).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ld(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===cd&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...N(this,_n).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){N(this,je).clear(),N(this,En).clear()}},je=new WeakMap,En=new WeakMap,_n=new WeakMap,hs=new WeakMap,fs=new WeakMap,Rn=new WeakMap,ms=new WeakMap,ps=new WeakMap,Hf),nt,Y,Wi,Ge,yr,gs,Pn,Tn,Vi,xs,ys,vr,wr,An,vs,re,ri,Wc,Vc,qc,Qc,Kc,Gc,Zc,Pp,Wf,Rp=(Wf=class extends Fs{constructor(t,n){super();H(this,re);H(this,nt);H(this,Y);H(this,Wi);H(this,Ge);H(this,yr);H(this,gs);H(this,Pn);H(this,Tn);H(this,Vi);H(this,xs);H(this,ys);H(this,vr);H(this,wr);H(this,An);H(this,vs,new Set);this.options=n,$(this,nt,t),$(this,Tn,null),$(this,Pn,Uc()),this.options.experimental_prefetchInRender||N(this,Pn).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(N(this,Y).addObserver(this),Yh(N(this,Y),this.options)?Z(this,re,ri).call(this):this.updateResult(),Z(this,re,Qc).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Jc(N(this,Y),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Jc(N(this,Y),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Z(this,re,Kc).call(this),Z(this,re,Gc).call(this),N(this,Y).removeObserver(this)}setOptions(t){const n=this.options,r=N(this,Y);if(this.options=N(this,nt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof It(this.options.enabled,N(this,Y))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Z(this,re,Zc).call(this),N(this,Y).setOptions(this.options),n._defaulted&&!ya(this.options,n)&&N(this,nt).getQueryCache().notify({type:"observerOptionsUpdated",query:N(this,Y),observer:this});const i=this.hasListeners();i&&ef(N(this,Y),r,this.options,n)&&Z(this,re,ri).call(this),this.updateResult(),i&&(N(this,Y)!==r||It(this.options.enabled,N(this,Y))!==It(n.enabled,N(this,Y))||Qn(this.options.staleTime,N(this,Y))!==Qn(n.staleTime,N(this,Y)))&&Z(this,re,Wc).call(this);const o=Z(this,re,Vc).call(this);i&&(N(this,Y)!==r||It(this.options.enabled,N(this,Y))!==It(n.enabled,N(this,Y))||o!==N(this,An))&&Z(this,re,qc).call(this,o)}getOptimisticResult(t){const n=N(this,nt).getQueryCache().build(N(this,nt),t),r=this.createResult(n,t);return z1(this,r)&&($(this,Ge,r),$(this,gs,this.options),$(this,yr,N(this,Y).state)),r}getCurrentResult(){return N(this,Ge)}trackResult(t,n){return new Proxy(t,{get:(r,i)=>(this.trackProp(i),n==null||n(i),Reflect.get(r,i))})}trackProp(t){N(this,vs).add(t)}getCurrentQuery(){return N(this,Y)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=N(this,nt).defaultQueryOptions(t),r=N(this,nt).getQueryCache().build(N(this,nt),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Z(this,re,ri).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),N(this,Ge)))}createResult(t,n){var _;const r=N(this,Y),i=this.options,o=N(this,Ge),a=N(this,yr),l=N(this,gs),u=t!==r?t.state:N(this,Wi),{state:h}=t;let f={...h},m=!1,v;if(n._optimisticResults){const R=this.hasListeners(),Q=!R&&Yh(t,n),z=R&&ef(t,r,n,i);(Q||z)&&(f={...f,...Cp(h.data,t.options)}),n._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:b,errorUpdatedAt:w,status:x}=f;v=f.data;let g=!1;if(n.placeholderData!==void 0&&v===void 0&&x==="pending"){let R;o!=null&&o.isPlaceholderData&&n.placeholderData===(l==null?void 0:l.placeholderData)?(R=o.data,g=!0):R=typeof n.placeholderData=="function"?n.placeholderData((_=N(this,ys))==null?void 0:_.state.data,N(this,ys)):n.placeholderData,R!==void 0&&(x="success",v=Bc(o==null?void 0:o.data,R,n),m=!0)}if(n.select&&v!==void 0&&!g)if(o&&v===(a==null?void 0:a.data)&&n.select===N(this,Vi))v=N(this,xs);else try{$(this,Vi,n.select),v=n.select(v),v=Bc(o==null?void 0:o.data,v,n),$(this,xs,v),$(this,Tn,null)}catch(R){$(this,Tn,R)}N(this,Tn)&&(b=N(this,Tn),v=N(this,xs),w=Date.now(),x="error");const p=f.fetchStatus==="fetching",y=x==="pending",j=x==="error",S=y&&p,C=v!==void 0,E={status:x,fetchStatus:f.fetchStatus,isPending:y,isSuccess:x==="success",isError:j,isInitialLoading:S,isLoading:S,data:v,dataUpdatedAt:f.dataUpdatedAt,error:b,errorUpdatedAt:w,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:p,isRefetching:p&&!y,isLoadingError:j&&!C,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:j&&C,isStale:dd(t,n),refetch:this.refetch,promise:N(this,Pn)};if(this.options.experimental_prefetchInRender){const R=L=>{E.status==="error"?L.reject(E.error):E.data!==void 0&&L.resolve(E.data)},Q=()=>{const L=$(this,Pn,E.promise=Uc());R(L)},z=N(this,Pn);switch(z.status){case"pending":t.queryHash===r.queryHash&&R(z);break;case"fulfilled":(E.status==="error"||E.data!==z.value)&&Q();break;case"rejected":(E.status!=="error"||E.error!==z.reason)&&Q();break}}return E}updateResult(){const t=N(this,Ge),n=this.createResult(N(this,Y),this.options);if($(this,yr,N(this,Y).state),$(this,gs,this.options),N(this,yr).data!==void 0&&$(this,ys,N(this,Y)),ya(n,t))return;$(this,Ge,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,o=typeof i=="function"?i():i;if(o==="all"||!o&&!N(this,vs).size)return!0;const a=new Set(o??N(this,vs));return this.options.throwOnError&&a.add("error"),Object.keys(N(this,Ge)).some(l=>{const c=l;return N(this,Ge)[c]!==t[c]&&a.has(c)})};Z(this,re,Pp).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Z(this,re,Qc).call(this)}},nt=new WeakMap,Y=new WeakMap,Wi=new WeakMap,Ge=new WeakMap,yr=new WeakMap,gs=new WeakMap,Pn=new WeakMap,Tn=new WeakMap,Vi=new WeakMap,xs=new WeakMap,ys=new WeakMap,vr=new WeakMap,wr=new WeakMap,An=new WeakMap,vs=new WeakMap,re=new WeakSet,ri=function(t){Z(this,re,Zc).call(this);let n=N(this,Y).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Je)),n},Wc=function(){Z(this,re,Kc).call(this);const t=Qn(this.options.staleTime,N(this,Y));if(Tr||N(this,Ge).isStale||!Oc(t))return;const r=yp(N(this,Ge).dataUpdatedAt,t)+1;$(this,vr,setTimeout(()=>{N(this,Ge).isStale||this.updateResult()},r))},Vc=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(N(this,Y)):this.options.refetchInterval)??!1},qc=function(t){Z(this,re,Gc).call(this),$(this,An,t),!(Tr||It(this.options.enabled,N(this,Y))===!1||!Oc(N(this,An))||N(this,An)===0)&&$(this,wr,setInterval(()=>{(this.options.refetchIntervalInBackground||ud.isFocused())&&Z(this,re,ri).call(this)},N(this,An)))},Qc=function(){Z(this,re,Wc).call(this),Z(this,re,qc).call(this,Z(this,re,Vc).call(this))},Kc=function(){N(this,vr)&&(clearTimeout(N(this,vr)),$(this,vr,void 0))},Gc=function(){N(this,wr)&&(clearInterval(N(this,wr)),$(this,wr,void 0))},Zc=function(){const t=N(this,nt).getQueryCache().build(N(this,nt),this.options);if(t===N(this,Y))return;const n=N(this,Y);$(this,Y,t),$(this,Wi,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Pp=function(t){Te.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(N(this,Ge))}),N(this,nt).getQueryCache().notify({query:N(this,Y),type:"observerResultsUpdated"})})},Wf);function O1(e,t){return It(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Yh(e,t){return O1(e,t)||e.state.data!==void 0&&Jc(e,t,t.refetchOnMount)}function Jc(e,t,n){if(It(t.enabled,e)!==!1&&Qn(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&dd(e,t)}return!1}function ef(e,t,n,r){return(e!==t||It(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&dd(e,n)}function dd(e,t){return It(t.enabled,e)!==!1&&e.isStaleByTime(Qn(t.staleTime,e))}function z1(e,t){return!ya(e.getCurrentResult(),t)}var B1=class extends Rp{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:wa()})}getOptimisticResult(e){return e.behavior=wa(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){var b,w;const{state:n}=e,r=super.createResult(e,t),{isFetching:i,isRefetching:o,isError:a,isRefetchError:l}=r,c=(w=(b=n.fetchMeta)==null?void 0:b.fetchMore)==null?void 0:w.direction,u=a&&c==="forward",h=i&&c==="forward",f=a&&c==="backward",m=i&&c==="backward";return{...r,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:I1(t,n.data),hasPreviousPage:$1(t,n.data),isFetchNextPageError:u,isFetchingNextPage:h,isFetchPreviousPageError:f,isFetchingPreviousPage:m,isRefetchError:l&&!u&&!f,isRefetching:o&&!h&&!m}}},Dn,Mn,rt,on,un,Uo,Xc,Vf,U1=(Vf=class extends Fs{constructor(n,r){super();H(this,un);H(this,Dn);H(this,Mn);H(this,rt);H(this,on);$(this,Dn,n),this.setOptions(r),this.bindMethods(),Z(this,un,Uo).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=N(this,Dn).defaultMutationOptions(n),ya(this.options,r)||N(this,Dn).getMutationCache().notify({type:"observerOptionsUpdated",mutation:N(this,rt),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Ar(r.mutationKey)!==Ar(this.options.mutationKey)?this.reset():((i=N(this,rt))==null?void 0:i.state.status)==="pending"&&N(this,rt).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=N(this,rt))==null||n.removeObserver(this)}onMutationUpdate(n){Z(this,un,Uo).call(this),Z(this,un,Xc).call(this,n)}getCurrentResult(){return N(this,Mn)}reset(){var n;(n=N(this,rt))==null||n.removeObserver(this),$(this,rt,void 0),Z(this,un,Uo).call(this),Z(this,un,Xc).call(this)}mutate(n,r){var i;return $(this,on,r),(i=N(this,rt))==null||i.removeObserver(this),$(this,rt,N(this,Dn).getMutationCache().build(N(this,Dn),this.options)),N(this,rt).addObserver(this),N(this,rt).execute(n)}},Dn=new WeakMap,Mn=new WeakMap,rt=new WeakMap,on=new WeakMap,un=new WeakSet,Uo=function(){var r;const n=((r=N(this,rt))==null?void 0:r.state)??Ep();$(this,Mn,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Xc=function(n){Te.batch(()=>{var r,i,o,a,l,c,u,h;if(N(this,on)&&this.hasListeners()){const f=N(this,Mn).variables,m=N(this,Mn).context;(n==null?void 0:n.type)==="success"?((i=(r=N(this,on)).onSuccess)==null||i.call(r,n.data,f,m),(a=(o=N(this,on)).onSettled)==null||a.call(o,n.data,null,f,m)):(n==null?void 0:n.type)==="error"&&((c=(l=N(this,on)).onError)==null||c.call(l,n.error,f,m),(h=(u=N(this,on)).onSettled)==null||h.call(u,void 0,n.error,f,m))}this.listeners.forEach(f=>{f(N(this,Mn))})})},Vf),Tp=d.createContext(void 0),Wa=e=>{const t=d.useContext(Tp);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},H1=({client:e,children:t})=>(d.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(Tp.Provider,{value:e,children:t})),Ap=d.createContext(!1),W1=()=>d.useContext(Ap);Ap.Provider;function V1(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var q1=d.createContext(V1()),Q1=()=>d.useContext(q1),K1=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},G1=e=>{d.useEffect(()=>{e.clearReset()},[e])},Z1=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||bp(n,[e.error,r])),J1=e=>{if(e.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...r)=>t(n(...r)):t(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},X1=(e,t)=>e.isLoading&&e.isFetching&&!t,Y1=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,tf=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Dp(e,t,n){var f,m,v,b,w;const r=W1(),i=Q1(),o=Wa(),a=o.defaultQueryOptions(e);(m=(f=o.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||m.call(f,a),a._optimisticResults=r?"isRestoring":"optimistic",J1(a),K1(a,i),G1(i);const l=!o.getQueryCache().get(a.queryHash),[c]=d.useState(()=>new t(o,a)),u=c.getOptimisticResult(a),h=!r&&e.subscribed!==!1;if(d.useSyncExternalStore(d.useCallback(x=>{const g=h?c.subscribe(Te.batchCalls(x)):Je;return c.updateResult(),g},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),d.useEffect(()=>{c.setOptions(a)},[a,c]),Y1(a,u))throw tf(a,c,i);if(Z1({result:u,errorResetBoundary:i,throwOnError:a.throwOnError,query:o.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;if((b=(v=o.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||b.call(v,a,u),a.experimental_prefetchInRender&&!Tr&&X1(u,r)){const x=l?tf(a,c,i):(w=o.getQueryCache().get(a.queryHash))==null?void 0:w.promise;x==null||x.catch(Je).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?u:c.trackResult(u)}function _t(e,t){return Dp(e,Rp)}function Mp(e,t){const n=Wa(),[r]=d.useState(()=>new U1(n,e));d.useEffect(()=>{r.setOptions(e)},[r,e]);const i=d.useSyncExternalStore(d.useCallback(a=>r.subscribe(Te.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=d.useCallback((a,l)=>{r.mutate(a,l).catch(Je)},[r]);if(i.error&&bp(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}function e2(e,t){return Dp(e,B1)}var t2=function(){return null};let n2={data:""},r2=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||n2,s2=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,i2=/\/\*[^]*?\*\/|  +/g,nf=/\n+/g,Nn=(e,t)=>{let n="",r="",i="";for(let o in e){let a=e[o];o[0]=="@"?o[1]=="i"?n=o+" "+a+";":r+=o[1]=="f"?Nn(a,o):o+"{"+Nn(a,o[1]=="k"?"":t)+"}":typeof a=="object"?r+=Nn(a,t?t.replace(/([^,])+/g,l=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):o):a!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Nn.p?Nn.p(o,a):o+":"+a+";")}return n+(t&&i?t+"{"+i+"}":i)+r},en={},Lp=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+Lp(e[n]);return t}return e},o2=(e,t,n,r,i)=>{let o=Lp(e),a=en[o]||(en[o]=(c=>{let u=0,h=11;for(;u<c.length;)h=101*h+c.charCodeAt(u++)>>>0;return"go"+h})(o));if(!en[a]){let c=o!==e?e:(u=>{let h,f,m=[{}];for(;h=s2.exec(u.replace(i2,""));)h[4]?m.shift():h[3]?(f=h[3].replace(nf," ").trim(),m.unshift(m[0][f]=m[0][f]||{})):m[0][h[1]]=h[2].replace(nf," ").trim();return m[0]})(e);en[a]=Nn(i?{["@keyframes "+a]:c}:c,n?"":"."+a)}let l=n&&en.g?en.g:null;return n&&(en.g=en[a]),((c,u,h,f)=>{f?u.data=u.data.replace(f,c):u.data.indexOf(c)===-1&&(u.data=h?c+u.data:u.data+c)})(en[a],t,r,l),a},a2=(e,t,n)=>e.reduce((r,i,o)=>{let a=t[o];if(a&&a.call){let l=a(n),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;a=c?"."+c:l&&typeof l=="object"?l.props?"":Nn(l,""):l===!1?"":l}return r+i+(a??"")},"");function Va(e){let t=this||{},n=e.call?e(t.p):e;return o2(n.unshift?n.raw?a2(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,r2(t.target),t.g,t.o,t.k)}let Ip,Yc,eu;Va.bind({g:1});let pn=Va.bind({k:1});function l2(e,t,n,r){Nn.p=t,Ip=e,Yc=n,eu=r}function nr(e,t){let n=this||{};return function(){let r=arguments;function i(o,a){let l=Object.assign({},o),c=l.className||i.className;n.p=Object.assign({theme:Yc&&Yc()},l),n.o=/ *go\d+/.test(c),l.className=Va.apply(n,r)+(c?" "+c:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),eu&&u[0]&&eu(l),Ip(u,l)}return i}}var c2=e=>typeof e=="function",ba=(e,t)=>c2(e)?e(t):e,u2=(()=>{let e=0;return()=>(++e).toString()})(),$p=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),d2=20,Fp=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,d2)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:n}=t;return Fp(e,{type:e.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return{...e,toasts:e.toasts.map(o=>o.id===r||r===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+i}))}}},Ho=[],ur={toasts:[],pausedAt:void 0},zr=e=>{ur=Fp(ur,e),Ho.forEach(t=>{t(ur)})},h2={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},f2=(e={})=>{let[t,n]=d.useState(ur),r=d.useRef(ur);d.useEffect(()=>(r.current!==ur&&n(ur),Ho.push(n),()=>{let o=Ho.indexOf(n);o>-1&&Ho.splice(o,1)}),[]);let i=t.toasts.map(o=>{var a,l,c;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((a=e[o.type])==null?void 0:a.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((l=e[o.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||h2[o.type],style:{...e.style,...(c=e[o.type])==null?void 0:c.style,...o.style}}});return{...t,toasts:i}},m2=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||u2()}),Yi=e=>(t,n)=>{let r=m2(t,e,n);return zr({type:2,toast:r}),r.id},ce=(e,t)=>Yi("blank")(e,t);ce.error=Yi("error");ce.success=Yi("success");ce.loading=Yi("loading");ce.custom=Yi("custom");ce.dismiss=e=>{zr({type:3,toastId:e})};ce.remove=e=>zr({type:4,toastId:e});ce.promise=(e,t,n)=>{let r=ce.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let o=t.success?ba(t.success,i):void 0;return o?ce.success(o,{id:r,...n,...n==null?void 0:n.success}):ce.dismiss(r),i}).catch(i=>{let o=t.error?ba(t.error,i):void 0;o?ce.error(o,{id:r,...n,...n==null?void 0:n.error}):ce.dismiss(r)}),e};var p2=(e,t)=>{zr({type:1,toast:{id:e,height:t}})},g2=()=>{zr({type:5,time:Date.now()})},fi=new Map,x2=1e3,y2=(e,t=x2)=>{if(fi.has(e))return;let n=setTimeout(()=>{fi.delete(e),zr({type:4,toastId:e})},t);fi.set(e,n)},v2=e=>{let{toasts:t,pausedAt:n}=f2(e);d.useEffect(()=>{if(n)return;let o=Date.now(),a=t.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(o-l.createdAt);if(c<0){l.visible&&ce.dismiss(l.id);return}return setTimeout(()=>ce.dismiss(l.id),c)});return()=>{a.forEach(l=>l&&clearTimeout(l))}},[t,n]);let r=d.useCallback(()=>{n&&zr({type:6,time:Date.now()})},[n]),i=d.useCallback((o,a)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=a||{},h=t.filter(v=>(v.position||u)===(o.position||u)&&v.height),f=h.findIndex(v=>v.id===o.id),m=h.filter((v,b)=>b<f&&v.visible).length;return h.filter(v=>v.visible).slice(...l?[m+1]:[0,m]).reduce((v,b)=>v+(b.height||0)+c,0)},[t]);return d.useEffect(()=>{t.forEach(o=>{if(o.dismissed)y2(o.id,o.removeDelay);else{let a=fi.get(o.id);a&&(clearTimeout(a),fi.delete(o.id))}})},[t]),{toasts:t,handlers:{updateHeight:p2,startPause:g2,endPause:r,calculateOffset:i}}},w2=pn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,b2=pn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,j2=pn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,S2=nr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${w2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${b2} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${j2} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,N2=pn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,k2=nr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${N2} 1s linear infinite;
`,C2=pn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,E2=pn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,_2=nr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${C2} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${E2} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,R2=nr("div")`
  position: absolute;
`,P2=nr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,T2=pn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,A2=nr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${T2} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,D2=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?d.createElement(A2,null,t):t:n==="blank"?null:d.createElement(P2,null,d.createElement(k2,{...r}),n!=="loading"&&d.createElement(R2,null,n==="error"?d.createElement(S2,{...r}):d.createElement(_2,{...r})))},M2=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,L2=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,I2="0%{opacity:0;} 100%{opacity:1;}",$2="0%{opacity:1;} 100%{opacity:0;}",F2=nr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,O2=nr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,z2=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=$p()?[I2,$2]:[M2(n),L2(n)];return{animation:t?`${pn(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${pn(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},B2=d.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?z2(e.position||t||"top-center",e.visible):{opacity:0},o=d.createElement(D2,{toast:e}),a=d.createElement(O2,{...e.ariaProps},ba(e.message,e));return d.createElement(F2,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:o,message:a}):d.createElement(d.Fragment,null,o,a))});l2(d.createElement);var U2=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let o=d.useCallback(a=>{if(a){let l=()=>{let c=a.getBoundingClientRect().height;r(e,c)};l(),new MutationObserver(l).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return d.createElement("div",{ref:o,className:t,style:n},i)},H2=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:$p()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},W2=Va`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Co=16,V2=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,containerStyle:o,containerClassName:a})=>{let{toasts:l,handlers:c}=v2(n);return d.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Co,left:Co,right:Co,bottom:Co,pointerEvents:"none",...o},className:a,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let h=u.position||t,f=c.calculateOffset(u,{reverseOrder:e,gutter:r,defaultPosition:t}),m=H2(h,f);return d.createElement(U2,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?W2:"",style:m},u.type==="custom"?ba(u.message,u):i?i(u):d.createElement(B2,{toast:u,position:h}))}))},W=ce;class q2 extends d.Component{constructor(n){super(n);Oe(this,"handleReload",()=>{window.location.reload()});Oe(this,"handleReset",()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})});this.state={hasError:!1}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("ErrorBoundary caught an error:",n,r),this.setState({error:n,errorInfo:r})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"max-w-md w-full space-y-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"mx-auto h-12 w-12 text-red-500",children:s.jsx("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-12 h-12",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.268 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),s.jsx("h2",{className:"mt-6 text-3xl font-bold text-gray-900",children:"Something went wrong"}),s.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"We're sorry, but something unexpected happened. Our team has been notified."}),!1,s.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row gap-3 justify-center",children:[s.jsx("button",{onClick:this.handleReset,className:"btn-secondary",children:"Try Again"}),s.jsx("button",{onClick:this.handleReload,className:"btn-primary",children:"Reload Page"})]}),s.jsx("p",{className:"mt-4 text-xs text-gray-500",children:"If this problem persists, please contact support."})]})})}):this.props.children}}const Q2=({isOpen:e,onClose:t})=>{const n=[{name:"Dashboard",href:"/",icon:""},{name:"Browse Addons",href:"/addons-enhanced",icon:""},{name:"Advanced Search",href:"/advanced-search",icon:""},{name:"Analytics",href:"/analytics",icon:""},{name:"Downloads",href:"/downloads",icon:""},{name:"System Status",href:"/system-status",icon:""}];return s.jsx("div",{className:`sidebar sidebar-mobile ${e?"sidebar-mobile-open":"sidebar-mobile-closed"} lg:translate-x-0`,children:s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx("div",{className:"flex items-center h-16 px-6 border-b border-gray-200",children:s.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"SceneryAddons"})}),s.jsx("nav",{className:"flex-1 px-4 py-6 space-y-1",children:n.map(r=>s.jsxs("a",{href:r.href,className:"nav-item nav-item-inactive",onClick:t,children:[s.jsx("span",{className:"mr-3",children:r.icon}),r.name]},r.name))})]})})};function K2({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"}))}const hd=d.forwardRef(K2);function G2({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const Me=d.forwardRef(G2);function Z2({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const J2=d.forwardRef(Z2);function X2({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const Ll=d.forwardRef(X2);function Y2({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const ew=d.forwardRef(Y2);function tw({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"}))}const nw=d.forwardRef(tw);function rw({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const tu=d.forwardRef(rw);function sw({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"}))}const iw=d.forwardRef(sw);function ow({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const qa=d.forwardRef(ow);function aw({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.827 6.175A2.31 2.31 0 0 1 5.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 0 0-1.134-.175 2.31 2.31 0 0 1-1.64-1.055l-.822-1.316a2.192 2.192 0 0 0-1.736-1.039 48.774 48.774 0 0 0-5.232 0 2.192 2.192 0 0 0-1.736 1.039l-.821 1.316Z"}),d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 12.75a4.5 4.5 0 1 1-9 0 4.5 4.5 0 0 1 9 0ZM18.75 10.5h.008v.008h-.008V10.5Z"}))}const lw=d.forwardRef(aw);function cw({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const Dr=d.forwardRef(cw);function uw({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Mi=d.forwardRef(uw);function dw({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const hw=d.forwardRef(dw);function fw({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5 8.25 12l7.5-7.5"}))}const Op=d.forwardRef(fw);function mw({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const nu=d.forwardRef(mw);function pw({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Xt=d.forwardRef(pw);function gw({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const fd=d.forwardRef(gw);function xw({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25"}))}const yw=d.forwardRef(xw);function vw({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 3v1.5M4.5 8.25H3m18 0h-1.5M4.5 12H3m18 0h-1.5m-15 3.75H3m18 0h-1.5M8.25 19.5V21M12 3v1.5m0 15V21m3.75-18v1.5m0 15V21m-9-1.5h10.5a2.25 2.25 0 0 0 2.25-2.25V6.75a2.25 2.25 0 0 0-2.25-2.25H6.75A2.25 2.25 0 0 0 4.5 6.75v10.5a2.25 2.25 0 0 0 2.25 2.25Zm.75-12h9v9h-9v-9Z"}))}const ru=d.forwardRef(vw);function ww({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Il=d.forwardRef(ww);function bw({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.125 2.25h-4.5c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125v-9M10.125 2.25h.375a9 9 0 0 1 9 9v.375M10.125 2.25A3.375 3.375 0 0 1 13.5 5.625v1.5c0 .621.504 1.125 1.125 1.125h1.5a3.375 3.375 0 0 1 3.375 3.375M9 15l2.25 2.25L15 12"}))}const jw=d.forwardRef(bw);function Sw({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Kn=d.forwardRef(Sw);function Nw({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const ts=d.forwardRef(Nw);function kw({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const Cw=d.forwardRef(kw);function Ew({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Es=d.forwardRef(Ew);function _w({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.362 5.214A8.252 8.252 0 0 1 12 21 8.25 8.25 0 0 1 6.038 7.047 8.287 8.287 0 0 0 9 9.601a8.983 8.983 0 0 1 3.361-6.867 8.21 8.21 0 0 0 3 2.48Z"}),d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18a3.75 3.75 0 0 0 .495-7.468 5.99 5.99 0 0 0-1.925 3.547 5.975 5.975 0 0 1-2.133-1.001A3.75 3.75 0 0 0 12 18Z"}))}const Rw=d.forwardRef(_w);function Pw({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 12.75V12A2.25 2.25 0 0 1 4.5 9.75h15A2.25 2.25 0 0 1 21.75 12v.75m-8.69-6.44-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44Z"}))}const Tw=d.forwardRef(Pw);function Aw({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const md=d.forwardRef(Aw);function Dw({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12Z"}))}const su=d.forwardRef(Dw);function Mw({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const Lw=d.forwardRef(Mw);function Iw({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const zp=d.forwardRef(Iw);function $w({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const gn=d.forwardRef($w);function Fw({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"}))}const Ow=d.forwardRef(Fw);function zw({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 0 0-5.78 1.128 2.25 2.25 0 0 1-2.4 2.245 4.5 4.5 0 0 0 8.4-2.245c0-.399-.078-.78-.22-1.128Zm0 0a15.998 15.998 0 0 0 3.388-1.62m-5.043-.025a15.994 15.994 0 0 1 1.622-3.395m3.42 3.42a15.995 15.995 0 0 0 4.764-4.648l3.876-5.814a1.151 1.151 0 0 0-1.597-1.597L14.146 6.32a15.996 15.996 0 0 0-4.649 4.763m3.42 3.42a6.776 6.776 0 0 0-3.42-3.42"}))}const Bw=d.forwardRef(zw);function Uw({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25v13.5m-7.5-13.5v13.5"}))}const Hw=d.forwardRef(Uw);function Ww({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const Vw=d.forwardRef(Ww);function qw({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}const Qw=d.forwardRef(qw);function Kw({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const Gw=d.forwardRef(Kw);function Zw({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.348 14.652a3.75 3.75 0 0 1 0-5.304m5.304 0a3.75 3.75 0 0 1 0 5.304m-7.425 2.121a6.75 6.75 0 0 1 0-9.546m9.546 0a6.75 6.75 0 0 1 0 9.546M5.106 18.894c-3.808-3.807-3.808-9.98 0-13.788m13.788 0c3.808 3.807 3.808 9.98 0 13.788M12 12h.008v.008H12V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const rf=d.forwardRef(Zw);function Jw({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}const mt=d.forwardRef(Jw);function Xw({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"}))}const Bp=d.forwardRef(Xw);function Yw({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"}))}const eb=d.forwardRef(Yw);function tb({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 7.5A2.25 2.25 0 0 1 7.5 5.25h9a2.25 2.25 0 0 1 2.25 2.25v9a2.25 2.25 0 0 1-2.25 2.25h-9a2.25 2.25 0 0 1-2.25-2.25v-9Z"}))}const nb=d.forwardRef(tb);function rb({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"}))}const sf=d.forwardRef(rb);function sb({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const Up=d.forwardRef(sb);function ib({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const ob=d.forwardRef(ib);function ab({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25c2.291 0 4.545.16 6.75.47v1.516M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.492a46.32 46.32 0 0 1 2.916.52 6.003 6.003 0 0 1-5.395 4.972m0 0a6.726 6.726 0 0 1-2.749 1.35m0 0a6.772 6.772 0 0 1-3.044 0"}))}const $l=d.forwardRef(ab);function lb({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Xn=d.forwardRef(lb);function cb({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Hp=d.forwardRef(cb);function ub({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Br=d.forwardRef(ub),Wp=d.createContext(void 0),Vp=()=>{const e=d.useContext(Wp);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e},db=({children:e})=>{const[t,n]=d.useState(()=>localStorage.getItem("theme")||"system"),[r,i]=d.useState("light");d.useEffect(()=>{const l=window.matchMedia("(prefers-color-scheme: dark)"),c=()=>{i(t==="system"?l.matches?"dark":"light":t)};return c(),l.addEventListener("change",c),()=>l.removeEventListener("change",c)},[t]),d.useEffect(()=>{const l=document.documentElement;l.classList.remove("light","dark"),l.classList.add(r);const c=document.querySelector('meta[name="theme-color"]');c&&c.setAttribute("content",r==="dark"?"#1f2937":"#ffffff")},[r]);const o=l=>{n(l),localStorage.setItem("theme",l)},a=()=>{o(r==="light"?"dark":"light")};return s.jsx(Wp.Provider,{value:{theme:t,resolvedTheme:r,setTheme:o,toggleTheme:a},children:e})},hb={},of=e=>{let t;const n=new Set,r=(h,f)=>{const m=typeof h=="function"?h(t):h;if(!Object.is(m,t)){const v=t;t=f??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(b=>b(t,v))}},i=()=>t,c={setState:r,getState:i,getInitialState:()=>u,subscribe:h=>(n.add(h),()=>n.delete(h)),destroy:()=>{(hb?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,i,c);return c},fb=e=>e?of(e):of;var qp={exports:{}},Qp={},Kp={exports:{}},Gp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _s=d;function mb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pb=typeof Object.is=="function"?Object.is:mb,gb=_s.useState,xb=_s.useEffect,yb=_s.useLayoutEffect,vb=_s.useDebugValue;function wb(e,t){var n=t(),r=gb({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return yb(function(){i.value=n,i.getSnapshot=t,Fl(i)&&o({inst:i})},[e,n,t]),xb(function(){return Fl(i)&&o({inst:i}),e(function(){Fl(i)&&o({inst:i})})},[e]),vb(n),n}function Fl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!pb(e,n)}catch{return!0}}function bb(e,t){return t()}var jb=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?bb:wb;Gp.useSyncExternalStore=_s.useSyncExternalStore!==void 0?_s.useSyncExternalStore:jb;Kp.exports=Gp;var Sb=Kp.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qa=d,Nb=Sb;function kb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cb=typeof Object.is=="function"?Object.is:kb,Eb=Nb.useSyncExternalStore,_b=Qa.useRef,Rb=Qa.useEffect,Pb=Qa.useMemo,Tb=Qa.useDebugValue;Qp.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=_b(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=Pb(function(){function c(v){if(!u){if(u=!0,h=v,v=r(v),i!==void 0&&a.hasValue){var b=a.value;if(i(b,v))return f=b}return f=v}if(b=f,Cb(h,v))return b;var w=r(v);return i!==void 0&&i(b,w)?(h=v,b):(h=v,f=w)}var u=!1,h,f,m=n===void 0?null:n;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,n,r,i]);var l=Eb(e,o[0],o[1]);return Rb(function(){a.hasValue=!0,a.value=l},[l]),Tb(l),l};qp.exports=Qp;var Ab=qp.exports;const Db=qf(Ab),Zp={},{useDebugValue:Mb}=Qi,{useSyncExternalStoreWithSelector:Lb}=Db;let af=!1;const Ib=e=>e;function $b(e,t=Ib,n){(Zp?"production":void 0)!=="production"&&n&&!af&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),af=!0);const r=Lb(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Mb(r),r}const Fb=e=>{(Zp?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?fb(e):e,n=(r,i)=>$b(t,r,i);return Object.assign(n,t),n},Ob=e=>Fb,zb={};function Bb(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var o;const a=c=>c===null?null:JSON.parse(c,void 0),l=(o=n.getItem(i))!=null?o:null;return l instanceof Promise?l.then(a):a(l)},setItem:(i,o)=>n.setItem(i,JSON.stringify(o,void 0)),removeItem:i=>n.removeItem(i)}}const Li=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Li(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Li(r)(n)}}}},Ub=(e,t)=>(n,r,i)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:x=>x,version:0,merge:(x,g)=>({...g,...x}),...t},a=!1;const l=new Set,c=new Set;let u;try{u=o.getStorage()}catch{}if(!u)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...x)},r,i);const h=Li(o.serialize),f=()=>{const x=o.partialize({...r()});let g;const p=h({state:x,version:o.version}).then(y=>u.setItem(o.name,y)).catch(y=>{g=y});if(g)throw g;return p},m=i.setState;i.setState=(x,g)=>{m(x,g),f()};const v=e((...x)=>{n(...x),f()},r,i);let b;const w=()=>{var x;if(!u)return;a=!1,l.forEach(p=>p(r()));const g=((x=o.onRehydrateStorage)==null?void 0:x.call(o,r()))||void 0;return Li(u.getItem.bind(u))(o.name).then(p=>{if(p)return o.deserialize(p)}).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==o.version){if(o.migrate)return o.migrate(p.state,p.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return p.state}).then(p=>{var y;return b=o.merge(p,(y=r())!=null?y:v),n(b,!0),f()}).then(()=>{g==null||g(b,void 0),a=!0,c.forEach(p=>p(b))}).catch(p=>{g==null||g(void 0,p)})};return i.persist={setOptions:x=>{o={...o,...x},x.getStorage&&(u=x.getStorage())},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>w(),hasHydrated:()=>a,onHydrate:x=>(l.add(x),()=>{l.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},w(),b||v},Hb=(e,t)=>(n,r,i)=>{let o={storage:Bb(()=>localStorage),partialize:w=>w,version:0,merge:(w,x)=>({...x,...w}),...t},a=!1;const l=new Set,c=new Set;let u=o.storage;if(!u)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...w)},r,i);const h=()=>{const w=o.partialize({...r()});return u.setItem(o.name,{state:w,version:o.version})},f=i.setState;i.setState=(w,x)=>{f(w,x),h()};const m=e((...w)=>{n(...w),h()},r,i);i.getInitialState=()=>m;let v;const b=()=>{var w,x;if(!u)return;a=!1,l.forEach(p=>{var y;return p((y=r())!=null?y:m)});const g=((x=o.onRehydrateStorage)==null?void 0:x.call(o,(w=r())!=null?w:m))||void 0;return Li(u.getItem.bind(u))(o.name).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==o.version){if(o.migrate)return[!0,o.migrate(p.state,p.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,p.state];return[!1,void 0]}).then(p=>{var y;const[j,S]=p;if(v=o.merge(S,(y=r())!=null?y:m),n(v,!0),j)return h()}).then(()=>{g==null||g(v,void 0),v=r(),a=!0,c.forEach(p=>p(v))}).catch(p=>{g==null||g(void 0,p)})};return i.persist={setOptions:w=>{o={...o,...w},w.storage&&(u=w.storage)},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>b(),hasHydrated:()=>a,onHydrate:w=>(l.add(w),()=>{l.delete(w)}),onFinishHydration:w=>(c.add(w),()=>{c.delete(w)})},o.skipHydration||b(),v||m},Wb=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((zb?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Ub(e,t)):Hb(e,t),Vb=Wb,Eo={layoutMode:"grid",viewDensity:"comfortable",showThumbnails:!0,itemsPerPage:20,defaultSort:"dateAdded",defaultSortDirection:"desc",enableSemanticSearch:!0,maxSearchHistory:10,defaultConcurrency:3,autoStartDownloads:!1,notifyOnCompletion:!0,downloadPath:"",enableVirtualScrolling:!0,lazyLoadImages:!0,enableAnimations:!0,collectAnalytics:!0,shareUsageStats:!1,enableBetaFeatures:!1,debugMode:!1,compactNavigation:!1,hideCompletedDownloads:!1,showAdvancedFilters:!1},Ka=Ob()(Vb((e,t)=>({preferences:Eo,profile:null,isLoading:!1,updatePreferences:n=>{e(r=>({preferences:{...r.preferences,...n},profile:r.profile?{...r.profile,preferences:{...r.profile.preferences,...n}}:null}))},resetPreferences:()=>{e(n=>({preferences:Eo,profile:n.profile?{...n.profile,preferences:Eo}:null}))},setProfile:n=>{e({profile:n,preferences:n.preferences})},updateProfile:n=>{e(r=>({profile:r.profile?{...r.profile,...n}:null}))},clearProfile:()=>{e({profile:null,preferences:Eo})},toggleLayoutMode:()=>{const n=t().preferences.layoutMode;t().updatePreferences({layoutMode:n==="grid"?"list":"grid"})},setViewDensity:n=>{t().updatePreferences({viewDensity:n})},toggleAnimations:()=>{const n=t().preferences.enableAnimations;t().updatePreferences({enableAnimations:!n})},toggleVirtualScrolling:()=>{const n=t().preferences.enableVirtualScrolling;t().updatePreferences({enableVirtualScrolling:!n})},toggleAnalytics:()=>{const n=t().preferences.collectAnalytics;t().updatePreferences({collectAnalytics:!n})},canCollectAnalytics:()=>t().preferences.collectAnalytics,exportPreferences:()=>{const{preferences:n,profile:r}=t();return JSON.stringify({preferences:n,profile:r?{...r,exportedAt:new Date().toISOString()}:null,exportedAt:new Date().toISOString(),version:"1.0.0"},null,2)},importPreferences:n=>{try{const r=JSON.parse(n);return r.preferences&&t().updatePreferences(r.preferences),r.profile&&t().setProfile(r.profile),!0}catch(r){return console.error("Failed to import preferences:",r),!1}}}),{name:"user-preferences-store",partialize:e=>({preferences:e.preferences,profile:e.profile})}));function Jp(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Jp(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function qb(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Jp(e))&&(r&&(r+=" "),r+=t);return r}const se=({variant:e="primary",size:t="md",loading:n=!1,children:r,className:i,disabled:o,...a})=>{const l="inline-flex items-center justify-center font-medium rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",c={primary:"bg-primary-600 hover:bg-primary-700 text-white focus:ring-primary-500",secondary:"bg-gray-200 hover:bg-gray-300 text-gray-900 focus:ring-gray-500",outline:"border border-gray-300 hover:bg-gray-50 text-gray-700 focus:ring-primary-500",danger:"bg-error-600 hover:bg-error-700 text-white focus:ring-error-500"},u={sm:"px-3 py-2 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"};return s.jsxs("button",{className:qb(l,c[e],u[t],i),disabled:o||n,...a,children:[n&&s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r]})},Qb=({isOpen:e,onClose:t})=>{const[n,r]=d.useState("appearance"),{theme:i,setTheme:o}=Vp(),{preferences:a,profile:l,updatePreferences:c,resetPreferences:u,toggleLayoutMode:h,setViewDensity:f,toggleAnimations:m,toggleVirtualScrolling:v,toggleAnalytics:b,exportPreferences:w,importPreferences:x}=Ka(),g=()=>{const S=document.createElement("input");S.type="file",S.accept=".json",S.onchange=C=>{var E;const k=(E=C.target.files)==null?void 0:E[0];if(k){const _=new FileReader;_.onload=R=>{var z;const Q=(z=R.target)==null?void 0:z.result;x(Q)?W.success("Settings imported successfully"):W.error("Failed to import settings")},_.readAsText(k)}},S.click()},p=()=>{const S=w(),C=new Blob([S],{type:"application/json"}),k=URL.createObjectURL(C),E=document.createElement("a");E.href=k,E.download=`scenery-addons-settings-${new Date().toISOString().split("T")[0]}.json`,E.click(),URL.revokeObjectURL(k),W.success("Settings exported successfully")},y=()=>{confirm("Are you sure you want to reset all settings to default? This cannot be undone.")&&(u(),W.success("Settings reset to default"))},j=[{id:"appearance",label:"Appearance",icon:Bw},{id:"preferences",label:"Preferences",icon:fd},{id:"performance",label:"Performance",icon:tu},{id:"profile",label:"Profile",icon:Xn},{id:"privacy",label:"Privacy",icon:Gw}];return e?s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:t}),s.jsxs("div",{className:"inline-block w-full max-w-4xl px-6 py-4 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Settings"}),s.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:s.jsx(Br,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"flex mt-4",children:[s.jsx("div",{className:"w-64 pr-6 border-r border-gray-200",children:s.jsx("nav",{className:"space-y-1",children:j.map(S=>s.jsxs("button",{onClick:()=>r(S.id),className:`w-full flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ${n===S.id?"bg-blue-50 text-blue-700 border-blue-200":"text-gray-700 hover:bg-gray-50"}`,children:[s.jsx(S.icon,{className:"h-5 w-5 mr-3"}),S.label]},S.id))})}),s.jsxs("div",{className:"flex-1 pl-6",children:[n==="appearance"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Theme"}),s.jsx("div",{className:"space-y-3",children:[{value:"light",label:"Light"},{value:"dark",label:"Dark"},{value:"system",label:"System"}].map(S=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"theme",value:S.value,checked:i===S.value,onChange:()=>o(S.value),className:"mr-3"}),s.jsx("span",{className:"text-sm text-gray-700",children:S.label})]},S.value))})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Layout"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Layout Mode"}),s.jsx("button",{onClick:h,className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200",children:a.layoutMode==="grid"?"Grid":"List"})]}),s.jsxs("label",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"View Density"}),s.jsxs("select",{value:a.viewDensity,onChange:S=>f(S.target.value),className:"px-3 py-1 text-sm border border-gray-300 rounded-md",children:[s.jsx("option",{value:"compact",children:"Compact"}),s.jsx("option",{value:"comfortable",children:"Comfortable"}),s.jsx("option",{value:"spacious",children:"Spacious"})]})]}),s.jsxs("label",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Show Thumbnails"}),s.jsx("button",{onClick:()=>c({showThumbnails:!a.showThumbnails}),className:"p-1 text-gray-500 hover:text-gray-700",children:a.showThumbnails?s.jsx(Es,{className:"h-5 w-5"}):s.jsx(Cw,{className:"h-5 w-5"})})]})]})]})]}),n==="preferences"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Search"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Default Sort"}),s.jsxs("select",{value:a.defaultSort,onChange:S=>c({defaultSort:S.target.value}),className:"px-3 py-1 text-sm border border-gray-300 rounded-md",children:[s.jsx("option",{value:"name",children:"Name"}),s.jsx("option",{value:"dateAdded",children:"Date Added"}),s.jsx("option",{value:"compatibility",children:"Compatibility"}),s.jsx("option",{value:"fileSize",children:"File Size"})]})]}),s.jsxs("label",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Enable Semantic Search"}),s.jsx("input",{type:"checkbox",checked:a.enableSemanticSearch,onChange:S=>c({enableSemanticSearch:S.target.checked}),className:"h-4 w-4 text-blue-600 border-gray-300 rounded"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Downloads"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Default Concurrency"}),s.jsx("input",{type:"number",min:"1",max:"10",value:a.defaultConcurrency,onChange:S=>c({defaultConcurrency:parseInt(S.target.value)}),className:"w-20 px-3 py-1 text-sm border border-gray-300 rounded-md"})]}),s.jsxs("label",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Auto-start Downloads"}),s.jsx("input",{type:"checkbox",checked:a.autoStartDownloads,onChange:S=>c({autoStartDownloads:S.target.checked}),className:"h-4 w-4 text-blue-600 border-gray-300 rounded"})]}),s.jsxs("label",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Notify on Completion"}),s.jsx("input",{type:"checkbox",checked:a.notifyOnCompletion,onChange:S=>c({notifyOnCompletion:S.target.checked}),className:"h-4 w-4 text-blue-600 border-gray-300 rounded"})]})]})]})]}),n==="performance"&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Performance Options"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Enable Virtual Scrolling"}),s.jsx("input",{type:"checkbox",checked:a.enableVirtualScrolling,onChange:()=>v(),className:"h-4 w-4 text-blue-600 border-gray-300 rounded"})]}),s.jsxs("label",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Lazy Load Images"}),s.jsx("input",{type:"checkbox",checked:a.lazyLoadImages,onChange:S=>c({lazyLoadImages:S.target.checked}),className:"h-4 w-4 text-blue-600 border-gray-300 rounded"})]}),s.jsxs("label",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Enable Animations"}),s.jsx("input",{type:"checkbox",checked:a.enableAnimations,onChange:()=>m(),className:"h-4 w-4 text-blue-600 border-gray-300 rounded"})]}),s.jsxs("label",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Items Per Page"}),s.jsxs("select",{value:a.itemsPerPage,onChange:S=>c({itemsPerPage:parseInt(S.target.value)}),className:"px-3 py-1 text-sm border border-gray-300 rounded-md",children:[s.jsx("option",{value:"10",children:"10"}),s.jsx("option",{value:"20",children:"20"}),s.jsx("option",{value:"50",children:"50"}),s.jsx("option",{value:"100",children:"100"})]})]})]})]})}),n==="profile"&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Profile Information"}),l?s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Username"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:l.username})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Email"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:l.email})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Total Downloads"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:l.totalDownloads})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Join Date"}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:new Date(l.joinDate).toLocaleDateString()})]})]}):s.jsx("p",{className:"text-sm text-gray-500",children:"No profile information available"})]})}),n==="privacy"&&s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{children:[s.jsx("h4",{className:"text-md font-medium text-gray-900 mb-4",children:"Privacy Settings"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Collect Analytics"}),s.jsx("input",{type:"checkbox",checked:a.collectAnalytics,onChange:()=>b(),className:"h-4 w-4 text-blue-600 border-gray-300 rounded"})]}),s.jsxs("label",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-700",children:"Share Usage Statistics"}),s.jsx("input",{type:"checkbox",checked:a.shareUsageStats,onChange:S=>c({shareUsageStats:S.target.checked}),className:"h-4 w-4 text-blue-600 border-gray-300 rounded"})]})]})]})}),s.jsxs("div",{className:"flex justify-between items-center pt-6 mt-8 border-t border-gray-200",children:[s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(se,{variant:"outline",onClick:g,children:[s.jsx(ew,{className:"h-4 w-4 mr-2"}),"Import"]}),s.jsxs(se,{variant:"outline",onClick:p,children:[s.jsx(Me,{className:"h-4 w-4 mr-2"}),"Export"]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(se,{variant:"outline",onClick:y,children:[s.jsx(ob,{className:"h-4 w-4 mr-2"}),"Reset"]}),s.jsx(se,{onClick:t,children:"Close"})]})]})]})]})]})]})}):null};class Kb{constructor(){Oe(this,"events",[]);Oe(this,"sessionId");Oe(this,"startTime");Oe(this,"performanceMetrics");Oe(this,"enabled",!0);this.sessionId=this.generateSessionId(),this.startTime=Date.now(),this.performanceMetrics={pageLoadTime:0,apiResponseTime:0,searchTime:0,downloadTime:0,renderTime:0,memoryUsage:0,networkSpeed:0},this.initializePerformanceMonitoring()}generateSessionId(){return`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}initializePerformanceMonitoring(){if(typeof window<"u"&&window.performance){const t=window.performance.getEntriesByType("navigation")[0];t&&(this.performanceMetrics.pageLoadTime=t.loadEventEnd-t.loadEventStart)}if("memory"in window.performance){const t=window.performance.memory;this.performanceMetrics.memoryUsage=t.usedJSHeapSize/(1024*1024)}if("connection"in navigator){const t=navigator.connection;this.performanceMetrics.networkSpeed=t.downlink||0}}setEnabled(t){this.enabled=t}track(t,n){if(!this.enabled)return;const r={event:t,properties:n,timestamp:Date.now(),sessionId:this.sessionId};this.events.push(r),this.persistEvents(),this.sendToAnalytics(r)}trackPerformance(t,n){this.enabled&&(this.performanceMetrics[t]=n,this.track("performance_metric",{metric:t,value:n,sessionId:this.sessionId}))}trackError(t,n){this.enabled&&this.track("error",{message:t.message,stack:t.stack,context:n,url:window.location.href})}trackPageView(t){this.enabled&&this.track("page_view",{page:t,url:window.location.href,timestamp:Date.now()})}trackUserAction(t,n,r){this.enabled&&this.track("user_action",{action:t,target:n,value:r})}trackSearch(t,n,r){this.enabled&&(this.track("search",{query:t,resultsCount:n,responseTime:r}),this.trackPerformance("searchTime",r))}trackDownload(t,n,r){this.enabled&&(this.track("download",{addonId:t,downloadTime:n,success:r}),r&&this.trackPerformance("downloadTime",n))}persistEvents(){try{const t=localStorage.getItem("analytics_events")||"[]",r=[...JSON.parse(t),...this.events.slice(-100)];localStorage.setItem("analytics_events",JSON.stringify(r))}catch(t){console.error("Failed to persist analytics events:",t)}}sendToAnalytics(t){console.log("Analytics Event:",t)}getSessionMetrics(){return{...this.performanceMetrics}}getUsageStatistics(){try{const t=localStorage.getItem("analytics_events")||"[]",n=JSON.parse(t),r={totalSessions:new Set(n.map(a=>a.sessionId)).size,averageSessionTime:0,totalSearches:n.filter(a=>a.event==="search").length,totalDownloads:n.filter(a=>a.event==="download").length,popularSearchTerms:{},mostDownloadedAddons:{},userActions:{},errorRate:0,bounceRate:0};n.filter(a=>a.event==="search").forEach(a=>{var c;const l=(c=a.properties)==null?void 0:c.query;l&&(r.popularSearchTerms[l]=(r.popularSearchTerms[l]||0)+1)}),n.filter(a=>a.event==="download").forEach(a=>{var c;const l=(c=a.properties)==null?void 0:c.addonId;l&&(r.mostDownloadedAddons[l]=(r.mostDownloadedAddons[l]||0)+1)}),n.filter(a=>a.event==="user_action").forEach(a=>{var c;const l=(c=a.properties)==null?void 0:c.action;l&&(r.userActions[l]=(r.userActions[l]||0)+1)});const i=n.length,o=n.filter(a=>a.event==="error").length;return r.errorRate=i>0?o/i*100:0,r}catch(t){return console.error("Failed to calculate usage statistics:",t),{totalSessions:0,averageSessionTime:0,totalSearches:0,totalDownloads:0,popularSearchTerms:{},mostDownloadedAddons:{},userActions:{},errorRate:0,bounceRate:0}}}clearData(){this.events=[],localStorage.removeItem("analytics_events")}}const Pt=new Kb,Xp=()=>{const{canCollectAnalytics:e}=Ka(),[t,n]=d.useState(e());return d.useEffect(()=>{const h=e();n(h),Pt.setEnabled(h)},[e]),{isEnabled:t,track:(h,f)=>{t&&Pt.track(h,f)},trackPerformance:(h,f)=>{t&&Pt.trackPerformance(h,f)},trackError:(h,f)=>{t&&Pt.trackError(h,f)},trackPageView:h=>{t&&Pt.trackPageView(h)},trackUserAction:(h,f,m)=>{t&&Pt.trackUserAction(h,f,m)},trackSearch:(h,f,m)=>{t&&Pt.trackSearch(h,f,m)},trackDownload:(h,f,m)=>{t&&Pt.trackDownload(h,f,m)},getSessionMetrics:()=>Pt.getSessionMetrics(),getUsageStatistics:()=>Pt.getUsageStatistics(),clearData:()=>Pt.clearData()}},Gb={green:"bg-green-50 text-green-700 border-green-200",blue:"bg-blue-50 text-blue-700 border-blue-200",yellow:"bg-yellow-50 text-yellow-700 border-yellow-200",red:"bg-red-50 text-red-700 border-red-200",purple:"bg-purple-50 text-purple-700 border-purple-200",gray:"bg-gray-50 text-gray-700 border-gray-200"},Zb={green:"text-green-500",blue:"text-blue-500",yellow:"text-yellow-500",red:"text-red-500",purple:"text-purple-500",gray:"text-gray-500"},Ce=({title:e,value:t,icon:n,color:r,subtitle:i,trend:o,isLoading:a,animated:l})=>s.jsxs("div",{className:`rounded-lg border-2 p-6 transition-all duration-200 hover:shadow-md ${Gb[r]}`,children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:`p-2 rounded-lg bg-white/50 ${l?"animate-pulse":""}`,children:s.jsx(n,{className:`h-6 w-6 ${Zb[r]}`})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:e}),i&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:i})]})]})}),s.jsxs("div",{className:"mt-4 flex items-baseline justify-between",children:[s.jsx("div",{children:a?s.jsx("div",{className:"h-8 w-16 bg-gray-200 rounded animate-pulse"}):s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t})}),o&&s.jsxs("div",{className:`flex items-center text-sm ${o.isPositive?"text-green-600":"text-red-600"}`,children:[s.jsx("span",{className:"mr-1",children:o.isPositive?"":""}),Math.abs(o.value),"%"]})]})]}),Jb=({isOpen:e,onClose:t})=>{const[n,r]=d.useState("overview"),[i,o]=d.useState(!1),[a,l]=d.useState({username:"",email:"",avatar:""}),{profile:c,updateProfile:u}=Ka(),{getUsageStatistics:h}=Xp(),f=h(),m=()=>{c&&(l({username:c.username,email:c.email,avatar:c.avatar||""}),o(!0))},v=()=>{c&&(u(a),o(!1),W.success("Profile updated successfully"))},b=()=>{o(!1),l({username:"",email:"",avatar:""})},w=j=>{var C;const S=(C=j.target.files)==null?void 0:C[0];if(S){const k=new FileReader;k.onload=E=>{l(_=>{var R;return{..._,avatar:(R=E.target)==null?void 0:R.result}})},k.readAsDataURL(S)}},x=j=>Math.floor(j/100)+1,g=j=>j%100,p=j=>{switch(j){case"first_download":return{icon:Me,color:"blue"};case"power_user":return{icon:$l,color:"gold"};case"explorer":return{icon:eb,color:"purple"};case"contributor":return{icon:su,color:"red"};default:return{icon:$l,color:"gray"}}},y=[{id:"overview",label:"Overview",icon:Xn},{id:"statistics",label:"Statistics",icon:Dr},{id:"achievements",label:"Achievements",icon:$l},{id:"preferences",label:"Preferences",icon:fd},{id:"activity",label:"Activity",icon:Xt}];return e?s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:t}),s.jsxs("div",{className:"inline-block w-full max-w-4xl px-6 py-4 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"User Profile"}),s.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:s.jsx(Br,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"flex mt-4",children:[s.jsx("div",{className:"w-64 pr-6 border-r border-gray-200",children:s.jsx("nav",{className:"space-y-1",children:y.map(j=>s.jsxs("button",{onClick:()=>r(j.id),className:`w-full flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ${n===j.id?"bg-blue-50 text-blue-700 border-blue-200":"text-gray-700 hover:bg-gray-50"}`,children:[s.jsx(j.icon,{className:"h-5 w-5 mr-3"}),j.label]},j.id))})}),s.jsxs("div",{className:"flex-1 pl-6",children:[n==="overview"&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-full flex items-center justify-center overflow-hidden",children:(i?a.avatar:c!=null&&c.avatar)?s.jsx("img",{src:i?a.avatar:c==null?void 0:c.avatar,alt:"Profile",className:"w-full h-full object-cover"}):s.jsx(Xn,{className:"h-10 w-10 text-gray-400"})}),i&&s.jsxs("label",{className:"absolute bottom-0 right-0 bg-blue-600 text-white p-1 rounded-full cursor-pointer hover:bg-blue-700",children:[s.jsx(lw,{className:"h-3 w-3"}),s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:w})]})]}),s.jsx("div",{className:"flex-1",children:i?s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"text",value:a.username,onChange:j=>l(S=>({...S,username:j.target.value})),className:"text-xl font-bold text-gray-900 border-b-2 border-blue-500 bg-transparent focus:outline-none",placeholder:"Username"}),s.jsx("input",{type:"email",value:a.email,onChange:j=>l(S=>({...S,email:j.target.value})),className:"text-gray-600 border-b border-gray-300 bg-transparent focus:outline-none focus:border-blue-500",placeholder:"Email"})]}):s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900",children:(c==null?void 0:c.username)||"User"}),s.jsx("p",{className:"text-gray-600",children:(c==null?void 0:c.email)||"No email provided"})]})}),s.jsx("div",{className:"flex space-x-2",children:i?s.jsxs(s.Fragment,{children:[s.jsx(se,{size:"sm",onClick:v,children:"Save"}),s.jsx(se,{size:"sm",variant:"outline",onClick:b,children:"Cancel"})]}):s.jsxs(se,{size:"sm",variant:"outline",onClick:m,children:[s.jsx(Vw,{className:"h-4 w-4 mr-2"}),"Edit"]})})]}),s.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Level ",c?x(c.experience):1]}),s.jsxs("span",{className:"text-sm text-gray-500",children:[c?c.experience:0," XP"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full",style:{width:`${c?g(c.experience):0}%`}})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Me,{className:"h-5 w-5 text-blue-600 mr-2"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Total Downloads"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:(c==null?void 0:c.totalDownloads)||0})]})]})}),s.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(su,{className:"h-5 w-5 text-red-600 mr-2"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-600",children:"Favorites"}),s.jsx("p",{className:"text-xl font-bold text-gray-900",children:(c==null?void 0:c.favoriteAddons.length)||0})]})]})})]}),s.jsxs("div",{className:"text-sm text-gray-500",children:["Member since ",c?new Date(c.joinDate).toLocaleDateString():"Unknown"]})]}),n==="statistics"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Usage Statistics"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(Ce,{title:"Total Sessions",value:f.totalSessions,icon:Xt,color:"blue",subtitle:"App sessions"}),s.jsx(Ce,{title:"Total Searches",value:f.totalSearches,icon:Dr,color:"green",subtitle:"Search queries"}),s.jsx(Ce,{title:"Downloads",value:f.totalDownloads,icon:Me,color:"purple",subtitle:"Addon downloads"}),s.jsx(Ce,{title:"Average Session",value:`${f.averageSessionTime.toFixed(1)}m`,icon:Xt,color:"gray",subtitle:"Session duration"})]})]}),n==="achievements"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Achievements"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(c==null?void 0:c.achievements.map((j,S)=>{const{icon:C,color:k}=p(j);return s.jsxs("div",{className:"flex items-center p-4 bg-white rounded-lg border border-gray-200",children:[s.jsx("div",{className:`p-2 rounded-full mr-4 ${k==="gold"?"bg-yellow-100":`bg-${k}-100`}`,children:s.jsx(C,{className:`h-6 w-6 ${k==="gold"?"text-yellow-600":`text-${k}-600`}`})}),s.jsxs("div",{children:[s.jsx("h5",{className:"font-medium text-gray-900 capitalize",children:j.replace("_"," ")}),s.jsx("p",{className:"text-sm text-gray-600",children:"Achievement unlocked"})]})]},S)}))||s.jsx("p",{className:"text-gray-500",children:"No achievements yet"})})]}),n==="preferences"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"User Preferences"}),s.jsxs("p",{className:"text-gray-600",children:["Manage your preferences in the main settings panel.",s.jsx(se,{variant:"outline",size:"sm",className:"ml-2",children:"Open Settings"})]})]}),n==="activity"&&s.jsxs("div",{className:"space-y-6",children:[s.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"}),s.jsx("div",{className:"space-y-3",children:(c==null?void 0:c.downloadHistory.slice(0,10).map((j,S)=>s.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[s.jsx(Me,{className:"h-5 w-5 text-blue-600 mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Downloaded addon"}),s.jsxs("p",{className:"text-xs text-gray-500",children:["ID: ",j]})]})]},S)))||s.jsx("p",{className:"text-gray-500",children:"No recent activity"})})]})]})]})]})]})}):null},Yp=({className:e})=>{const{getSessionMetrics:t,getUsageStatistics:n,isEnabled:r}=Xp(),[i,o]=d.useState(null),[a,l]=d.useState(null),[c,u]=d.useState("performance");d.useEffect(()=>{r&&(o(t()),l(n()))},[r,t,n]);const h=x=>x<1e3?`${x.toFixed(0)}ms`:`${(x/1e3).toFixed(1)}s`,f=x=>{if(x===0)return"0 B";const g=1024,p=["B","KB","MB","GB"],y=Math.floor(Math.log(x)/Math.log(g));return parseFloat((x/Math.pow(g,y)).toFixed(2))+" "+p[y]},m=(x,g)=>x<=g.good?"green":x<=g.warning?"yellow":"red",v=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(Ce,{title:"Page Load Time",value:i?h(i.pageLoadTime):"N/A",icon:Xt,color:i?m(i.pageLoadTime,{good:1e3,warning:3e3}):"gray",subtitle:"Time to interactive"}),s.jsx(Ce,{title:"API Response",value:i?h(i.apiResponseTime):"N/A",icon:rf,color:i?m(i.apiResponseTime,{good:500,warning:1e3}):"gray",subtitle:"Average response time"}),s.jsx(Ce,{title:"Search Time",value:i?h(i.searchTime):"N/A",icon:gn,color:i?m(i.searchTime,{good:300,warning:1e3}):"gray",subtitle:"Search response time"}),s.jsx(Ce,{title:"Memory Usage",value:i?f(i.memoryUsage*1024*1024):"N/A",icon:ru,color:i?m(i.memoryUsage,{good:50,warning:100}):"gray",subtitle:"JavaScript heap size"})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Insights"}),s.jsx("div",{className:"space-y-4",children:i&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Xt,{className:"h-5 w-5 text-blue-600 mr-2"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Render Time"})]}),s.jsx("span",{className:"text-sm text-gray-900",children:h(i.renderTime)})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Me,{className:"h-5 w-5 text-green-600 mr-2"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Download Time"})]}),s.jsx("span",{className:"text-sm text-gray-900",children:h(i.downloadTime)})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(rf,{className:"h-5 w-5 text-purple-600 mr-2"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Network Speed"})]}),s.jsxs("span",{className:"text-sm text-gray-900",children:[i.networkSpeed.toFixed(1)," Mbps"]})]})]})})]})]}),b=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsx(Ce,{title:"Total Sessions",value:(a==null?void 0:a.totalSessions)||0,icon:Es,color:"blue",subtitle:"User sessions"}),s.jsx(Ce,{title:"Total Searches",value:(a==null?void 0:a.totalSearches)||0,icon:gn,color:"green",subtitle:"Search queries"}),s.jsx(Ce,{title:"Total Downloads",value:(a==null?void 0:a.totalDownloads)||0,icon:Me,color:"purple",subtitle:"Addon downloads"}),s.jsx(Ce,{title:"Error Rate",value:a?`${a.errorRate.toFixed(1)}%`:"0%",icon:ts,color:a?m(a.errorRate,{good:1,warning:5}):"gray",subtitle:"Application errors"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Popular Search Terms"}),s.jsx("div",{className:"space-y-2",children:a&&Object.entries(a.popularSearchTerms).sort(([,x],[,g])=>g-x).slice(0,10).map(([x,g])=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-700 truncate",children:x}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:g})]},x))})]}),s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"User Actions"}),s.jsx("div",{className:"space-y-2",children:a&&Object.entries(a.userActions).sort(([,x],[,g])=>g-x).slice(0,10).map(([x,g])=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-700 truncate",children:x}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:g})]},x))})]})]})]}),w=()=>s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Error Analysis"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ts,{className:"h-5 w-5 text-red-600 mr-2"}),s.jsx("span",{className:"text-sm font-medium text-red-700",children:"Error Rate"})]}),s.jsx("span",{className:"text-sm text-red-900",children:a?`${a.errorRate.toFixed(1)}%`:"0%"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Es,{className:"h-5 w-5 text-yellow-600 mr-2"}),s.jsx("span",{className:"text-sm font-medium text-yellow-700",children:"Bounce Rate"})]}),s.jsx("span",{className:"text-sm text-yellow-900",children:a?`${a.bounceRate.toFixed(1)}%`:"0%"})]})]})]})});return r?s.jsxs("div",{className:`space-y-6 ${e}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Performance Analytics"}),s.jsxs(se,{variant:"outline",onClick:()=>{o(t()),l(n())},children:[s.jsx(Dr,{className:"h-4 w-4 mr-2"}),"Refresh Data"]})]}),s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"flex space-x-8",children:[{key:"performance",label:"Performance",icon:ru},{key:"usage",label:"Usage",icon:Dr},{key:"errors",label:"Errors",icon:ts}].map(x=>s.jsxs("button",{onClick:()=>u(x.key),className:`flex items-center py-2 px-1 border-b-2 font-medium text-sm ${c===x.key?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(x.icon,{className:"h-4 w-4 mr-2"}),x.label]},x.key))})}),s.jsxs("div",{className:"mt-6",children:[c==="performance"&&v(),c==="usage"&&b(),c==="errors"&&w()]})]}):s.jsx("div",{className:`bg-yellow-50 border border-yellow-200 rounded-lg p-6 ${e}`,children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(ts,{className:"h-6 w-6 text-yellow-600 mr-3"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-yellow-800 font-medium",children:"Analytics Disabled"}),s.jsx("p",{className:"text-yellow-700 text-sm mt-1",children:"Enable analytics in settings to view performance data."})]})]})})},Xb=({onMenuClick:e})=>{const{theme:t,toggleTheme:n,resolvedTheme:r}=Vp(),{profile:i}=Ka(),[o,a]=d.useState(!1),[l,c]=d.useState(!1),[u,h]=d.useState(!1),[f,m]=d.useState(!1),[v,b]=d.useState(!1);d.useEffect(()=>{const p=localStorage.getItem("hasNotifications");b(p===null?!0:p==="true")},[]);const w=()=>{b(!1),localStorage.setItem("hasNotifications","false"),m(!1)},g=(()=>{switch(t){case"light":return sf;case"dark":return Ow;case"system":return yw;default:return sf}})();return s.jsxs(s.Fragment,{children:[s.jsx("header",{className:"sticky top-0 z-20 h-16 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 transition-colors",children:s.jsxs("div",{className:"flex items-center justify-between h-full px-4 lg:px-6",children:[s.jsxs("button",{onClick:e,className:"lg:hidden p-2 rounded-md text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[s.jsx("span",{className:"sr-only",children:"Open menu"}),s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})]}),s.jsx("div",{className:"flex-1 lg:flex-none",children:s.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"SceneryAddons"})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:n,className:"p-2 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors",title:`Current theme: ${t}`,children:s.jsx(g,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>h(!0),className:"p-2 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors",title:"Performance Analytics",children:s.jsx(Dr,{className:"w-5 h-5"})}),s.jsxs("button",{onClick:()=>m(!f),className:"p-2 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors relative",title:"Notifications",children:[s.jsx(nw,{className:"w-5 h-5"}),v&&s.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),s.jsx("button",{onClick:()=>a(!0),className:"p-2 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors",title:"Settings",children:s.jsx(fd,{className:"w-5 h-5"})}),s.jsxs("button",{onClick:()=>c(!0),className:"flex items-center space-x-2 p-2 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors",title:"User Profile",children:[i!=null&&i.avatar?s.jsx("img",{src:i.avatar,alt:"Profile",className:"w-6 h-6 rounded-full object-cover"}):s.jsx(Xn,{className:"w-5 h-5"}),s.jsx("span",{className:"hidden sm:inline text-sm font-medium",children:(i==null?void 0:i.username)||"User"})]})]})]})}),s.jsx(Qb,{isOpen:o,onClose:()=>a(!1)}),s.jsx(Jb,{isOpen:l,onClose:()=>c(!1)}),f&&s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:()=>m(!1)}),s.jsxs("div",{className:"inline-block w-full max-w-md px-6 py-4 my-8 overflow-hidden text-left align-middle transition-all transform bg-white dark:bg-gray-800 shadow-xl rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-gray-200 dark:border-gray-600",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Notifications"}),s.jsx("button",{onClick:()=>m(!1),className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:s.jsx(Br,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"mt-4 space-y-4",children:[s.jsxs("div",{className:"text-gray-700 dark:text-gray-300",children:[s.jsx("p",{className:"py-2",children:"Welcome to SceneryAddonsDB!"}),s.jsx("p",{className:"py-2",children:"No new notifications at this time."})]}),s.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200 dark:border-gray-600",children:s.jsx("button",{onClick:w,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-md hover:bg-blue-700",children:"Clear All"})})]})]})]})}),u&&s.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:s.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[s.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:()=>h(!1)}),s.jsxs("div",{className:"inline-block w-full max-w-6xl px-6 py-4 my-8 overflow-hidden text-left align-middle transition-all transform bg-white dark:bg-gray-800 shadow-xl rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between pb-4 border-b border-gray-200 dark:border-gray-600",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Analytics Dashboard"}),s.jsx("button",{onClick:()=>h(!1),className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"mt-4",children:s.jsx(Yp,{})})]})]})})]})},Yb=({children:e})=>{const[t,n]=d.useState(!1);return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[t&&s.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:()=>n(!1)}),s.jsx(Q2,{isOpen:t,onClose:()=>n(!1)}),s.jsxs("div",{className:"lg:pl-64",children:[s.jsx(Xb,{onMenuClick:()=>n(!0)}),s.jsx("main",{className:"p-4 lg:p-6",children:s.jsx("div",{className:"max-w-7xl mx-auto",children:e})})]})]})};class Sr extends Error{constructor(t,n){const r=new.target.prototype;super(`${t}: Status code '${n}'`),this.statusCode=n,this.__proto__=r}}class pd extends Error{constructor(t="A timeout occurred."){const n=new.target.prototype;super(t),this.__proto__=n}}class $t extends Error{constructor(t="An abort occurred."){const n=new.target.prototype;super(t),this.__proto__=n}}class ej extends Error{constructor(t,n){const r=new.target.prototype;super(t),this.transport=n,this.errorType="UnsupportedTransportError",this.__proto__=r}}class tj extends Error{constructor(t,n){const r=new.target.prototype;super(t),this.transport=n,this.errorType="DisabledTransportError",this.__proto__=r}}class nj extends Error{constructor(t,n){const r=new.target.prototype;super(t),this.transport=n,this.errorType="FailedToStartTransportError",this.__proto__=r}}class lf extends Error{constructor(t){const n=new.target.prototype;super(t),this.errorType="FailedToNegotiateWithServerError",this.__proto__=n}}class rj extends Error{constructor(t,n){const r=new.target.prototype;super(t),this.innerErrors=n,this.__proto__=r}}class eg{constructor(t,n,r){this.statusCode=t,this.statusText=n,this.content=r}}class Ga{get(t,n){return this.send({...n,method:"GET",url:t})}post(t,n){return this.send({...n,method:"POST",url:t})}delete(t,n){return this.send({...n,method:"DELETE",url:t})}getCookieString(t){return""}}var T;(function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Information=2]="Information",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical",e[e.None=6]="None"})(T||(T={}));class Ii{constructor(){}log(t,n){}}Ii.instance=new Ii;const tg="8.0.7";class Ee{static isRequired(t,n){if(t==null)throw new Error(`The '${n}' argument is required.`)}static isNotEmpty(t,n){if(!t||t.match(/^\s*$/))throw new Error(`The '${n}' argument should not be empty.`)}static isIn(t,n,r){if(!(t in n))throw new Error(`Unknown ${r} value: ${t}.`)}}class ye{static get isBrowser(){return!ye.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!ye.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!ye.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}}function $i(e,t){let n="";return Mr(e)?(n=`Binary data of length ${e.byteLength}`,t&&(n+=`. Content: '${sj(e)}'`)):typeof e=="string"&&(n=`String data of length ${e.length}`,t&&(n+=`. Content: '${e}'`)),n}function sj(e){const t=new Uint8Array(e);let n="";return t.forEach(r=>{const i=r<16?"0":"";n+=`0x${i}${r.toString(16)} `}),n.substr(0,n.length-1)}function Mr(e){return e&&typeof ArrayBuffer<"u"&&(e instanceof ArrayBuffer||e.constructor&&e.constructor.name==="ArrayBuffer")}async function ng(e,t,n,r,i,o){const a={},[l,c]=Rs();a[l]=c,e.log(T.Trace,`(${t} transport) sending data. ${$i(i,o.logMessageContent)}.`);const u=Mr(i)?"arraybuffer":"text",h=await n.post(r,{content:i,headers:{...a,...o.headers},responseType:u,timeout:o.timeout,withCredentials:o.withCredentials});e.log(T.Trace,`(${t} transport) request complete. Response status: ${h.statusCode}.`)}function ij(e){return e===void 0?new ja(T.Information):e===null?Ii.instance:e.log!==void 0?e:new ja(e)}class oj{constructor(t,n){this._subject=t,this._observer=n}dispose(){const t=this._subject.observers.indexOf(this._observer);t>-1&&this._subject.observers.splice(t,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(n=>{})}}class ja{constructor(t){this._minLevel=t,this.out=console}log(t,n){if(t>=this._minLevel){const r=`[${new Date().toISOString()}] ${T[t]}: ${n}`;switch(t){case T.Critical:case T.Error:this.out.error(r);break;case T.Warning:this.out.warn(r);break;case T.Information:this.out.info(r);break;default:this.out.log(r);break}}}}function Rs(){let e="X-SignalR-User-Agent";return ye.isNode&&(e="User-Agent"),[e,aj(tg,lj(),uj(),cj())]}function aj(e,t,n,r){let i="Microsoft SignalR/";const o=e.split(".");return i+=`${o[0]}.${o[1]}`,i+=` (${e}; `,t&&t!==""?i+=`${t}; `:i+="Unknown OS; ",i+=`${n}`,r?i+=`; ${r}`:i+="; Unknown Runtime Version",i+=")",i}function lj(){if(ye.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function cj(){if(ye.isNode)return process.versions.node}function uj(){return ye.isNode?"NodeJS":"Browser"}function Ol(e){return e.stack?e.stack:e.message?e.message:`${e}`}function dj(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}class hj extends Ga{constructor(t){if(super(),this._logger=t,typeof fetch>"u"||ye.isNode){const n=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._jar=new(n("tough-cookie")).CookieJar,typeof fetch>"u"?this._fetchType=n("node-fetch"):this._fetchType=fetch,this._fetchType=n("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(dj());if(typeof AbortController>"u"){const n=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._abortControllerType=n("abort-controller")}else this._abortControllerType=AbortController}async send(t){if(t.abortSignal&&t.abortSignal.aborted)throw new $t;if(!t.method)throw new Error("No method defined.");if(!t.url)throw new Error("No url defined.");const n=new this._abortControllerType;let r;t.abortSignal&&(t.abortSignal.onabort=()=>{n.abort(),r=new $t});let i=null;if(t.timeout){const c=t.timeout;i=setTimeout(()=>{n.abort(),this._logger.log(T.Warning,"Timeout from HTTP request."),r=new pd},c)}t.content===""&&(t.content=void 0),t.content&&(t.headers=t.headers||{},Mr(t.content)?t.headers["Content-Type"]="application/octet-stream":t.headers["Content-Type"]="text/plain;charset=UTF-8");let o;try{o=await this._fetchType(t.url,{body:t.content,cache:"no-cache",credentials:t.withCredentials===!0?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...t.headers},method:t.method,mode:"cors",redirect:"follow",signal:n.signal})}catch(c){throw r||(this._logger.log(T.Warning,`Error from HTTP request. ${c}.`),c)}finally{i&&clearTimeout(i),t.abortSignal&&(t.abortSignal.onabort=null)}if(!o.ok){const c=await cf(o,"text");throw new Sr(c||o.statusText,o.status)}const l=await cf(o,t.responseType);return new eg(o.status,o.statusText,l)}getCookieString(t){let n="";return ye.isNode&&this._jar&&this._jar.getCookies(t,(r,i)=>n=i.join("; ")),n}}function cf(e,t){let n;switch(t){case"arraybuffer":n=e.arrayBuffer();break;case"text":n=e.text();break;case"blob":case"document":case"json":throw new Error(`${t} is not supported.`);default:n=e.text();break}return n}class fj extends Ga{constructor(t){super(),this._logger=t}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new $t):t.method?t.url?new Promise((n,r)=>{const i=new XMLHttpRequest;i.open(t.method,t.url,!0),i.withCredentials=t.withCredentials===void 0?!0:t.withCredentials,i.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.content===""&&(t.content=void 0),t.content&&(Mr(t.content)?i.setRequestHeader("Content-Type","application/octet-stream"):i.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const o=t.headers;o&&Object.keys(o).forEach(a=>{i.setRequestHeader(a,o[a])}),t.responseType&&(i.responseType=t.responseType),t.abortSignal&&(t.abortSignal.onabort=()=>{i.abort(),r(new $t)}),t.timeout&&(i.timeout=t.timeout),i.onload=()=>{t.abortSignal&&(t.abortSignal.onabort=null),i.status>=200&&i.status<300?n(new eg(i.status,i.statusText,i.response||i.responseText)):r(new Sr(i.response||i.responseText||i.statusText,i.status))},i.onerror=()=>{this._logger.log(T.Warning,`Error from HTTP request. ${i.status}: ${i.statusText}.`),r(new Sr(i.statusText,i.status))},i.ontimeout=()=>{this._logger.log(T.Warning,"Timeout from HTTP request."),r(new pd)},i.send(t.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class mj extends Ga{constructor(t){if(super(),typeof fetch<"u"||ye.isNode)this._httpClient=new hj(t);else if(typeof XMLHttpRequest<"u")this._httpClient=new fj(t);else throw new Error("No usable HttpClient found.")}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new $t):t.method?t.url?this._httpClient.send(t):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(t){return this._httpClient.getCookieString(t)}}class gt{static write(t){return`${t}${gt.RecordSeparator}`}static parse(t){if(t[t.length-1]!==gt.RecordSeparator)throw new Error("Message is incomplete.");const n=t.split(gt.RecordSeparator);return n.pop(),n}}gt.RecordSeparatorCode=30;gt.RecordSeparator=String.fromCharCode(gt.RecordSeparatorCode);class pj{writeHandshakeRequest(t){return gt.write(JSON.stringify(t))}parseHandshakeResponse(t){let n,r;if(Mr(t)){const l=new Uint8Array(t),c=l.indexOf(gt.RecordSeparatorCode);if(c===-1)throw new Error("Message is incomplete.");const u=c+1;n=String.fromCharCode.apply(null,Array.prototype.slice.call(l.slice(0,u))),r=l.byteLength>u?l.slice(u).buffer:null}else{const l=t,c=l.indexOf(gt.RecordSeparator);if(c===-1)throw new Error("Message is incomplete.");const u=c+1;n=l.substring(0,u),r=l.length>u?l.substring(u):null}const i=gt.parse(n),o=JSON.parse(i[0]);if(o.type)throw new Error("Expected a handshake response from the server.");return[r,o]}}var K;(function(e){e[e.Invocation=1]="Invocation",e[e.StreamItem=2]="StreamItem",e[e.Completion=3]="Completion",e[e.StreamInvocation=4]="StreamInvocation",e[e.CancelInvocation=5]="CancelInvocation",e[e.Ping=6]="Ping",e[e.Close=7]="Close",e[e.Ack=8]="Ack",e[e.Sequence=9]="Sequence"})(K||(K={}));class gj{constructor(){this.observers=[]}next(t){for(const n of this.observers)n.next(t)}error(t){for(const n of this.observers)n.error&&n.error(t)}complete(){for(const t of this.observers)t.complete&&t.complete()}subscribe(t){return this.observers.push(t),new oj(this,t)}}class xj{constructor(t,n,r){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=t,this._connection=n,this._bufferSize=r}async _send(t){const n=this._protocol.writeMessage(t);let r=Promise.resolve();if(this._isInvocationMessage(t)){this._totalMessageCount++;let i=()=>{},o=()=>{};Mr(n)?this._bufferedByteCount+=n.byteLength:this._bufferedByteCount+=n.length,this._bufferedByteCount>=this._bufferSize&&(r=new Promise((a,l)=>{i=a,o=l})),this._messages.push(new yj(n,this._totalMessageCount,i,o))}try{this._reconnectInProgress||await this._connection.send(n)}catch{this._disconnected()}await r}_ack(t){let n=-1;for(let r=0;r<this._messages.length;r++){const i=this._messages[r];if(i._id<=t.sequenceId)n=r,Mr(i._message)?this._bufferedByteCount-=i._message.byteLength:this._bufferedByteCount-=i._message.length,i._resolver();else if(this._bufferedByteCount<this._bufferSize)i._resolver();else break}n!==-1&&(this._messages=this._messages.slice(n+1))}_shouldProcessMessage(t){if(this._waitForSequenceMessage)return t.type!==K.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(t))return!0;const n=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,n<=this._latestReceivedSequenceId?(n===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=n,this._ackTimer(),!0)}_resetSequence(t){if(t.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=t.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){const t=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:K.Sequence,sequenceId:t}));const n=this._messages;for(const r of n)await this._connection.send(r._message);this._reconnectInProgress=!1}_dispose(t){t??(t=new Error("Unable to reconnect to server."));for(const n of this._messages)n._rejector(t)}_isInvocationMessage(t){switch(t.type){case K.Invocation:case K.StreamItem:case K.Completion:case K.StreamInvocation:case K.CancelInvocation:return!0;case K.Close:case K.Sequence:case K.Ping:case K.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:K.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0},1e3))}}class yj{constructor(t,n,r,i){this._message=t,this._id=n,this._resolver=r,this._rejector=i}}const vj=30*1e3,wj=15*1e3,bj=1e5;var ne;(function(e){e.Disconnected="Disconnected",e.Connecting="Connecting",e.Connected="Connected",e.Disconnecting="Disconnecting",e.Reconnecting="Reconnecting"})(ne||(ne={}));class gd{static create(t,n,r,i,o,a,l){return new gd(t,n,r,i,o,a,l)}constructor(t,n,r,i,o,a,l){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(T.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},Ee.isRequired(t,"connection"),Ee.isRequired(n,"logger"),Ee.isRequired(r,"protocol"),this.serverTimeoutInMilliseconds=o??vj,this.keepAliveIntervalInMilliseconds=a??wj,this._statefulReconnectBufferSize=l??bj,this._logger=n,this._protocol=r,this.connection=t,this._reconnectPolicy=i,this._handshakeProtocol=new pj,this.connection.onreceive=c=>this._processIncomingData(c),this.connection.onclose=c=>this._connectionClosed(c),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=ne.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:K.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(t){if(this._connectionState!==ne.Disconnected&&this._connectionState!==ne.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!t)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=t}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==ne.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=ne.Connecting,this._logger.log(T.Debug,"Starting HubConnection.");try{await this._startInternal(),ye.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=ne.Connected,this._connectionStarted=!0,this._logger.log(T.Debug,"HubConnection connected successfully.")}catch(t){return this._connectionState=ne.Disconnected,this._logger.log(T.Debug,`HubConnection failed to start successfully because of error '${t}'.`),Promise.reject(t)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const t=new Promise((n,r)=>{this._handshakeResolver=n,this._handshakeRejecter=r});await this.connection.start(this._protocol.transferFormat);try{let n=this._protocol.version;this.connection.features.reconnect||(n=1);const r={protocol:this._protocol.name,version:n};if(this._logger.log(T.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(r)),this._logger.log(T.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await t,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new xj(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(n){throw this._logger.log(T.Debug,`Hub handshake failed with error '${n}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(n),n}}async stop(){const t=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await t}catch{}}_stopInternal(t){if(this._connectionState===ne.Disconnected)return this._logger.log(T.Debug,`Call to HubConnection.stop(${t}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===ne.Disconnecting)return this._logger.log(T.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const n=this._connectionState;return this._connectionState=ne.Disconnecting,this._logger.log(T.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(T.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(n===ne.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=t||new $t("The connection was stopped before the hub handshake could complete."),this.connection.stop(t))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(t,...n){const[r,i]=this._replaceStreamingParams(n),o=this._createStreamInvocation(t,n,i);let a;const l=new gj;return l.cancelCallback=()=>{const c=this._createCancelInvocation(o.invocationId);return delete this._callbacks[o.invocationId],a.then(()=>this._sendWithProtocol(c))},this._callbacks[o.invocationId]=(c,u)=>{if(u){l.error(u);return}else c&&(c.type===K.Completion?c.error?l.error(new Error(c.error)):l.complete():l.next(c.item))},a=this._sendWithProtocol(o).catch(c=>{l.error(c),delete this._callbacks[o.invocationId]}),this._launchStreams(r,a),l}_sendMessage(t){return this._resetKeepAliveInterval(),this.connection.send(t)}_sendWithProtocol(t){return this._messageBuffer?this._messageBuffer._send(t):this._sendMessage(this._protocol.writeMessage(t))}send(t,...n){const[r,i]=this._replaceStreamingParams(n),o=this._sendWithProtocol(this._createInvocation(t,n,!0,i));return this._launchStreams(r,o),o}invoke(t,...n){const[r,i]=this._replaceStreamingParams(n),o=this._createInvocation(t,n,!1,i);return new Promise((l,c)=>{this._callbacks[o.invocationId]=(h,f)=>{if(f){c(f);return}else h&&(h.type===K.Completion?h.error?c(new Error(h.error)):l(h.result):c(new Error(`Unexpected message type: ${h.type}`)))};const u=this._sendWithProtocol(o).catch(h=>{c(h),delete this._callbacks[o.invocationId]});this._launchStreams(r,u)})}on(t,n){!t||!n||(t=t.toLowerCase(),this._methods[t]||(this._methods[t]=[]),this._methods[t].indexOf(n)===-1&&this._methods[t].push(n))}off(t,n){if(!t)return;t=t.toLowerCase();const r=this._methods[t];if(r)if(n){const i=r.indexOf(n);i!==-1&&(r.splice(i,1),r.length===0&&delete this._methods[t])}else delete this._methods[t]}onclose(t){t&&this._closedCallbacks.push(t)}onreconnecting(t){t&&this._reconnectingCallbacks.push(t)}onreconnected(t){t&&this._reconnectedCallbacks.push(t)}_processIncomingData(t){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(t=this._processHandshakeResponse(t),this._receivedHandshakeResponse=!0),t){const n=this._protocol.parseMessages(t,this._logger);for(const r of n)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(r)))switch(r.type){case K.Invocation:this._invokeClientMethod(r).catch(i=>{this._logger.log(T.Error,`Invoke client method threw error: ${Ol(i)}`)});break;case K.StreamItem:case K.Completion:{const i=this._callbacks[r.invocationId];if(i){r.type===K.Completion&&delete this._callbacks[r.invocationId];try{i(r)}catch(o){this._logger.log(T.Error,`Stream callback threw error: ${Ol(o)}`)}}break}case K.Ping:break;case K.Close:{this._logger.log(T.Information,"Close message received from server.");const i=r.error?new Error("Server returned an error on close: "+r.error):void 0;r.allowReconnect===!0?this.connection.stop(i):this._stopPromise=this._stopInternal(i);break}case K.Ack:this._messageBuffer&&this._messageBuffer._ack(r);break;case K.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(r);break;default:this._logger.log(T.Warning,`Invalid message type: ${r.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(t){let n,r;try{[r,n]=this._handshakeProtocol.parseHandshakeResponse(t)}catch(i){const o="Error parsing handshake response: "+i;this._logger.log(T.Error,o);const a=new Error(o);throw this._handshakeRejecter(a),a}if(n.error){const i="Server returned handshake error: "+n.error;this._logger.log(T.Error,i);const o=new Error(i);throw this._handshakeRejecter(o),o}else this._logger.log(T.Debug,"Server handshake complete.");return this._handshakeResolver(),r}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if((!this.connection.features||!this.connection.features.inherentKeepAlive)&&(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),this._pingServerHandle===void 0)){let t=this._nextKeepAlive-new Date().getTime();t<0&&(t=0),this._pingServerHandle=setTimeout(async()=>{if(this._connectionState===ne.Connected)try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}},t)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(t){const n=t.target.toLowerCase(),r=this._methods[n];if(!r){this._logger.log(T.Warning,`No client method with the name '${n}' found.`),t.invocationId&&(this._logger.log(T.Warning,`No result given for '${n}' method and invocation ID '${t.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(t.invocationId,"Client didn't provide a result.",null)));return}const i=r.slice(),o=!!t.invocationId;let a,l,c;for(const u of i)try{const h=a;a=await u.apply(this,t.arguments),o&&a&&h&&(this._logger.log(T.Error,`Multiple results provided for '${n}'. Sending error to server.`),c=this._createCompletionMessage(t.invocationId,"Client provided multiple results.",null)),l=void 0}catch(h){l=h,this._logger.log(T.Error,`A callback for the method '${n}' threw error '${h}'.`)}c?await this._sendWithProtocol(c):o?(l?c=this._createCompletionMessage(t.invocationId,`${l}`,null):a!==void 0?c=this._createCompletionMessage(t.invocationId,null,a):(this._logger.log(T.Warning,`No result given for '${n}' method and invocation ID '${t.invocationId}'.`),c=this._createCompletionMessage(t.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(c)):a&&this._logger.log(T.Error,`Result given for '${n}' method but server is not expecting a result.`)}_connectionClosed(t){this._logger.log(T.Debug,`HubConnection.connectionClosed(${t}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||t||new $t("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(t||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===ne.Disconnecting?this._completeClose(t):this._connectionState===ne.Connected&&this._reconnectPolicy?this._reconnect(t):this._connectionState===ne.Connected&&this._completeClose(t)}_completeClose(t){if(this._connectionStarted){this._connectionState=ne.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(t??new Error("Connection closed.")),this._messageBuffer=void 0),ye.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(n=>n.apply(this,[t]))}catch(n){this._logger.log(T.Error,`An onclose callback called with error '${t}' threw error '${n}'.`)}}}async _reconnect(t){const n=Date.now();let r=0,i=t!==void 0?t:new Error("Attempting to reconnect due to a unknown error."),o=this._getNextRetryDelay(r++,0,i);if(o===null){this._logger.log(T.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(t);return}if(this._connectionState=ne.Reconnecting,t?this._logger.log(T.Information,`Connection reconnecting because of error '${t}'.`):this._logger.log(T.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(a=>a.apply(this,[t]))}catch(a){this._logger.log(T.Error,`An onreconnecting callback called with error '${t}' threw error '${a}'.`)}if(this._connectionState!==ne.Reconnecting){this._logger.log(T.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;o!==null;){if(this._logger.log(T.Information,`Reconnect attempt number ${r} will start in ${o} ms.`),await new Promise(a=>{this._reconnectDelayHandle=setTimeout(a,o)}),this._reconnectDelayHandle=void 0,this._connectionState!==ne.Reconnecting){this._logger.log(T.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(await this._startInternal(),this._connectionState=ne.Connected,this._logger.log(T.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(a=>a.apply(this,[this.connection.connectionId]))}catch(a){this._logger.log(T.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${a}'.`)}return}catch(a){if(this._logger.log(T.Information,`Reconnect attempt failed because of error '${a}'.`),this._connectionState!==ne.Reconnecting){this._logger.log(T.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===ne.Disconnecting&&this._completeClose();return}i=a instanceof Error?a:new Error(a.toString()),o=this._getNextRetryDelay(r++,Date.now()-n,i)}}this._logger.log(T.Information,`Reconnect retries have been exhausted after ${Date.now()-n} ms and ${r} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(t,n,r){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:n,previousRetryCount:t,retryReason:r})}catch(i){return this._logger.log(T.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${t}, ${n}) threw error '${i}'.`),null}}_cancelCallbacksWithError(t){const n=this._callbacks;this._callbacks={},Object.keys(n).forEach(r=>{const i=n[r];try{i(null,t)}catch(o){this._logger.log(T.Error,`Stream 'error' callback called with '${t}' threw error: ${Ol(o)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(t,n,r,i){if(r)return i.length!==0?{arguments:n,streamIds:i,target:t,type:K.Invocation}:{arguments:n,target:t,type:K.Invocation};{const o=this._invocationId;return this._invocationId++,i.length!==0?{arguments:n,invocationId:o.toString(),streamIds:i,target:t,type:K.Invocation}:{arguments:n,invocationId:o.toString(),target:t,type:K.Invocation}}}_launchStreams(t,n){if(t.length!==0){n||(n=Promise.resolve());for(const r in t)t[r].subscribe({complete:()=>{n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(r)))},error:i=>{let o;i instanceof Error?o=i.message:i&&i.toString?o=i.toString():o="Unknown error",n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(r,o)))},next:i=>{n=n.then(()=>this._sendWithProtocol(this._createStreamItemMessage(r,i)))}})}}_replaceStreamingParams(t){const n=[],r=[];for(let i=0;i<t.length;i++){const o=t[i];if(this._isObservable(o)){const a=this._invocationId;this._invocationId++,n[a]=o,r.push(a.toString()),t.splice(i,1)}}return[n,r]}_isObservable(t){return t&&t.subscribe&&typeof t.subscribe=="function"}_createStreamInvocation(t,n,r){const i=this._invocationId;return this._invocationId++,r.length!==0?{arguments:n,invocationId:i.toString(),streamIds:r,target:t,type:K.StreamInvocation}:{arguments:n,invocationId:i.toString(),target:t,type:K.StreamInvocation}}_createCancelInvocation(t){return{invocationId:t,type:K.CancelInvocation}}_createStreamItemMessage(t,n){return{invocationId:t,item:n,type:K.StreamItem}}_createCompletionMessage(t,n,r){return n?{error:n,invocationId:t,type:K.Completion}:{invocationId:t,result:r,type:K.Completion}}_createCloseMessage(){return{type:K.Close}}}const jj=[0,2e3,1e4,3e4,null];class uf{constructor(t){this._retryDelays=t!==void 0?[...t,null]:jj}nextRetryDelayInMilliseconds(t){return this._retryDelays[t.previousRetryCount]}}class Nr{}Nr.Authorization="Authorization";Nr.Cookie="Cookie";class Sj extends Ga{constructor(t,n){super(),this._innerClient=t,this._accessTokenFactory=n}async send(t){let n=!0;this._accessTokenFactory&&(!this._accessToken||t.url&&t.url.indexOf("/negotiate?")>0)&&(n=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(t);const r=await this._innerClient.send(t);return n&&r.statusCode===401&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(t),await this._innerClient.send(t)):r}_setAuthorizationHeader(t){t.headers||(t.headers={}),this._accessToken?t.headers[Nr.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&t.headers[Nr.Authorization]&&delete t.headers[Nr.Authorization]}getCookieString(t){return this._innerClient.getCookieString(t)}}var fe;(function(e){e[e.None=0]="None",e[e.WebSockets=1]="WebSockets",e[e.ServerSentEvents=2]="ServerSentEvents",e[e.LongPolling=4]="LongPolling"})(fe||(fe={}));var We;(function(e){e[e.Text=1]="Text",e[e.Binary=2]="Binary"})(We||(We={}));let Nj=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};class df{get pollAborted(){return this._pollAbort.aborted}constructor(t,n,r){this._httpClient=t,this._logger=n,this._pollAbort=new Nj,this._options=r,this._running=!1,this.onreceive=null,this.onclose=null}async connect(t,n){if(Ee.isRequired(t,"url"),Ee.isRequired(n,"transferFormat"),Ee.isIn(n,We,"transferFormat"),this._url=t,this._logger.log(T.Trace,"(LongPolling transport) Connecting."),n===We.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[r,i]=Rs(),o={[r]:i,...this._options.headers},a={abortSignal:this._pollAbort.signal,headers:o,timeout:1e5,withCredentials:this._options.withCredentials};n===We.Binary&&(a.responseType="arraybuffer");const l=`${t}&_=${Date.now()}`;this._logger.log(T.Trace,`(LongPolling transport) polling: ${l}.`);const c=await this._httpClient.get(l,a);c.statusCode!==200?(this._logger.log(T.Error,`(LongPolling transport) Unexpected response code: ${c.statusCode}.`),this._closeError=new Sr(c.statusText||"",c.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,a)}async _poll(t,n){try{for(;this._running;)try{const r=`${t}&_=${Date.now()}`;this._logger.log(T.Trace,`(LongPolling transport) polling: ${r}.`);const i=await this._httpClient.get(r,n);i.statusCode===204?(this._logger.log(T.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):i.statusCode!==200?(this._logger.log(T.Error,`(LongPolling transport) Unexpected response code: ${i.statusCode}.`),this._closeError=new Sr(i.statusText||"",i.statusCode),this._running=!1):i.content?(this._logger.log(T.Trace,`(LongPolling transport) data received. ${$i(i.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(i.content)):this._logger.log(T.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(r){this._running?r instanceof pd?this._logger.log(T.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=r,this._running=!1):this._logger.log(T.Trace,`(LongPolling transport) Poll errored after shutdown: ${r.message}`)}}finally{this._logger.log(T.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(t){return this._running?ng(this._logger,"LongPolling",this._httpClient,this._url,t,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(T.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(T.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const t={},[n,r]=Rs();t[n]=r;const i={headers:{...t,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};let o;try{await this._httpClient.delete(this._url,i)}catch(a){o=a}o?o instanceof Sr&&(o.statusCode===404?this._logger.log(T.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(T.Trace,`(LongPolling transport) Error sending a DELETE request: ${o}`)):this._logger.log(T.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(T.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let t="(LongPolling transport) Firing onclose event.";this._closeError&&(t+=" Error: "+this._closeError),this._logger.log(T.Trace,t),this.onclose(this._closeError)}}}class kj{constructor(t,n,r,i){this._httpClient=t,this._accessToken=n,this._logger=r,this._options=i,this.onreceive=null,this.onclose=null}async connect(t,n){return Ee.isRequired(t,"url"),Ee.isRequired(n,"transferFormat"),Ee.isIn(n,We,"transferFormat"),this._logger.log(T.Trace,"(SSE transport) Connecting."),this._url=t,this._accessToken&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((r,i)=>{let o=!1;if(n!==We.Text){i(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let a;if(ye.isBrowser||ye.isWebWorker)a=new this._options.EventSource(t,{withCredentials:this._options.withCredentials});else{const l=this._httpClient.getCookieString(t),c={};c.Cookie=l;const[u,h]=Rs();c[u]=h,a=new this._options.EventSource(t,{withCredentials:this._options.withCredentials,headers:{...c,...this._options.headers}})}try{a.onmessage=l=>{if(this.onreceive)try{this._logger.log(T.Trace,`(SSE transport) data received. ${$i(l.data,this._options.logMessageContent)}.`),this.onreceive(l.data)}catch(c){this._close(c);return}},a.onerror=l=>{o?this._close():i(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},a.onopen=()=>{this._logger.log(T.Information,`SSE connected to ${this._url}`),this._eventSource=a,o=!0,r()}}catch(l){i(l);return}})}async send(t){return this._eventSource?ng(this._logger,"SSE",this._httpClient,this._url,t,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(t){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(t))}}class Cj{constructor(t,n,r,i,o,a){this._logger=r,this._accessTokenFactory=n,this._logMessageContent=i,this._webSocketConstructor=o,this._httpClient=t,this.onreceive=null,this.onclose=null,this._headers=a}async connect(t,n){Ee.isRequired(t,"url"),Ee.isRequired(n,"transferFormat"),Ee.isIn(n,We,"transferFormat"),this._logger.log(T.Trace,"(WebSockets transport) Connecting.");let r;return this._accessTokenFactory&&(r=await this._accessTokenFactory()),new Promise((i,o)=>{t=t.replace(/^http/,"ws");let a;const l=this._httpClient.getCookieString(t);let c=!1;if(ye.isNode||ye.isReactNative){const u={},[h,f]=Rs();u[h]=f,r&&(u[Nr.Authorization]=`Bearer ${r}`),l&&(u[Nr.Cookie]=l),a=new this._webSocketConstructor(t,void 0,{headers:{...u,...this._headers}})}else r&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(r)}`);a||(a=new this._webSocketConstructor(t)),n===We.Binary&&(a.binaryType="arraybuffer"),a.onopen=u=>{this._logger.log(T.Information,`WebSocket connected to ${t}.`),this._webSocket=a,c=!0,i()},a.onerror=u=>{let h=null;typeof ErrorEvent<"u"&&u instanceof ErrorEvent?h=u.error:h="There was an error with the transport",this._logger.log(T.Information,`(WebSockets transport) ${h}.`)},a.onmessage=u=>{if(this._logger.log(T.Trace,`(WebSockets transport) data received. ${$i(u.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(u.data)}catch(h){this._close(h);return}},a.onclose=u=>{if(c)this._close(u);else{let h=null;typeof ErrorEvent<"u"&&u instanceof ErrorEvent?h=u.error:h="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",o(new Error(h))}}})}send(t){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(T.Trace,`(WebSockets transport) sending data. ${$i(t,this._logMessageContent)}.`),this._webSocket.send(t),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(t){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(T.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(t)&&(t.wasClean===!1||t.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${t.code} (${t.reason||"no reason given"}).`)):t instanceof Error?this.onclose(t):this.onclose())}_isCloseEvent(t){return t&&typeof t.wasClean=="boolean"&&typeof t.code=="number"}}const hf=100;class Ej{constructor(t,n={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,Ee.isRequired(t,"url"),this._logger=ij(n.logger),this.baseUrl=this._resolveUrl(t),n=n||{},n.logMessageContent=n.logMessageContent===void 0?!1:n.logMessageContent,typeof n.withCredentials=="boolean"||n.withCredentials===void 0)n.withCredentials=n.withCredentials===void 0?!0:n.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");n.timeout=n.timeout===void 0?100*1e3:n.timeout;let r=null,i=null;if(ye.isNode&&typeof require<"u"){const o=typeof __webpack_require__=="function"?__non_webpack_require__:require;r=o("ws"),i=o("eventsource")}!ye.isNode&&typeof WebSocket<"u"&&!n.WebSocket?n.WebSocket=WebSocket:ye.isNode&&!n.WebSocket&&r&&(n.WebSocket=r),!ye.isNode&&typeof EventSource<"u"&&!n.EventSource?n.EventSource=EventSource:ye.isNode&&!n.EventSource&&typeof i<"u"&&(n.EventSource=i),this._httpClient=new Sj(n.httpClient||new mj(this._logger),n.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=n,this.onreceive=null,this.onclose=null}async start(t){if(t=t||We.Binary,Ee.isIn(t,We,"transferFormat"),this._logger.log(T.Debug,`Starting connection with transfer format '${We[t]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(t),await this._startInternalPromise,this._connectionState==="Disconnecting"){const n="Failed to start the HttpConnection before stop() was called.";return this._logger.log(T.Error,n),await this._stopPromise,Promise.reject(new $t(n))}else if(this._connectionState!=="Connected"){const n="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(T.Error,n),Promise.reject(new $t(n))}this._connectionStarted=!0}send(t){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new xd(this.transport)),this._sendQueue.send(t))}async stop(t){if(this._connectionState==="Disconnected")return this._logger.log(T.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(T.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(n=>{this._stopPromiseResolver=n}),await this._stopInternal(t),await this._stopPromise}async _stopInternal(t){this._stopError=t;try{await this._startInternalPromise}catch{}if(this.transport){try{await this.transport.stop()}catch(n){this._logger.log(T.Error,`HttpConnection.transport.stop() threw error '${n}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(T.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(t){let n=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===fe.WebSockets)this.transport=this._constructTransport(fe.WebSockets),await this._startTransport(n,t);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let r=null,i=0;do{if(r=await this._getNegotiationResponse(n),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new $t("The connection was stopped during negotiation.");if(r.error)throw new Error(r.error);if(r.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(r.url&&(n=r.url),r.accessToken){const o=r.accessToken;this._accessTokenFactory=()=>o,this._httpClient._accessToken=o,this._httpClient._accessTokenFactory=void 0}i++}while(r.url&&i<hf);if(i===hf&&r.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(n,this._options.transport,r,t)}this.transport instanceof df&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(T.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(r){return this._logger.log(T.Error,"Failed to start the connection: "+r),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(r)}}async _getNegotiationResponse(t){const n={},[r,i]=Rs();n[r]=i;const o=this._resolveNegotiateUrl(t);this._logger.log(T.Debug,`Sending negotiation request: ${o}.`);try{const a=await this._httpClient.post(o,{content:"",headers:{...n,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(a.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${a.statusCode}'`));const l=JSON.parse(a.content);return(!l.negotiateVersion||l.negotiateVersion<1)&&(l.connectionToken=l.connectionId),l.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new lf("Client didn't negotiate Stateful Reconnect but the server did.")):l}catch(a){let l="Failed to complete negotiation with the server: "+a;return a instanceof Sr&&a.statusCode===404&&(l=l+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(T.Error,l),Promise.reject(new lf(l))}}_createConnectUrl(t,n){return n?t+(t.indexOf("?")===-1?"?":"&")+`id=${n}`:t}async _createTransport(t,n,r,i){let o=this._createConnectUrl(t,r.connectionToken);if(this._isITransport(n)){this._logger.log(T.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=n,await this._startTransport(o,i),this.connectionId=r.connectionId;return}const a=[],l=r.availableTransports||[];let c=r;for(const u of l){const h=this._resolveTransportOrError(u,n,i,(c==null?void 0:c.useStatefulReconnect)===!0);if(h instanceof Error)a.push(`${u.transport} failed:`),a.push(h);else if(this._isITransport(h)){if(this.transport=h,!c){try{c=await this._getNegotiationResponse(t)}catch(f){return Promise.reject(f)}o=this._createConnectUrl(t,c.connectionToken)}try{await this._startTransport(o,i),this.connectionId=c.connectionId;return}catch(f){if(this._logger.log(T.Error,`Failed to start the transport '${u.transport}': ${f}`),c=void 0,a.push(new nj(`${u.transport} failed: ${f}`,fe[u.transport])),this._connectionState!=="Connecting"){const m="Failed to select transport before stop() was called.";return this._logger.log(T.Debug,m),Promise.reject(new $t(m))}}}}return a.length>0?Promise.reject(new rj(`Unable to connect to the server with any of the available transports. ${a.join(" ")}`,a)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(t){switch(t){case fe.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new Cj(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case fe.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new kj(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case fe.LongPolling:return new df(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${t}.`)}}_startTransport(t,n){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async r=>{let i=!1;if(this.features.reconnect)try{this.features.disconnected(),await this.transport.connect(t,n),await this.features.resend()}catch{i=!0}else{this._stopConnection(r);return}i&&this._stopConnection(r)}:this.transport.onclose=r=>this._stopConnection(r),this.transport.connect(t,n)}_resolveTransportOrError(t,n,r,i){const o=fe[t.transport];if(o==null)return this._logger.log(T.Debug,`Skipping transport '${t.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${t.transport}' because it is not supported by this client.`);if(_j(n,o))if(t.transferFormats.map(l=>We[l]).indexOf(r)>=0){if(o===fe.WebSockets&&!this._options.WebSocket||o===fe.ServerSentEvents&&!this._options.EventSource)return this._logger.log(T.Debug,`Skipping transport '${fe[o]}' because it is not supported in your environment.'`),new ej(`'${fe[o]}' is not supported in your environment.`,o);this._logger.log(T.Debug,`Selecting transport '${fe[o]}'.`);try{return this.features.reconnect=o===fe.WebSockets?i:void 0,this._constructTransport(o)}catch(l){return l}}else return this._logger.log(T.Debug,`Skipping transport '${fe[o]}' because it does not support the requested transfer format '${We[r]}'.`),new Error(`'${fe[o]}' does not support ${We[r]}.`);else return this._logger.log(T.Debug,`Skipping transport '${fe[o]}' because it was disabled by the client.`),new tj(`'${fe[o]}' is disabled by the client.`,o)}_isITransport(t){return t&&typeof t=="object"&&"connect"in t}_stopConnection(t){if(this._logger.log(T.Debug,`HttpConnection.stopConnection(${t}) called while in state ${this._connectionState}.`),this.transport=void 0,t=this._stopError||t,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(T.Debug,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(T.Warning,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${t}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),t?this._logger.log(T.Error,`Connection disconnected with error '${t}'.`):this._logger.log(T.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(n=>{this._logger.log(T.Error,`TransportSendQueue.stop() threw error '${n}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(t)}catch(n){this._logger.log(T.Error,`HttpConnection.onclose(${t}) threw error '${n}'.`)}}}_resolveUrl(t){if(t.lastIndexOf("https://",0)===0||t.lastIndexOf("http://",0)===0)return t;if(!ye.isBrowser)throw new Error(`Cannot resolve '${t}'.`);const n=window.document.createElement("a");return n.href=t,this._logger.log(T.Information,`Normalizing '${t}' to '${n.href}'.`),n.href}_resolveNegotiateUrl(t){const n=new URL(t);n.pathname.endsWith("/")?n.pathname+="negotiate":n.pathname+="/negotiate";const r=new URLSearchParams(n.searchParams);return r.has("negotiateVersion")||r.append("negotiateVersion",this._negotiateVersion.toString()),r.has("useStatefulReconnect")?r.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&r.append("useStatefulReconnect","true"),n.search=r.toString(),n.toString()}}function _j(e,t){return!e||(t&e)!==0}class xd{constructor(t){this._transport=t,this._buffer=[],this._executing=!0,this._sendBufferedData=new _o,this._transportResult=new _o,this._sendLoopPromise=this._sendLoop()}send(t){return this._bufferData(t),this._transportResult||(this._transportResult=new _o),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(t){if(this._buffer.length&&typeof this._buffer[0]!=typeof t)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof t}`);this._buffer.push(t),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new _o;const t=this._transportResult;this._transportResult=void 0;const n=typeof this._buffer[0]=="string"?this._buffer.join(""):xd._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(n),t.resolve()}catch(r){t.reject(r)}}}static _concatBuffers(t){const n=t.map(o=>o.byteLength).reduce((o,a)=>o+a),r=new Uint8Array(n);let i=0;for(const o of t)r.set(new Uint8Array(o),i),i+=o.byteLength;return r.buffer}}class _o{constructor(){this.promise=new Promise((t,n)=>[this._resolver,this._rejecter]=[t,n])}resolve(){this._resolver()}reject(t){this._rejecter(t)}}const Rj="json";class Pj{constructor(){this.name=Rj,this.version=2,this.transferFormat=We.Text}parseMessages(t,n){if(typeof t!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!t)return[];n===null&&(n=Ii.instance);const r=gt.parse(t),i=[];for(const o of r){const a=JSON.parse(o);if(typeof a.type!="number")throw new Error("Invalid payload.");switch(a.type){case K.Invocation:this._isInvocationMessage(a);break;case K.StreamItem:this._isStreamItemMessage(a);break;case K.Completion:this._isCompletionMessage(a);break;case K.Ping:break;case K.Close:break;case K.Ack:this._isAckMessage(a);break;case K.Sequence:this._isSequenceMessage(a);break;default:n.log(T.Information,"Unknown message type '"+a.type+"' ignored.");continue}i.push(a)}return i}writeMessage(t){return gt.write(JSON.stringify(t))}_isInvocationMessage(t){this._assertNotEmptyString(t.target,"Invalid payload for Invocation message."),t.invocationId!==void 0&&this._assertNotEmptyString(t.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(t){if(this._assertNotEmptyString(t.invocationId,"Invalid payload for StreamItem message."),t.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(t){if(t.result&&t.error)throw new Error("Invalid payload for Completion message.");!t.result&&t.error&&this._assertNotEmptyString(t.error,"Invalid payload for Completion message."),this._assertNotEmptyString(t.invocationId,"Invalid payload for Completion message.")}_isAckMessage(t){if(typeof t.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(t){if(typeof t.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(t,n){if(typeof t!="string"||t==="")throw new Error(n)}}const Tj={trace:T.Trace,debug:T.Debug,info:T.Information,information:T.Information,warn:T.Warning,warning:T.Warning,error:T.Error,critical:T.Critical,none:T.None};function Aj(e){const t=Tj[e.toLowerCase()];if(typeof t<"u")return t;throw new Error(`Unknown log level: ${e}`)}class yd{configureLogging(t){if(Ee.isRequired(t,"logging"),Dj(t))this.logger=t;else if(typeof t=="string"){const n=Aj(t);this.logger=new ja(n)}else this.logger=new ja(t);return this}withUrl(t,n){return Ee.isRequired(t,"url"),Ee.isNotEmpty(t,"url"),this.url=t,typeof n=="object"?this.httpConnectionOptions={...this.httpConnectionOptions,...n}:this.httpConnectionOptions={...this.httpConnectionOptions,transport:n},this}withHubProtocol(t){return Ee.isRequired(t,"protocol"),this.protocol=t,this}withAutomaticReconnect(t){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return t?Array.isArray(t)?this.reconnectPolicy=new uf(t):this.reconnectPolicy=t:this.reconnectPolicy=new uf,this}withServerTimeout(t){return Ee.isRequired(t,"milliseconds"),this._serverTimeoutInMilliseconds=t,this}withKeepAliveInterval(t){return Ee.isRequired(t,"milliseconds"),this._keepAliveIntervalInMilliseconds=t,this}withStatefulReconnect(t){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=t==null?void 0:t.bufferSize,this}build(){const t=this.httpConnectionOptions||{};if(t.logger===void 0&&(t.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const n=new Ej(this.url,t);return gd.create(n,this.logger||Ii.instance,this.protocol||new Pj,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}function Dj(e){return e.log!==void 0}class Mj{constructor(){Oe(this,"connection",null);Oe(this,"connectionState","Disconnected");Oe(this,"eventHandlers",{});Oe(this,"reconnectTimer",null);Oe(this,"sessionGroups",new Set);Oe(this,"connectionPromise",null);Oe(this,"isConnecting",!1)}initializeConnection(){const t="http://localhost:5269";this.connection=new yd().withUrl(`${t}/downloadProgressHub`,{withCredentials:!0,skipNegotiation:!1,transport:fe.WebSockets|fe.ServerSentEvents|fe.LongPolling}).withAutomaticReconnect({nextRetryDelayInMilliseconds:n=>n.previousRetryCount===0?0:n.previousRetryCount===1?2e3:n.previousRetryCount===2?4e3:n.previousRetryCount===3?8e3:n.previousRetryCount===4?16e3:3e4}).configureLogging(T.Information).build(),this.setupConnectionHandlers(),this.setupMessageHandlers()}setupConnectionHandlers(){this.connection&&(this.connection.onreconnecting(t=>{console.log("SignalR: Reconnecting...",t),this.setConnectionState("Reconnecting"),t&&console.error("SignalR: Reconnection error:",t)}),this.connection.onreconnected(t=>{console.log("SignalR: Reconnected with ID:",t),this.setConnectionState("Connected"),ce.success("Reconnected to server",{id:"signalr-reconnect"}),this.sessionGroups.size>0&&(console.log("SignalR: Rejoining session groups after reconnect:",[...this.sessionGroups]),this.sessionGroups.forEach(n=>{this.joinSessionGroup(n)}))}),this.connection.onclose(t=>{console.log("SignalR: Connection closed",t),this.setConnectionState("Disconnected"),(this.connectionState==="Connected"||this.connectionState==="Reconnecting")&&ce.error("Connection to server lost",{id:"signalr-disconnect"}),t&&console.error("SignalR: Connection close error:",t),this.reconnectTimer&&window.clearTimeout(this.reconnectTimer),console.log("SignalR: Scheduling reconnect in 5 seconds after close"),this.reconnectTimer=window.setTimeout(()=>{this.reconnectTimer=null,console.log("SignalR: Attempting to reconnect after close"),this.connect()},5e3)}))}setupMessageHandlers(){this.connection&&(this.connection.on("ProgressUpdate",t=>{var n,r;console.log("SignalR: Progress update received",t),(r=(n=this.eventHandlers).onProgressUpdate)==null||r.call(n,t)}),this.connection.on("SessionCompleted",t=>{var n,r;console.log("SignalR: Session completed",t),ce.success("Download session completed"),(r=(n=this.eventHandlers).onSessionCompleted)==null||r.call(n,t)}),this.connection.on("SessionFailed",(t,n)=>{var r,i;console.log("SignalR: Session failed",t,n),ce.error(`Download session failed: ${n}`),(i=(r=this.eventHandlers).onSessionFailed)==null||i.call(r,t,n)}),this.connection.on("ItemCompleted",(t,n)=>{var r,i;console.log("SignalR: Item completed",t,n),ce.success(`Downloaded: ${n.name}`),(i=(r=this.eventHandlers).onItemCompleted)==null||i.call(r,t,n)}),this.connection.on("ItemFailed",(t,n,r)=>{var i,o;console.log("SignalR: Item failed",t,n,r),ce.error(`Failed to download ${n.name}: ${r}`),(o=(i=this.eventHandlers).onItemFailed)==null||o.call(i,t,n,r)}),this.connection.on("StatsUpdate",t=>{var n,r;console.log("SignalR: Stats update received",t),(r=(n=this.eventHandlers).onStatsUpdate)==null||r.call(n,t)}),this.connection.on("ScraperStatusUpdate",t=>{var n,r;console.log("SignalR: Scraper status update received",t),(r=(n=this.eventHandlers).ScraperStatusUpdate)==null||r.call(n,t)}),this.connection.on("BatchCommitNotification",t=>{var n,r;console.log("SignalR: Batch commit notification received",t),(r=(n=this.eventHandlers).onBatchCommitNotification)==null||r.call(n,t)}),this.connection.on("SystemMetricsUpdate",t=>{var n,r;console.log("SignalR: System metrics update received",t),(r=(n=this.eventHandlers).onSystemMetricsUpdate)==null||r.call(n,t)}),this.connection.on("NewAddonNotification",t=>{var n,r;console.log("SignalR: New addon notification received",t),(r=(n=this.eventHandlers).onNewAddonNotification)==null||r.call(n,t)}))}setConnectionState(t){var n,r;this.connectionState=t,(r=(n=this.eventHandlers).onConnectionStateChanged)==null||r.call(n,t)}async connect(){var n;if(((n=this.connection)==null?void 0:n.state)===ne.Connected){console.log("SignalR: Already connected"),this.setConnectionState("Connected");return}if((this.isConnecting||this.connectionState==="Reconnecting")&&this.connectionPromise)return console.log("SignalR: Connection already in progress"),this.connectionPromise;this.isConnecting=!0,this.connection||(console.log("SignalR: Initializing connection for the first time"),this.initializeConnection()),this.reconnectTimer&&(console.log("SignalR: Clearing reconnect timer"),window.clearTimeout(this.reconnectTimer),this.reconnectTimer=null);const t=setTimeout(()=>{var r;this.connectionState==="Connecting"&&((r=this.connection)==null?void 0:r.state)===ne.Connected&&(console.log("SignalR: Connection timeout but actually connected, forcing state update"),this.setConnectionState("Connected"))},1e4);return this.connectionPromise=(async()=>{var r;try{console.log("SignalR: Starting connection"),this.setConnectionState("Connecting"),await((r=this.connection)==null?void 0:r.start()),console.log("SignalR: Connected successfully"),this.setConnectionState("Connected"),this.sessionGroups.size>0&&(console.log("SignalR: Rejoining session groups:",[...this.sessionGroups]),this.sessionGroups.forEach(i=>{this.joinSessionGroup(i)}))}catch(i){console.error("SignalR: Connection failed",i),this.setConnectionState("Disconnected"),this.reconnectTimer||(console.log("SignalR: Scheduling reconnect in 5 seconds"),this.reconnectTimer=window.setTimeout(()=>{this.reconnectTimer=null,this.connect()},5e3))}finally{clearTimeout(t),this.isConnecting=!1,this.connectionPromise=null}})(),this.connectionPromise}async disconnect(){var t,n;if(this.reconnectTimer&&(window.clearTimeout(this.reconnectTimer),this.reconnectTimer=null),((t=this.connection)==null?void 0:t.state)!==ne.Disconnected)try{await((n=this.connection)==null?void 0:n.stop()),this.setConnectionState("Disconnected"),this.sessionGroups.clear()}catch(r){console.error("SignalR: Error disconnecting",r)}}async joinSessionGroup(t){var n;if(((n=this.connection)==null?void 0:n.state)!==ne.Connected){console.warn("SignalR: Cannot join group - not connected");return}try{await this.connection.invoke("JoinSessionGroup",t),this.sessionGroups.add(t),console.log(`SignalR: Joined session group ${t}`)}catch(r){console.error(`SignalR: Failed to join session group ${t}`,r),ce.error("Failed to join download session updates")}}async leaveSessionGroup(t){var n;if(((n=this.connection)==null?void 0:n.state)===ne.Connected)try{await this.connection.invoke("LeaveSessionGroup",t),this.sessionGroups.delete(t),console.log(`SignalR: Left session group ${t}`)}catch(r){console.error(`SignalR: Failed to leave session group ${t}`,r)}}on(t,n){this.eventHandlers[t]=n}off(t){delete this.eventHandlers[t]}getConnectionState(){return this.connectionState}isConnected(){var t;return((t=this.connection)==null?void 0:t.state)===ne.Connected}}const q=new Mj,rg=d.createContext(null);function eo(){const e=d.useContext(rg);if(e===null)throw new Error("useSignalRContext must be used within a SignalRProvider");return e}function Lj({children:e}){const[t,n]=d.useState("Disconnected"),[r,i]=d.useState(!1),[o,a]=d.useState(!1),[l,c]=d.useState(null);d.useEffect(()=>{if(o)return;a(!0),console.log("Initializing SignalR context");const m=x=>{console.log("SignalR state changed in context:",x),n(x),i(x==="Connected")},v=x=>{console.log("Scraper status update:",x),c(x)};q.on("onConnectionStateChanged",m),q.on("ScraperStatusUpdate",v);const b=q.getConnectionState(),w=q.isConnected();return console.log("SignalR initial state:",b,"isConnected:",w),n(b),i(w),w||(console.log("Auto-connecting to SignalR"),q.connect().then(()=>{const x=q.getConnectionState(),g=q.isConnected();console.log("SignalR state after connect:",x,"isConnected:",g),(x!==t||g!==r)&&(n(x),i(g))}).catch(x=>{console.error("Failed to connect to SignalR:",x)})),()=>{q.off("onConnectionStateChanged"),q.off("ScraperStatusUpdate")}},[o]);const f={connectionState:t,isConnected:r,connect:async()=>{try{await q.connect()}catch(m){console.error("Failed to connect to SignalR:",m)}},disconnect:async()=>{try{await q.disconnect()}catch(m){console.error("Failed to disconnect from SignalR:",m)}},scraperStatus:l};return s.jsx(rg.Provider,{value:f,children:e})}function sg(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ij}=Object.prototype,{getPrototypeOf:vd}=Object,{iterator:Za,toStringTag:ig}=Symbol,Ja=(e=>t=>{const n=Ij.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Bt=e=>(e=e.toLowerCase(),t=>Ja(t)===e),Xa=e=>t=>typeof t===e,{isArray:Os}=Array,Fi=Xa("undefined");function $j(e){return e!==null&&!Fi(e)&&e.constructor!==null&&!Fi(e.constructor)&&ut(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const og=Bt("ArrayBuffer");function Fj(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&og(e.buffer),t}const Oj=Xa("string"),ut=Xa("function"),ag=Xa("number"),Ya=e=>e!==null&&typeof e=="object",zj=e=>e===!0||e===!1,Wo=e=>{if(Ja(e)!=="object")return!1;const t=vd(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(ig in e)&&!(Za in e)},Bj=Bt("Date"),Uj=Bt("File"),Hj=Bt("Blob"),Wj=Bt("FileList"),Vj=e=>Ya(e)&&ut(e.pipe),qj=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ut(e.append)&&((t=Ja(e))==="formdata"||t==="object"&&ut(e.toString)&&e.toString()==="[object FormData]"))},Qj=Bt("URLSearchParams"),[Kj,Gj,Zj,Jj]=["ReadableStream","Request","Response","Headers"].map(Bt),Xj=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function to(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Os(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),a=o.length;let l;for(r=0;r<a;r++)l=o[r],t.call(null,e[l],l,e)}}function lg(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const dr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,cg=e=>!Fi(e)&&e!==dr;function iu(){const{caseless:e}=cg(this)&&this||{},t={},n=(r,i)=>{const o=e&&lg(t,i)||i;Wo(t[o])&&Wo(r)?t[o]=iu(t[o],r):Wo(r)?t[o]=iu({},r):Os(r)?t[o]=r.slice():t[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&to(arguments[r],n);return t}const Yj=(e,t,n,{allOwnKeys:r}={})=>(to(t,(i,o)=>{n&&ut(i)?e[o]=sg(i,n):e[o]=i},{allOwnKeys:r}),e),eS=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),tS=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},nS=(e,t,n,r)=>{let i,o,a;const l={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)a=i[o],(!r||r(a,e,t))&&!l[a]&&(t[a]=e[a],l[a]=!0);e=n!==!1&&vd(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},rS=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},sS=e=>{if(!e)return null;if(Os(e))return e;let t=e.length;if(!ag(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},iS=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&vd(Uint8Array)),oS=(e,t)=>{const r=(e&&e[Za]).call(e);let i;for(;(i=r.next())&&!i.done;){const o=i.value;t.call(e,o[0],o[1])}},aS=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},lS=Bt("HTMLFormElement"),cS=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),ff=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),uS=Bt("RegExp"),ug=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};to(n,(i,o)=>{let a;(a=t(i,o,e))!==!1&&(r[o]=a||i)}),Object.defineProperties(e,r)},dS=e=>{ug(e,(t,n)=>{if(ut(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(ut(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},hS=(e,t)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Os(e)?r(e):r(String(e).split(t)),n},fS=()=>{},mS=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function pS(e){return!!(e&&ut(e.append)&&e[ig]==="FormData"&&e[Za])}const gS=e=>{const t=new Array(10),n=(r,i)=>{if(Ya(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const o=Os(r)?[]:{};return to(r,(a,l)=>{const c=n(a,i+1);!Fi(c)&&(o[l]=c)}),t[i]=void 0,o}}return r};return n(e,0)},xS=Bt("AsyncFunction"),yS=e=>e&&(Ya(e)||ut(e))&&ut(e.then)&&ut(e.catch),dg=((e,t)=>e?setImmediate:t?((n,r)=>(dr.addEventListener("message",({source:i,data:o})=>{i===dr&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),dr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ut(dr.postMessage)),vS=typeof queueMicrotask<"u"?queueMicrotask.bind(dr):typeof process<"u"&&process.nextTick||dg,wS=e=>e!=null&&ut(e[Za]),P={isArray:Os,isArrayBuffer:og,isBuffer:$j,isFormData:qj,isArrayBufferView:Fj,isString:Oj,isNumber:ag,isBoolean:zj,isObject:Ya,isPlainObject:Wo,isReadableStream:Kj,isRequest:Gj,isResponse:Zj,isHeaders:Jj,isUndefined:Fi,isDate:Bj,isFile:Uj,isBlob:Hj,isRegExp:uS,isFunction:ut,isStream:Vj,isURLSearchParams:Qj,isTypedArray:iS,isFileList:Wj,forEach:to,merge:iu,extend:Yj,trim:Xj,stripBOM:eS,inherits:tS,toFlatObject:nS,kindOf:Ja,kindOfTest:Bt,endsWith:rS,toArray:sS,forEachEntry:oS,matchAll:aS,isHTMLForm:lS,hasOwnProperty:ff,hasOwnProp:ff,reduceDescriptors:ug,freezeMethods:dS,toObjectSet:hS,toCamelCase:cS,noop:fS,toFiniteNumber:mS,findKey:lg,global:dr,isContextDefined:cg,isSpecCompliantForm:pS,toJSONObject:gS,isAsyncFn:xS,isThenable:yS,setImmediate:dg,asap:vS,isIterable:wS};function G(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}P.inherits(G,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:P.toJSONObject(this.config),code:this.code,status:this.status}}});const hg=G.prototype,fg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{fg[e]={value:e}});Object.defineProperties(G,fg);Object.defineProperty(hg,"isAxiosError",{value:!0});G.from=(e,t,n,r,i,o)=>{const a=Object.create(hg);return P.toFlatObject(e,a,function(c){return c!==Error.prototype},l=>l!=="isAxiosError"),G.call(a,e.message,t,n,r,i),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};const bS=null;function ou(e){return P.isPlainObject(e)||P.isArray(e)}function mg(e){return P.endsWith(e,"[]")?e.slice(0,-2):e}function mf(e,t,n){return e?e.concat(t).map(function(i,o){return i=mg(i),!n&&o?"["+i+"]":i}).join(n?".":""):t}function jS(e){return P.isArray(e)&&!e.some(ou)}const SS=P.toFlatObject(P,{},null,function(t){return/^is[A-Z]/.test(t)});function el(e,t,n){if(!P.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=P.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,x){return!P.isUndefined(x[w])});const r=n.metaTokens,i=n.visitor||h,o=n.dots,a=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&P.isSpecCompliantForm(t);if(!P.isFunction(i))throw new TypeError("visitor must be a function");function u(b){if(b===null)return"";if(P.isDate(b))return b.toISOString();if(P.isBoolean(b))return b.toString();if(!c&&P.isBlob(b))throw new G("Blob is not supported. Use a Buffer instead.");return P.isArrayBuffer(b)||P.isTypedArray(b)?c&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function h(b,w,x){let g=b;if(b&&!x&&typeof b=="object"){if(P.endsWith(w,"{}"))w=r?w:w.slice(0,-2),b=JSON.stringify(b);else if(P.isArray(b)&&jS(b)||(P.isFileList(b)||P.endsWith(w,"[]"))&&(g=P.toArray(b)))return w=mg(w),g.forEach(function(y,j){!(P.isUndefined(y)||y===null)&&t.append(a===!0?mf([w],j,o):a===null?w:w+"[]",u(y))}),!1}return ou(b)?!0:(t.append(mf(x,w,o),u(b)),!1)}const f=[],m=Object.assign(SS,{defaultVisitor:h,convertValue:u,isVisitable:ou});function v(b,w){if(!P.isUndefined(b)){if(f.indexOf(b)!==-1)throw Error("Circular reference detected in "+w.join("."));f.push(b),P.forEach(b,function(g,p){(!(P.isUndefined(g)||g===null)&&i.call(t,g,P.isString(p)?p.trim():p,w,m))===!0&&v(g,w?w.concat(p):[p])}),f.pop()}}if(!P.isObject(e))throw new TypeError("data must be an object");return v(e),t}function pf(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function wd(e,t){this._pairs=[],e&&el(e,this,t)}const pg=wd.prototype;pg.append=function(t,n){this._pairs.push([t,n])};pg.toString=function(t){const n=t?function(r){return t.call(this,r,pf)}:pf;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function NS(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function gg(e,t,n){if(!t)return e;const r=n&&n.encode||NS;P.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(t,n):o=P.isURLSearchParams(t)?t.toString():new wd(t,n).toString(r),o){const a=e.indexOf("#");a!==-1&&(e=e.slice(0,a)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class gf{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){P.forEach(this.handlers,function(r){r!==null&&t(r)})}}const xg={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},kS=typeof URLSearchParams<"u"?URLSearchParams:wd,CS=typeof FormData<"u"?FormData:null,ES=typeof Blob<"u"?Blob:null,_S={isBrowser:!0,classes:{URLSearchParams:kS,FormData:CS,Blob:ES},protocols:["http","https","file","blob","url","data"]},bd=typeof window<"u"&&typeof document<"u",au=typeof navigator=="object"&&navigator||void 0,RS=bd&&(!au||["ReactNative","NativeScript","NS"].indexOf(au.product)<0),PS=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",TS=bd&&window.location.href||"http://localhost",AS=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:bd,hasStandardBrowserEnv:RS,hasStandardBrowserWebWorkerEnv:PS,navigator:au,origin:TS},Symbol.toStringTag,{value:"Module"})),Ve={...AS,..._S};function DS(e,t){return el(e,new Ve.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return Ve.isNode&&P.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function MS(e){return P.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function LS(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}function yg(e){function t(n,r,i,o){let a=n[o++];if(a==="__proto__")return!0;const l=Number.isFinite(+a),c=o>=n.length;return a=!a&&P.isArray(i)?i.length:a,c?(P.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!l):((!i[a]||!P.isObject(i[a]))&&(i[a]=[]),t(n,r,i[a],o)&&P.isArray(i[a])&&(i[a]=LS(i[a])),!l)}if(P.isFormData(e)&&P.isFunction(e.entries)){const n={};return P.forEachEntry(e,(r,i)=>{t(MS(r),i,n,0)}),n}return null}function IS(e,t,n){if(P.isString(e))try{return(t||JSON.parse)(e),P.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const no={transitional:xg,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=P.isObject(t);if(o&&P.isHTMLForm(t)&&(t=new FormData(t)),P.isFormData(t))return i?JSON.stringify(yg(t)):t;if(P.isArrayBuffer(t)||P.isBuffer(t)||P.isStream(t)||P.isFile(t)||P.isBlob(t)||P.isReadableStream(t))return t;if(P.isArrayBufferView(t))return t.buffer;if(P.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return DS(t,this.formSerializer).toString();if((l=P.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return el(l?{"files[]":t}:t,c&&new c,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),IS(t)):t}],transformResponse:[function(t){const n=this.transitional||no.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(P.isResponse(t)||P.isReadableStream(t))return t;if(t&&P.isString(t)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(l){if(a)throw l.name==="SyntaxError"?G.from(l,G.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ve.classes.FormData,Blob:Ve.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};P.forEach(["delete","get","head","post","put","patch"],e=>{no.headers[e]={}});const $S=P.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),FS=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||t[n]&&$S[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},xf=Symbol("internals");function Xs(e){return e&&String(e).trim().toLowerCase()}function Vo(e){return e===!1||e==null?e:P.isArray(e)?e.map(Vo):String(e)}function OS(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const zS=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function zl(e,t,n,r,i){if(P.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!P.isString(t)){if(P.isString(r))return t.indexOf(r)!==-1;if(P.isRegExp(r))return r.test(t)}}function BS(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function US(e,t){const n=P.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,o,a){return this[r].call(this,t,i,o,a)},configurable:!0})})}let dt=class{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function o(l,c,u){const h=Xs(c);if(!h)throw new Error("header name must be a non-empty string");const f=P.findKey(i,h);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||c]=Vo(l))}const a=(l,c)=>P.forEach(l,(u,h)=>o(u,h,c));if(P.isPlainObject(t)||t instanceof this.constructor)a(t,n);else if(P.isString(t)&&(t=t.trim())&&!zS(t))a(FS(t),n);else if(P.isObject(t)&&P.isIterable(t)){let l={},c,u;for(const h of t){if(!P.isArray(h))throw TypeError("Object iterator must return a key-value pair");l[u=h[0]]=(c=l[u])?P.isArray(c)?[...c,h[1]]:[c,h[1]]:h[1]}a(l,n)}else t!=null&&o(n,t,r);return this}get(t,n){if(t=Xs(t),t){const r=P.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return OS(i);if(P.isFunction(n))return n.call(this,i,r);if(P.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Xs(t),t){const r=P.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||zl(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function o(a){if(a=Xs(a),a){const l=P.findKey(r,a);l&&(!n||zl(r,r[l],l,n))&&(delete r[l],i=!0)}}return P.isArray(t)?t.forEach(o):o(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!t||zl(this,this[o],o,t,!0))&&(delete this[o],i=!0)}return i}normalize(t){const n=this,r={};return P.forEach(this,(i,o)=>{const a=P.findKey(r,o);if(a){n[a]=Vo(i),delete n[o];return}const l=t?BS(o):String(o).trim();l!==o&&delete n[o],n[l]=Vo(i),r[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return P.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&P.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[xf]=this[xf]={accessors:{}}).accessors,i=this.prototype;function o(a){const l=Xs(a);r[l]||(US(i,a),r[l]=!0)}return P.isArray(t)?t.forEach(o):o(t),this}};dt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);P.reduceDescriptors(dt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});P.freezeMethods(dt);function Bl(e,t){const n=this||no,r=t||n,i=dt.from(r.headers);let o=r.data;return P.forEach(e,function(l){o=l.call(n,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function vg(e){return!!(e&&e.__CANCEL__)}function zs(e,t,n){G.call(this,e??"canceled",G.ERR_CANCELED,t,n),this.name="CanceledError"}P.inherits(zs,G,{__CANCEL__:!0});function wg(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new G("Request failed with status code "+n.status,[G.ERR_BAD_REQUEST,G.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function HS(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function WS(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,o=0,a;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),h=r[o];a||(a=u),n[i]=c,r[i]=u;let f=o,m=0;for(;f!==i;)m+=n[f++],f=f%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),u-a<t)return;const v=h&&u-h;return v?Math.round(m*1e3/v):void 0}}function VS(e,t){let n=0,r=1e3/t,i,o;const a=(u,h=Date.now())=>{n=h,i=null,o&&(clearTimeout(o),o=null),e.apply(null,u)};return[(...u)=>{const h=Date.now(),f=h-n;f>=r?a(u,h):(i=u,o||(o=setTimeout(()=>{o=null,a(i)},r-f)))},()=>i&&a(i)]}const Sa=(e,t,n=3)=>{let r=0;const i=WS(50,250);return VS(o=>{const a=o.loaded,l=o.lengthComputable?o.total:void 0,c=a-r,u=i(c),h=a<=l;r=a;const f={loaded:a,total:l,progress:l?a/l:void 0,bytes:c,rate:u||void 0,estimated:u&&l&&h?(l-a)/u:void 0,event:o,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},n)},yf=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},vf=e=>(...t)=>P.asap(()=>e(...t)),qS=Ve.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ve.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ve.origin),Ve.navigator&&/(msie|trident)/i.test(Ve.navigator.userAgent)):()=>!0,QS=Ve.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const a=[e+"="+encodeURIComponent(t)];P.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),P.isString(r)&&a.push("path="+r),P.isString(i)&&a.push("domain="+i),o===!0&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function KS(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function GS(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function bg(e,t,n){let r=!KS(t);return e&&(r||n==!1)?GS(e,t):t}const wf=e=>e instanceof dt?{...e}:e;function Lr(e,t){t=t||{};const n={};function r(u,h,f,m){return P.isPlainObject(u)&&P.isPlainObject(h)?P.merge.call({caseless:m},u,h):P.isPlainObject(h)?P.merge({},h):P.isArray(h)?h.slice():h}function i(u,h,f,m){if(P.isUndefined(h)){if(!P.isUndefined(u))return r(void 0,u,f,m)}else return r(u,h,f,m)}function o(u,h){if(!P.isUndefined(h))return r(void 0,h)}function a(u,h){if(P.isUndefined(h)){if(!P.isUndefined(u))return r(void 0,u)}else return r(void 0,h)}function l(u,h,f){if(f in t)return r(u,h);if(f in e)return r(void 0,u)}const c={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:l,headers:(u,h,f)=>i(wf(u),wf(h),f,!0)};return P.forEach(Object.keys(Object.assign({},e,t)),function(h){const f=c[h]||i,m=f(e[h],t[h],h);P.isUndefined(m)&&f!==l||(n[h]=m)}),n}const jg=e=>{const t=Lr({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:a,auth:l}=t;t.headers=a=dt.from(a),t.url=gg(bg(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):"")));let c;if(P.isFormData(n)){if(Ve.hasStandardBrowserEnv||Ve.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((c=a.getContentType())!==!1){const[u,...h]=c?c.split(";").map(f=>f.trim()).filter(Boolean):[];a.setContentType([u||"multipart/form-data",...h].join("; "))}}if(Ve.hasStandardBrowserEnv&&(r&&P.isFunction(r)&&(r=r(t)),r||r!==!1&&qS(t.url))){const u=i&&o&&QS.read(o);u&&a.set(i,u)}return t},ZS=typeof XMLHttpRequest<"u",JS=ZS&&function(e){return new Promise(function(n,r){const i=jg(e);let o=i.data;const a=dt.from(i.headers).normalize();let{responseType:l,onUploadProgress:c,onDownloadProgress:u}=i,h,f,m,v,b;function w(){v&&v(),b&&b(),i.cancelToken&&i.cancelToken.unsubscribe(h),i.signal&&i.signal.removeEventListener("abort",h)}let x=new XMLHttpRequest;x.open(i.method.toUpperCase(),i.url,!0),x.timeout=i.timeout;function g(){if(!x)return;const y=dt.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),S={data:!l||l==="text"||l==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:y,config:e,request:x};wg(function(k){n(k),w()},function(k){r(k),w()},S),x=null}"onloadend"in x?x.onloadend=g:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(g)},x.onabort=function(){x&&(r(new G("Request aborted",G.ECONNABORTED,e,x)),x=null)},x.onerror=function(){r(new G("Network Error",G.ERR_NETWORK,e,x)),x=null},x.ontimeout=function(){let j=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const S=i.transitional||xg;i.timeoutErrorMessage&&(j=i.timeoutErrorMessage),r(new G(j,S.clarifyTimeoutError?G.ETIMEDOUT:G.ECONNABORTED,e,x)),x=null},o===void 0&&a.setContentType(null),"setRequestHeader"in x&&P.forEach(a.toJSON(),function(j,S){x.setRequestHeader(S,j)}),P.isUndefined(i.withCredentials)||(x.withCredentials=!!i.withCredentials),l&&l!=="json"&&(x.responseType=i.responseType),u&&([m,b]=Sa(u,!0),x.addEventListener("progress",m)),c&&x.upload&&([f,v]=Sa(c),x.upload.addEventListener("progress",f),x.upload.addEventListener("loadend",v)),(i.cancelToken||i.signal)&&(h=y=>{x&&(r(!y||y.type?new zs(null,e,x):y),x.abort(),x=null)},i.cancelToken&&i.cancelToken.subscribe(h),i.signal&&(i.signal.aborted?h():i.signal.addEventListener("abort",h)));const p=HS(i.url);if(p&&Ve.protocols.indexOf(p)===-1){r(new G("Unsupported protocol "+p+":",G.ERR_BAD_REQUEST,e));return}x.send(o||null)})},XS=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const o=function(u){if(!i){i=!0,l();const h=u instanceof Error?u:this.reason;r.abort(h instanceof G?h:new zs(h instanceof Error?h.message:h))}};let a=t&&setTimeout(()=>{a=null,o(new G(`timeout ${t} of ms exceeded`,G.ETIMEDOUT))},t);const l=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),e=null)};e.forEach(u=>u.addEventListener("abort",o));const{signal:c}=r;return c.unsubscribe=()=>P.asap(l),c}},YS=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},e5=async function*(e,t){for await(const n of t5(e))yield*YS(n,t)},t5=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},bf=(e,t,n,r)=>{const i=e5(e,t);let o=0,a,l=c=>{a||(a=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:h}=await i.next();if(u){l(),c.close();return}let f=h.byteLength;if(n){let m=o+=f;n(m)}c.enqueue(new Uint8Array(h))}catch(u){throw l(u),u}},cancel(c){return l(c),i.return()}},{highWaterMark:2})},tl=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Sg=tl&&typeof ReadableStream=="function",n5=tl&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Ng=(e,...t)=>{try{return!!e(...t)}catch{return!1}},r5=Sg&&Ng(()=>{let e=!1;const t=new Request(Ve.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),jf=64*1024,lu=Sg&&Ng(()=>P.isReadableStream(new Response("").body)),Na={stream:lu&&(e=>e.body)};tl&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Na[t]&&(Na[t]=P.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new G(`Response type '${t}' is not supported`,G.ERR_NOT_SUPPORT,r)})})})(new Response);const s5=async e=>{if(e==null)return 0;if(P.isBlob(e))return e.size;if(P.isSpecCompliantForm(e))return(await new Request(Ve.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(P.isArrayBufferView(e)||P.isArrayBuffer(e))return e.byteLength;if(P.isURLSearchParams(e)&&(e=e+""),P.isString(e))return(await n5(e)).byteLength},i5=async(e,t)=>{const n=P.toFiniteNumber(e.getContentLength());return n??s5(t)},o5=tl&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:o,timeout:a,onDownloadProgress:l,onUploadProgress:c,responseType:u,headers:h,withCredentials:f="same-origin",fetchOptions:m}=jg(e);u=u?(u+"").toLowerCase():"text";let v=XS([i,o&&o.toAbortSignal()],a),b;const w=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let x;try{if(c&&r5&&n!=="get"&&n!=="head"&&(x=await i5(h,r))!==0){let S=new Request(t,{method:"POST",body:r,duplex:"half"}),C;if(P.isFormData(r)&&(C=S.headers.get("content-type"))&&h.setContentType(C),S.body){const[k,E]=yf(x,Sa(vf(c)));r=bf(S.body,jf,k,E)}}P.isString(f)||(f=f?"include":"omit");const g="credentials"in Request.prototype;b=new Request(t,{...m,signal:v,method:n.toUpperCase(),headers:h.normalize().toJSON(),body:r,duplex:"half",credentials:g?f:void 0});let p=await fetch(b,m);const y=lu&&(u==="stream"||u==="response");if(lu&&(l||y&&w)){const S={};["status","statusText","headers"].forEach(_=>{S[_]=p[_]});const C=P.toFiniteNumber(p.headers.get("content-length")),[k,E]=l&&yf(C,Sa(vf(l),!0))||[];p=new Response(bf(p.body,jf,k,()=>{E&&E(),w&&w()}),S)}u=u||"text";let j=await Na[P.findKey(Na,u)||"text"](p,e);return!y&&w&&w(),await new Promise((S,C)=>{wg(S,C,{data:j,headers:dt.from(p.headers),status:p.status,statusText:p.statusText,config:e,request:b})})}catch(g){throw w&&w(),g&&g.name==="TypeError"&&/Load failed|fetch/i.test(g.message)?Object.assign(new G("Network Error",G.ERR_NETWORK,e,b),{cause:g.cause||g}):G.from(g,g&&g.code,e,b)}}),cu={http:bS,xhr:JS,fetch:o5};P.forEach(cu,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Sf=e=>`- ${e}`,a5=e=>P.isFunction(e)||e===null||e===!1,kg={getAdapter:e=>{e=P.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){n=e[o];let a;if(r=n,!a5(n)&&(r=cu[(a=String(n)).toLowerCase()],r===void 0))throw new G(`Unknown adapter '${a}'`);if(r)break;i[a||"#"+o]=r}if(!r){const o=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=t?o.length>1?`since :
`+o.map(Sf).join(`
`):" "+Sf(o[0]):"as no adapter specified";throw new G("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:cu};function Ul(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new zs(null,e)}function Nf(e){return Ul(e),e.headers=dt.from(e.headers),e.data=Bl.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),kg.getAdapter(e.adapter||no.adapter)(e).then(function(r){return Ul(e),r.data=Bl.call(e,e.transformResponse,r),r.headers=dt.from(r.headers),r},function(r){return vg(r)||(Ul(e),r&&r.response&&(r.response.data=Bl.call(e,e.transformResponse,r.response),r.response.headers=dt.from(r.response.headers))),Promise.reject(r)})}const Cg="1.10.0",nl={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{nl[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const kf={};nl.transitional=function(t,n,r){function i(o,a){return"[Axios v"+Cg+"] Transitional option '"+o+"'"+a+(r?". "+r:"")}return(o,a,l)=>{if(t===!1)throw new G(i(a," has been removed"+(n?" in "+n:"")),G.ERR_DEPRECATED);return n&&!kf[a]&&(kf[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,a,l):!0}};nl.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function l5(e,t,n){if(typeof e!="object")throw new G("options must be an object",G.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],a=t[o];if(a){const l=e[o],c=l===void 0||a(l,o,e);if(c!==!0)throw new G("option "+o+" must be "+c,G.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new G("Unknown option "+o,G.ERR_BAD_OPTION)}}const qo={assertOptions:l5,validators:nl},Ht=qo.validators;let kr=class{constructor(t){this.defaults=t||{},this.interceptors={request:new gf,response:new gf}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Lr(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&qo.assertOptions(r,{silentJSONParsing:Ht.transitional(Ht.boolean),forcedJSONParsing:Ht.transitional(Ht.boolean),clarifyTimeoutError:Ht.transitional(Ht.boolean)},!1),i!=null&&(P.isFunction(i)?n.paramsSerializer={serialize:i}:qo.assertOptions(i,{encode:Ht.function,serialize:Ht.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),qo.assertOptions(n,{baseUrl:Ht.spelling("baseURL"),withXsrfToken:Ht.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=o&&P.merge(o.common,o[n.method]);o&&P.forEach(["delete","get","head","post","put","patch","common"],b=>{delete o[b]}),n.headers=dt.concat(a,o);const l=[];let c=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(c=c&&w.synchronous,l.unshift(w.fulfilled,w.rejected))});const u=[];this.interceptors.response.forEach(function(w){u.push(w.fulfilled,w.rejected)});let h,f=0,m;if(!c){const b=[Nf.bind(this),void 0];for(b.unshift.apply(b,l),b.push.apply(b,u),m=b.length,h=Promise.resolve(n);f<m;)h=h.then(b[f++],b[f++]);return h}m=l.length;let v=n;for(f=0;f<m;){const b=l[f++],w=l[f++];try{v=b(v)}catch(x){w.call(this,x);break}}try{h=Nf.call(this,v)}catch(b){return Promise.reject(b)}for(f=0,m=u.length;f<m;)h=h.then(u[f++],u[f++]);return h}getUri(t){t=Lr(this.defaults,t);const n=bg(t.baseURL,t.url,t.allowAbsoluteUrls);return gg(n,t.params,t.paramsSerializer)}};P.forEach(["delete","get","head","options"],function(t){kr.prototype[t]=function(n,r){return this.request(Lr(r||{},{method:t,url:n,data:(r||{}).data}))}});P.forEach(["post","put","patch"],function(t){function n(r){return function(o,a,l){return this.request(Lr(l||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:a}))}}kr.prototype[t]=n(),kr.prototype[t+"Form"]=n(!0)});let c5=class Eg{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const a=new Promise(l=>{r.subscribe(l),o=l}).then(i);return a.cancel=function(){r.unsubscribe(o)},a},t(function(o,a,l){r.reason||(r.reason=new zs(o,a,l),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Eg(function(i){t=i}),cancel:t}}};function u5(e){return function(n){return e.apply(null,n)}}function d5(e){return P.isObject(e)&&e.isAxiosError===!0}const uu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(uu).forEach(([e,t])=>{uu[t]=e});function _g(e){const t=new kr(e),n=sg(kr.prototype.request,t);return P.extend(n,kr.prototype,t,{allOwnKeys:!0}),P.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return _g(Lr(e,i))},n}const ke=_g(no);ke.Axios=kr;ke.CanceledError=zs;ke.CancelToken=c5;ke.isCancel=vg;ke.VERSION=Cg;ke.toFormData=el;ke.AxiosError=G;ke.Cancel=ke.CanceledError;ke.all=function(t){return Promise.all(t)};ke.spread=u5;ke.isAxiosError=d5;ke.mergeConfig=Lr;ke.AxiosHeaders=dt;ke.formToJSON=e=>yg(P.isHTMLForm(e)?new FormData(e):e);ke.getAdapter=kg.getAdapter;ke.HttpStatusCode=uu;ke.default=ke;const{Axios:CN,AxiosError:EN,CanceledError:_N,isCancel:RN,CancelToken:PN,VERSION:TN,all:AN,Cancel:DN,isAxiosError:MN,spread:LN,toFormData:IN,AxiosHeaders:$N,HttpStatusCode:FN,formToJSON:ON,getAdapter:zN,mergeConfig:BN}=ke;class h5{constructor(t="http://localhost:5269/api"){Oe(this,"client");this.client=ke.create({baseURL:t,timeout:3e4,headers:{"Content-Type":"application/json"}}),this.setupInterceptors()}setupInterceptors(){this.client.interceptors.request.use(t=>{var n;return console.log(`API Request: ${(n=t.method)==null?void 0:n.toUpperCase()} ${t.url}`),t},t=>(console.error("Request interceptor error:",t),Promise.reject(t))),this.client.interceptors.response.use(t=>(console.log(`API Response: ${t.status} ${t.config.url}`),t),t=>{const n=this.handleApiError(t);return n.status>=500?W.error("Server error occurred. Please try again."):n.status===404||n.status>=400&&W.error(n.message||"Request failed"),Promise.reject(n)})}handleApiError(t){var o,a,l;const n=((o=t.response)==null?void 0:o.status)||0,r=(a=t.response)==null?void 0:a.data;return{message:(r==null?void 0:r.error)||(r==null?void 0:r.message)||t.message||"An unexpected error occurred",status:n,code:t.code,details:(l=t.response)==null?void 0:l.data}}async getAddons(t={}){return(await this.client.get("/addons",{params:t})).data}async getLatestAddons(t=10){return(await this.client.get("/addons/latest",{params:{count:t}})).data}async getAddonCompatibility(t){return(await this.client.get("/addons/compatibility",{params:{fileName:t}})).data}async getAddonStats(){return(await this.client.get("/addons/stats")).data}async getAuthors(){return(await this.client.get("/addons/authors")).data}async getCategories(){return(await this.client.get("/addons/categories")).data}async startDownloadSession(t){return(await this.client.post("/downloads/start",t)).data}async downloadAddon(t){return(await this.client.post(`/downloads/addon/${t}`)).data}async getDownloadSessions(){return(await this.client.get("/downloads/sessions")).data}async getDownloadSessionStatus(t){return(await this.client.get(`/downloads/sessions/${t}/status`)).data}async pauseDownloadSession(t){await this.client.post(`/downloads/sessions/${t}/pause`)}async cancelDownloadSession(t){await this.client.post(`/downloads/sessions/${t}/cancel`)}async resumeDownloadSession(t){await this.client.post(`/downloads/sessions/${t}/resume`)}async pauseDownloadItem(t,n){await this.client.post(`/downloads/sessions/${t}/items/${n}/pause`)}async resumeDownloadItem(t,n){await this.client.post(`/downloads/sessions/${t}/items/${n}/resume`)}async cancelDownloadItem(t,n){await this.client.post(`/downloads/sessions/${t}/items/${n}/cancel`)}async clearSessionsHistory(){await this.client.delete("/downloads/sessions")}async getDownloadStats(){return(await this.client.get("/downloads/stats")).data}async getDownloadFolders(){return(await this.client.get("/downloads/folders")).data}async getHealth(){return(await this.client.get("/health")).data}async getStatusReport(){return(await this.client.get("/reports/status")).data}async triggerConsoleReport(){await this.client.post("/reports/status/console")}async triggerManualScrape(t){await this.client.post("/scraper/refresh",{},{headers:{"X-Refresh-Token":t}})}}const oe=new h5,rl={getAddons:e=>oe.getAddons(e),getLatestAddons:e=>oe.getLatestAddons(e),getCompatibility:e=>oe.getAddonCompatibility(e),getStats:()=>oe.getAddonStats(),getAuthors:()=>oe.getAuthors(),getCategories:()=>oe.getCategories()},st={startSession:e=>oe.startDownloadSession(e),downloadAddon:e=>oe.downloadAddon(e),getSessions:()=>oe.getDownloadSessions(),getSessionStatus:e=>oe.getDownloadSessionStatus(e),pauseSession:e=>oe.pauseDownloadSession(e),resumeSession:e=>oe.resumeDownloadSession(e),cancelSession:e=>oe.cancelDownloadSession(e),pauseItem:(e,t)=>oe.pauseDownloadItem(e,t),resumeItem:(e,t)=>oe.resumeDownloadItem(e,t),cancelItem:(e,t)=>oe.cancelDownloadItem(e,t),clearHistory:()=>oe.clearSessionsHistory(),getStats:()=>oe.getDownloadStats(),getFolders:()=>oe.getDownloadFolders()},Oi={getHealth:()=>oe.getHealth(),getStatusReport:()=>oe.getStatusReport(),triggerConsoleReport:()=>oe.triggerConsoleReport(),triggerScrape:e=>oe.triggerManualScrape(e)},f5=()=>_t({queryKey:["addonStats"],queryFn:()=>rl.getStats(),refetchInterval:3e4,staleTime:1e4}),m5=(e=5)=>_t({queryKey:["latestAddons",e],queryFn:()=>rl.getLatestAddons(e),refetchInterval:3e4,staleTime:1e4}),p5=()=>_t({queryKey:["systemHealth"],queryFn:()=>Oi.getHealth(),refetchInterval:15e3,staleTime:5e3,retry:3,retryDelay:e=>Math.min(1e3*2**e,1e4)}),g5=()=>_t({queryKey:["addonsWithStats"],queryFn:async()=>await rl.getAddons({page:1,pageSize:50,sortBy:"dateAdded",sortDirection:"desc"}),refetchInterval:6e4,staleTime:3e4}),x5=e=>{const t=new Date;return t.setDate(t.getDate()-7),e.filter(n=>new Date(n.dateAdded)>=t).length},y5=()=>{const e=f5(),t=m5(5),n=p5(),r=g5();return{addonStats:e,latestAddons:t,systemHealth:n,addonsWithStats:r,isLoading:e.isLoading||t.isLoading||n.isLoading,isError:e.isError||t.isError||n.isError,error:e.error||t.error||n.error}},v5=()=>{var f,m;const{addonStats:e,latestAddons:t,systemHealth:n,addonsWithStats:r,isLoading:i,isError:o}=y5(),{isConnected:a,scraperStatus:l}=eo(),[c,u]=d.useState({totalAddons:0,recentAddonsBatch:0,isScrapingActive:!1});d.useEffect(()=>{const v=x=>{console.log("Dashboard: Received batch commit notification",x),u(g=>({...g,totalAddons:x.totalProcessed||g.totalAddons+(x.batchSize||10),recentAddonsBatch:g.recentAddonsBatch+(x.batchSize||10),lastBatchTime:new Date().toISOString()}))},b=x=>{console.log("Dashboard: Received system metrics update",x),x.totalAddons!==void 0&&u(g=>({...g,totalAddons:x.totalAddons,isScrapingActive:x.isScrapingActive||!1}))},w=x=>{console.log("Dashboard: Received new addon notification",x),u(g=>({...g,totalAddons:g.totalAddons+1}))};return q.on("onBatchCommitNotification",v),q.on("onSystemMetricsUpdate",b),q.on("onNewAddonNotification",w),()=>{q.off("onBatchCommitNotification"),q.off("onSystemMetricsUpdate"),q.off("onNewAddonNotification")}},[]),d.useEffect(()=>{l&&u(v=>({...v,isScrapingActive:l.isActive}))},[l]),d.useEffect(()=>{e.data&&!c.totalAddons&&u(v=>({...v,totalAddons:e.data.totalAddons}))},[e.data,c.totalAddons]);const h=Qi.useMemo(()=>{var w,x,g,p;if(i||o)return{totalAddons:0,recentAddons:0,activeDownloads:0,systemHealth:"error"};const v=(w=r.data)!=null&&w.addons?x5(r.data.addons):0;return{totalAddons:c.isScrapingActive&&c.totalAddons>0?c.totalAddons:((x=e.data)==null?void 0:x.totalAddons)||0,recentAddons:v,activeDownloads:c.isScrapingActive?1:0,systemHealth:((g=n.data)==null?void 0:g.status)==="Healthy"?"healthy":(p=n.data)!=null&&p.status?"warning":"error"}},[e.data,r.data,n.data,i,o,c]);return i?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Loading your scenery addon collection..."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[1,2,3,4].map(v=>s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 animate-pulse",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-lg"}),s.jsxs("div",{className:"ml-4 space-y-2",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-20"}),s.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"})]})]})},v))})]}):o?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),s.jsx("p",{className:"text-error-600 mt-1",children:"Unable to connect to API. Please ensure your .NET backend is running on port 5269."})]}),s.jsx("div",{className:"bg-error-50 border border-error-200 rounded-lg p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-6 h-6 text-error-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-medium text-error-900",children:"API Connection Failed"}),s.jsxs("p",{className:"text-error-700 mt-1",children:["Make sure your .NET API is running: ",s.jsx("code",{className:"bg-error-100 px-2 py-1 rounded",children:"cd src/Addons.Api && dotnet run"})]})]})]})})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),s.jsxs("p",{className:"text-gray-600 mt-1",children:["Overview of your scenery addon collection and system status",c.isScrapingActive&&c.lastBatchTime?s.jsxs("span",{className:"text-green-600",children:["  Live scraping: Last batch at ",new Date(c.lastBatchTime).toLocaleTimeString()]}):e.data?s.jsxs("span",{className:"text-gray-500",children:["  Last updated: ",new Date(e.data.lastUpdated).toLocaleTimeString()]}):null]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-5 h-5 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Addons"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.totalAddons.toLocaleString()}),c.isScrapingActive?s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse mr-1"}),s.jsx("p",{className:"text-xs text-green-600",children:"Live updating..."})]}):e.isRefetching?s.jsx("p",{className:"text-xs text-primary-600",children:"Updating..."}):null]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-success-100 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-5 h-5 text-success-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Recent Addons"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.recentAddons}),s.jsx("p",{className:"text-sm text-gray-500",children:"Last 7 days"})]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-info-100 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-5 h-5 text-info-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Downloads"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h.activeDownloads}),c.isScrapingActive?s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),s.jsx("p",{className:"text-sm text-green-600 ml-1",children:"Scraping active"})]}):h.activeDownloads>0?s.jsxs("div",{className:"flex items-center mt-1",children:[s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),s.jsx("p",{className:"text-sm text-gray-500 ml-1",children:"In progress"})]}):null]})]})}),s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${h.systemHealth==="healthy"?"bg-success-100":h.systemHealth==="warning"?"bg-warning-100":"bg-error-100"}`,children:s.jsx("svg",{className:`w-5 h-5 ${h.systemHealth==="healthy"?"text-success-600":h.systemHealth==="warning"?"text-warning-600":"text-error-600"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:"System Health"}),s.jsx("p",{className:`text-lg font-semibold capitalize ${h.systemHealth==="healthy"?"text-success-600":h.systemHealth==="warning"?"text-warning-600":"text-error-600"}`,children:h.systemHealth}),n.isRefetching&&s.jsx("p",{className:"text-xs text-gray-500",children:"Checking..."})]})]})})]}),((m=(f=r.data)==null?void 0:f.summary)==null?void 0:m.compatibilityBreakdown)&&s.jsxs("div",{className:"mt-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Compatibility Breakdown"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:Object.entries(r.data.summary.compatibilityBreakdown).map(([v,b])=>s.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center ${v==="MSFS 2024"?"bg-blue-100":v==="MSFS 2020"?"bg-orange-100":"bg-green-100"}`,children:s.jsx("svg",{className:`w-5 h-5 ${v==="MSFS 2024"?"text-blue-600":v==="MSFS 2020"?"text-orange-600":"text-green-600"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600",children:v}),s.jsx("p",{className:"text-2xl font-bold text-gray-900",children:b.toLocaleString()}),s.jsxs("p",{className:"text-sm text-gray-500",children:[(b/h.totalAddons*100).toFixed(1),"% of total"]})]})]})},v))})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Connection Status"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"SignalR Real-time"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${a?"bg-success-500":"bg-error-500"}`}),s.jsx("span",{className:`text-sm ${a?"text-success-600":"text-error-600"}`,children:a?"Connected":"Disconnected"}),c.isScrapingActive&&s.jsx("span",{className:"ml-2 px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"Live"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:".NET API (localhost:5269)"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${n.data?"bg-success-500":"bg-error-500"}`}),s.jsx("span",{className:`text-sm ${n.data?"text-success-600":"text-error-600"}`,children:n.data?"Connected":"Disconnected"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"MongoDB Database"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-2 h-2 rounded-full mr-2 ${e.data?"bg-success-500":"bg-error-500"}`}),s.jsx("span",{className:`text-sm ${e.data?"text-success-600":"text-error-600"}`,children:e.data?"Connected":"Disconnected"})]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(w1,{to:"/addons",className:"block p-4 border border-gray-200 rounded-lg hover:border-primary-300 hover:bg-primary-50 transition-colors",children:s.jsxs("div",{className:"text-center",children:[s.jsx("svg",{className:"w-8 h-8 text-primary-600 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),s.jsx("p",{className:"font-medium text-gray-900",children:"Browse Addons"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Search and filter addon collection"})]})}),s.jsx("button",{className:"p-4 border border-gray-200 rounded-lg hover:border-primary-300 hover:bg-primary-50 transition-colors",children:s.jsxs("div",{className:"text-center",children:[s.jsx("svg",{className:"w-8 h-8 text-primary-600 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),s.jsx("p",{className:"font-medium text-gray-900",children:"Start Download"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Download latest addons"})]})}),s.jsx("button",{className:"p-4 border border-gray-200 rounded-lg hover:border-primary-300 hover:bg-primary-50 transition-colors",children:s.jsxs("div",{className:"text-center",children:[s.jsx("svg",{className:"w-8 h-8 text-primary-600 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})}),s.jsx("p",{className:"font-medium text-gray-900",children:"View Reports"}),s.jsx("p",{className:"text-sm text-gray-500",children:"System status and analytics"})]})})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Activity"}),t.isLoading?s.jsx("div",{className:"space-y-3",children:[1,2,3].map(v=>s.jsx("div",{className:"animate-pulse",children:s.jsxs("div",{className:"flex items-center justify-between py-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-200 rounded-full mr-3"}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"h-4 bg-gray-200 rounded w-48"}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-16"})]})]}),s.jsx("div",{className:"h-3 bg-gray-200 rounded w-20"})]})},v))}):t.data&&t.data.length>0?s.jsx("div",{className:"space-y-3",children:t.data.map((v,b)=>s.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-b-0",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-2 h-2 bg-success-500 rounded-full mr-3"}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:v.name}),s.jsxs("p",{className:"text-sm text-gray-500 capitalize",children:[v.compatibility,"  Added"]})]})]}),s.jsx("p",{className:"text-sm text-gray-500",children:new Date(v.dateAdded).toLocaleDateString()})]},b))}):s.jsx("p",{className:"text-gray-500 text-center py-4",children:"No recent addon activity"})]})]})},Rg=()=>{const e=Wa();return Mp({mutationFn:t=>st.startSession(t),onSuccess:t=>{e.invalidateQueries({queryKey:["downloadSessions"]}),e.invalidateQueries({queryKey:["downloadStats"]}),W.success(`Download session started with ${t.queuedCount} items`)},onError:t=>{W.error(`Failed to start download session: ${t.message}`)}})},w5=()=>{const e=Wa();return Mp({mutationFn:t=>st.startSession({count:1,maxConcurrency:1,addonIds:[t]}),onSuccess:t=>{e.invalidateQueries({queryKey:["downloadSessions"]}),e.invalidateQueries({queryKey:["downloadStats"]}),W.success("Started downloading addon")},onError:t=>{W.error(`Failed to start download: ${t.message}`)}})},b5=({addon:e,isOpen:t,onClose:n,onDownload:r,isDownloading:i=!1,isDownloaded:o=!1})=>{const[a,l]=d.useState(!1);if(d.useEffect(()=>{const f=m=>{m.key==="Escape"&&n()};return t?(document.addEventListener("keydown",f),document.body.style.overflow="hidden",setTimeout(()=>l(!0),10)):(l(!1),document.body.style.overflow="unset"),()=>{document.removeEventListener("keydown",f),document.body.style.overflow="unset"}},[t,n]),!t)return null;const c=f=>{if(f===0)return"0 Bytes";const m=1024,v=["Bytes","KB","MB","GB"],b=Math.floor(Math.log(f)/Math.log(m));return parseFloat((f/Math.pow(m,b)).toFixed(2))+" "+v[b]},u=f=>new Date(f).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),h=f=>{switch(f){case"MSFS 2024":return"bg-blue-100 text-blue-800 border-blue-200";case"MSFS 2020":return"bg-orange-100 text-orange-800 border-orange-200";case"MSFS 2020/2024":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`fixed inset-0 bg-black z-40 transition-opacity duration-300 ${a?"bg-opacity-50":"bg-opacity-0"}`,onClick:n}),s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 pointer-events-none",children:s.jsxs("div",{className:`relative w-full max-w-3xl max-h-[90vh] overflow-y-auto bg-white rounded-xl shadow-xl transform transition-all duration-300 pointer-events-auto ${a?"opacity-100 scale-100":"opacity-0 scale-95"}`,onClick:f=>f.stopPropagation(),children:[s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"h-64 bg-gradient-to-br from-blue-50 to-indigo-100 rounded-t-xl flex items-center justify-center relative overflow-hidden",children:[e.thumbnailUrl?s.jsx("img",{src:e.thumbnailUrl,alt:e.name,className:"w-full h-full object-cover"}):s.jsxs("div",{className:"flex flex-col items-center justify-center text-blue-400",children:[s.jsx(Kn,{className:"h-20 w-20 mb-2"}),s.jsx("span",{className:"text-lg font-medium",children:"No preview available"})]}),s.jsx("div",{className:"absolute top-4 right-4",children:s.jsx("span",{className:`inline-flex items-center px-3 py-1.5 text-sm font-medium rounded-md border ${h(e.compatibility)}`,children:e.compatibility})})]}),s.jsx("button",{onClick:n,className:"absolute top-4 left-4 bg-white bg-opacity-90 hover:bg-opacity-100 rounded-full p-2 shadow-md transition-all",children:s.jsx(Br,{className:"h-5 w-5 text-gray-700"})})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:e.name}),e.author&&s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(Xn,{className:"h-4 w-4"}),s.jsxs("span",{children:["by ",e.author]})]})]}),s.jsx("button",{onClick:r,disabled:i||o,className:`flex items-center gap-2 font-medium py-2.5 px-5 rounded-lg transition-colors ${o?"bg-green-600 text-white":i?"bg-gray-400 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:i?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),"Downloading..."]}):o?s.jsxs(s.Fragment,{children:[s.jsx(Kn,{className:"h-5 w-5"}),"Downloaded"]}):s.jsxs(s.Fragment,{children:[s.jsx(Me,{className:"h-5 w-5"}),"Download"]})})]}),e.description&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Description"}),s.jsx("p",{className:"text-gray-600 leading-relaxed",children:e.description})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"File Information"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(Kn,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"font-medium",children:"Size:"}),s.jsx("span",{children:e.fileSize?c(e.fileSize):"Unknown"})]}),s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(qa,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"font-medium",children:"Added:"}),s.jsx("span",{children:u(e.dateAdded)})]}),e.fileName&&s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(Tw,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"font-medium",children:"File:"}),s.jsx("span",{className:"text-sm font-mono",children:e.fileName})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Additional Details"}),s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[s.jsx(Lw,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"font-medium",children:"Addon ID:"}),s.jsx("span",{className:"font-mono text-sm",children:e.id})]})})]})]}),e.categories&&e.categories.length>0&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Categories"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:e.categories.map((f,m)=>s.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 text-sm px-3 py-1 rounded-full",children:f},m))})]})]})]})})]})},ro=({addon:e,selectMode:t=!1,isSelected:n=!1,onSelect:r})=>{var v;const[i,o]=d.useState(!1),[a,l]=d.useState(!1),c=w5(),u=b=>{if(b===0)return"0 Bytes";const w=1024,x=["Bytes","KB","MB","GB"],g=Math.floor(Math.log(b)/Math.log(w));return parseFloat((b/Math.pow(w,g)).toFixed(2))+" "+x[g]},h=b=>new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),f=()=>{c.mutate(e.id,{onSuccess:()=>{o(!0)}})},m=b=>{switch(b){case"MSFS 2024":return"bg-blue-100 text-blue-800 border-blue-200";case"MSFS 2020":return"bg-orange-100 text-orange-800 border-orange-200";case"MSFS 2020/2024":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return s.jsxs("div",{className:`bg-white rounded-lg border shadow-sm hover:shadow-md transition-all duration-200 ${t&&n?"border-blue-500 ring-2 ring-blue-200":"border-gray-200"}`,children:[s.jsxs("div",{className:"aspect-video bg-gradient-to-br from-blue-50 to-indigo-100 rounded-t-lg flex items-center justify-center relative overflow-hidden",children:[t&&s.jsx("div",{className:"absolute top-2 left-2 z-10",children:s.jsx("input",{type:"checkbox",checked:n,onChange:b=>r==null?void 0:r(b.target.checked),className:"w-4 h-4 text-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 focus:ring-2"})}),e.id?s.jsx("img",{src:`/api/images/addon/${e.id}/thumbnail`,alt:e.name,className:"w-full h-full object-cover rounded-t-lg",onError:b=>{b.currentTarget.style.display="none";const w=b.currentTarget.nextElementSibling;w&&(w.style.display="flex")}}):null,s.jsxs("div",{className:`w-full h-full flex flex-col items-center justify-center ${e.id?"hidden":"flex"}`,children:[s.jsx(Kn,{className:"h-12 w-12 text-blue-400 mb-2"}),s.jsxs("div",{className:"text-center px-3",children:[s.jsx("div",{className:"text-xs font-medium text-blue-600 mb-1",children:((v=e.categories)==null?void 0:v[0])||"Addon"}),s.jsx("div",{className:"text-xs text-blue-500 line-clamp-2",children:e.name.split(" ").slice(0,4).join(" ")})]})]}),s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-medium rounded-md border ${m(e.compatibility)}`,children:e.compatibility})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-semibold text-gray-900 text-lg mb-2 line-clamp-2",children:e.name}),e.description&&s.jsx("p",{className:"text-gray-600 text-sm mb-3 line-clamp-3",children:e.description}),s.jsxs("div",{className:"space-y-2 text-xs text-gray-500",children:[e.author&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Xn,{className:"h-3 w-3"}),s.jsx("span",{children:e.author})]}),e.fileSize&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Kn,{className:"h-3 w-3"}),s.jsx("span",{children:u(e.fileSize)})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(qa,{className:"h-3 w-3"}),s.jsx("span",{children:h(e.dateAdded)})]})]}),e.categories&&e.categories.length>0&&s.jsxs("div",{className:"mt-3 flex flex-wrap gap-1",children:[e.categories.slice(0,3).map((b,w)=>s.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full",children:b},w)),e.categories.length>3&&s.jsxs("span",{className:"inline-block bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-full",children:["+",e.categories.length-3]})]}),s.jsxs("div",{className:"mt-4 flex gap-2",children:[!t&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:f,disabled:c.isPending||i,className:`flex-1 flex items-center justify-center gap-2 text-sm font-medium py-2 px-3 rounded-lg transition-colors ${i?"bg-green-600 text-white":c.isPending?"bg-gray-400 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:c.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Downloading..."]}):i?s.jsxs(s.Fragment,{children:[s.jsx(hw,{className:"h-4 w-4"}),"Downloaded"]}):s.jsxs(s.Fragment,{children:[s.jsx(Me,{className:"h-4 w-4"}),"Download"]})}),s.jsxs("button",{onClick:()=>l(!0),className:"flex items-center justify-center gap-2 bg-gray-100 text-gray-700 text-sm font-medium py-2 px-3 rounded-lg hover:bg-gray-200 transition-colors",children:[s.jsx(Es,{className:"h-4 w-4"}),"Details"]})]}),t&&s.jsx("button",{onClick:()=>r==null?void 0:r(!n),className:`flex-1 flex items-center justify-center gap-2 text-sm font-medium py-2 px-3 rounded-lg transition-colors ${n?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:n?"Selected":"Select"})]})]}),s.jsx(b5,{addon:e,isOpen:a,onClose:()=>l(!1),onDownload:f,isDownloading:c.isPending,isDownloaded:i})]})},jd=({addon:e,selectMode:t=!1,isSelected:n=!1,onSelect:r})=>{const i=a=>{if(a===0)return"0 Bytes";const l=1024,c=["Bytes","KB","MB","GB"],u=Math.floor(Math.log(a)/Math.log(l));return parseFloat((a/Math.pow(l,u)).toFixed(2))+" "+c[u]},o=a=>new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return s.jsx("div",{className:`bg-white border rounded-lg p-4 hover:shadow-md transition-all duration-200 ${t&&n?"border-blue-500 ring-2 ring-blue-200":"border-gray-200"}`,children:s.jsxs("div",{className:"flex items-start justify-between",children:[t&&s.jsx("div",{className:"flex-none mr-4",children:s.jsx("input",{type:"checkbox",checked:n,onChange:a=>r==null?void 0:r(a.target.checked),className:"w-4 h-4 text-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 focus:ring-2"})}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-none w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center",children:e.id?s.jsx("img",{src:`/api/images/addon/${e.id}/thumbnail`,alt:e.name,className:"w-full h-full object-cover rounded-lg",onError:a=>{const l=a.currentTarget.parentElement;l&&(l.innerHTML='<svg class="h-8 w-8 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" /></svg>')}}):s.jsx(Kn,{className:"h-8 w-8 text-gray-400"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"mb-2",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:e.name}),e.description&&s.jsx("p",{className:"text-gray-600 text-sm mt-1 line-clamp-2",children:e.description})]}),s.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-500",children:[e.author&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Xn,{className:"h-4 w-4"}),s.jsx("span",{children:e.author})]}),e.fileSize&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Kn,{className:"h-4 w-4"}),s.jsx("span",{children:i(e.fileSize)})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(qa,{className:"h-4 w-4"}),s.jsx("span",{children:o(e.dateAdded)})]}),s.jsx("div",{className:"flex items-center gap-1",children:s.jsx("span",{className:"text-blue-600 font-medium",children:e.compatibility})})]}),e.categories&&e.categories.length>0&&s.jsxs("div",{className:"mt-3 flex flex-wrap gap-1",children:[e.categories.slice(0,4).map((a,l)=>s.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full",children:a},l)),e.categories.length>4&&s.jsxs("span",{className:"inline-block bg-gray-100 text-gray-600 text-xs px-2 py-1 rounded-full",children:["+",e.categories.length-4]})]})]})]})}),s.jsxs("div",{className:"flex-none ml-4 flex flex-col gap-2",children:[!t&&s.jsxs(s.Fragment,{children:[s.jsxs("button",{className:"flex items-center justify-center gap-2 bg-blue-600 text-white text-sm font-medium py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors whitespace-nowrap",children:[s.jsx(Me,{className:"h-4 w-4"}),"Download"]}),s.jsxs("button",{className:"flex items-center justify-center gap-2 bg-gray-100 text-gray-700 text-sm font-medium py-2 px-4 rounded-lg hover:bg-gray-200 transition-colors whitespace-nowrap",children:[s.jsx(Es,{className:"h-4 w-4"}),"Details"]})]}),t&&s.jsx("button",{onClick:()=>r==null?void 0:r(!n),className:`flex items-center justify-center gap-2 text-sm font-medium py-2 px-4 rounded-lg transition-colors whitespace-nowrap ${n?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:n?"Selected":"Select"})]})]})})};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var j5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ae=(e,t)=>{const n=d.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:l="",children:c,...u},h)=>d.createElement("svg",{ref:h,...j5,width:i,height:i,stroke:r,strokeWidth:a?Number(o)*24/Number(i):o,className:["lucide",`lucide-${S5(e)}`,l].join(" "),...u},[...t.map(([f,m])=>d.createElement(f,m)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=ae("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=ae("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=ae("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=ae("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=ae("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=ae("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=ae("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=ae("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=ae("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=ae("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=ae("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=ae("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=ae("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=ae("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=ae("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=ae("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=ae("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=ae("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=ae("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=ae("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=ae("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=ae("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bi=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function I5(){const{scraperStatus:e}=eo();return e!=null&&e.isActive?s.jsxs("div",{className:"fixed bottom-4 right-4 bg-blue-600 text-white rounded-lg shadow-lg p-4 flex items-center space-x-3 z-50",children:[s.jsx(Ds,{className:"w-5 h-5 animate-spin"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:"Scraper Running"}),s.jsx("div",{className:"text-sm opacity-90",children:e.progress})]})]}):null}function Sd(e,t){const[n,r]=d.useState(e);return d.useEffect(()=>{const i=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(i)}},[e,t]),n}const Tf={searchTerm:"",categories:[],authors:[],compatibility:[],dateRange:{},fileSizeRange:{}},Af={field:"dateAdded",direction:"desc"},$5=[12,24,48,96],F5=()=>{var B,U;const e=Ha(),[t,n]=d.useState("grid"),[r,i]=d.useState(Tf),[o,a]=d.useState(Af),[l,c]=d.useState(1),[u,h]=d.useState(24),[f,m]=d.useState(!1),[v,b]=d.useState(new Set),[w,x]=d.useState(!1),g=Sd(r.searchTerm,300),p=Rg(),{data:y,isLoading:j,error:S}=_t({queryKey:["addons",{page:l,pageSize:u,sortBy:o.field,sortDirection:o.direction,searchTerm:g,categories:r.categories,authors:r.authors,compatibility:r.compatibility,dateStart:r.dateRange.start,dateEnd:r.dateRange.end,minSize:r.fileSizeRange.min,maxSize:r.fileSizeRange.max}],queryFn:()=>oe.getAddons({page:l,pageSize:u,sortBy:o.field,sortDirection:o.direction,searchTerm:g.trim()||void 0,categories:r.categories.length>0?r.categories:void 0,authors:r.authors.length>0?r.authors:void 0,compatibility:r.compatibility.length>0?r.compatibility.join(","):void 0,dateStart:r.dateRange.start,dateEnd:r.dateRange.end,minSize:r.fileSizeRange.min,maxSize:r.fileSizeRange.max}),placeholderData:I=>I,staleTime:3e4}),C=(y==null?void 0:y.addons)||[],k=((B=y==null?void 0:y.pagination)==null?void 0:B.totalItems)||0,E=((U=y==null?void 0:y.pagination)==null?void 0:U.totalPages)||Math.ceil(k/u),_=d.useCallback(I=>{i(J=>({...J,...I})),c(1)},[]);d.useCallback(I=>{a(J=>({field:I,direction:J.field===I&&J.direction==="asc"?"desc":"asc"})),c(1)},[]);const R=d.useCallback(I=>{c(I),window.scrollTo({top:0,behavior:"smooth"})},[]),Q=d.useCallback(I=>{h(I),c(1)},[]),z=d.useCallback(()=>{i(Tf),a(Af),c(1)},[]),L=d.useMemo(()=>{let I=0;return r.searchTerm.trim()&&I++,r.categories.length>0&&I++,r.authors.length>0&&I++,r.compatibility.length>0&&I++,(r.dateRange.start||r.dateRange.end)&&I++,(r.fileSizeRange.min!==void 0||r.fileSizeRange.max!==void 0)&&I++,I},[r]),te=d.useCallback((I,J)=>{b(de=>{const tt=new Set(de);return J?tt.add(I):tt.delete(I),tt})},[]),A=d.useCallback(()=>{b(new Set(C.map(I=>I.id)))},[C]),V=d.useCallback(()=>{b(new Set)},[]),be=d.useCallback(()=>{if(v.size===0){W.error("Please select at least one addon to download");return}const I=Array.from(v);p.mutate({count:I.length,maxConcurrency:3,addonIds:I},{onSuccess:()=>{b(new Set),x(!1),W.success(`Started download session for ${I.length} addons`),e("/downloads")}})},[v,p,e]),M=d.useCallback(()=>{x(!w),b(new Set)},[w]);return s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsx(I5,{}),s.jsxs("div",{className:"flex-none bg-white border-b border-gray-200 px-6 py-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Addon Browser"}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[k.toLocaleString()," addons available"]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex-1 min-w-64",children:[s.jsx(gn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search addons...",value:r.searchTerm,onChange:I=>_({searchTerm:I.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("button",{onClick:M,className:`flex items-center gap-2 px-3 py-2 text-sm font-medium rounded-lg border transition-colors ${w?"bg-purple-50 text-purple-700 border-purple-200":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:[s.jsx(Me,{className:"h-4 w-4"}),w?"Cancel":"Select"]}),s.jsxs("button",{onClick:()=>m(!f),className:`flex items-center gap-2 px-3 py-2 text-sm font-medium rounded-lg border transition-colors ${f||L>0?"bg-blue-50 text-blue-700 border-blue-200":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:[s.jsx(md,{className:"h-4 w-4"}),"Filters",L>0&&s.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-1.5 py-0.5 rounded-full",children:L})]}),s.jsxs("div",{className:"flex border border-gray-300 rounded-lg",children:[s.jsx("button",{onClick:()=>n("grid"),className:`p-2 ${t==="grid"?"bg-blue-50 text-blue-700":"text-gray-600 hover:text-gray-900"}`,title:"Grid view",children:s.jsx(Bp,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>n("list"),className:`p-2 border-l border-gray-300 ${t==="list"?"bg-blue-50 text-blue-700":"text-gray-600 hover:text-gray-900"}`,title:"List view",children:s.jsx(zp,{className:"h-4 w-4"})})]})]})]}),f&&s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:s.jsx("p",{className:"text-sm text-gray-500",children:"Advanced filters coming soon..."})}),w&&s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[v.size," addon",v.size!==1?"s":""," selected"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:A,className:"text-sm text-blue-600 hover:text-blue-800",children:"Select all on page"}),s.jsx("span",{className:"text-gray-300",children:"|"}),s.jsx("button",{onClick:V,className:"text-sm text-gray-600 hover:text-gray-800",children:"Clear selection"})]})]}),s.jsx("button",{onClick:be,disabled:v.size===0||p.isPending,className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg transition-colors ${v.size===0||p.isPending?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:p.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Starting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Me,{className:"h-4 w-4"}),"Download Selected (",v.size,")"]})})]})})]}),s.jsx("div",{className:"flex-1 overflow-auto",children:j?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-4",children:"Loading addons..."})]})}):S?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-red-600 mb-2",children:"Failed to load addons"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Please try refreshing the page"})]})}):C.length===0?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-gray-600 mb-2",children:"No addons found"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Try adjusting your search or filters"}),L>0&&s.jsx("button",{onClick:z,className:"mt-3 text-blue-600 hover:text-blue-800 text-sm",children:"Clear all filters"})]})}):s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",(l-1)*u+1,"-",Math.min(l*u,k)," of ",k.toLocaleString()," results"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-gray-600",children:"Show:"}),s.jsx("select",{value:u,onChange:I=>Q(Number(I.target.value)),className:"border border-gray-300 rounded px-2 py-1 text-sm",children:$5.map(I=>s.jsx("option",{value:I,children:I},I))})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-gray-600",children:"Sort by:"}),s.jsxs("select",{value:`${o.field}-${o.direction}`,onChange:I=>{const[J,de]=I.target.value.split("-");a({field:J,direction:de}),c(1)},className:"border border-gray-300 rounded px-2 py-1 text-sm",children:[s.jsx("option",{value:"dateAdded-desc",children:"Newest first"}),s.jsx("option",{value:"dateAdded-asc",children:"Oldest first"}),s.jsx("option",{value:"name-asc",children:"Name A-Z"}),s.jsx("option",{value:"name-desc",children:"Name Z-A"}),s.jsx("option",{value:"fileSize-desc",children:"Largest first"}),s.jsx("option",{value:"fileSize-asc",children:"Smallest first"}),s.jsx("option",{value:"author-asc",children:"Author A-Z"}),s.jsx("option",{value:"author-desc",children:"Author Z-A"})]})]})]})]}),t==="grid"?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:C.map(I=>s.jsx(ro,{addon:I,selectMode:w,isSelected:v.has(I.id),onSelect:J=>te(I.id,J)},I.id))}):s.jsx("div",{className:"space-y-4",children:C.map(I=>s.jsx(jd,{addon:I,selectMode:w,isSelected:v.has(I.id),onSelect:J=>te(I.id,J)},I.id))}),E>1&&s.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-gray-200",children:[s.jsxs("button",{onClick:()=>R(l-1),disabled:l===1,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Op,{className:"h-4 w-4"}),"Previous"]}),s.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:Math.min(E,7)},(I,J)=>{let de;return E<=7||l<=4?de=J+1:l>=E-3?de=E-6+J:de=l-3+J,s.jsx("button",{onClick:()=>R(de),className:`px-3 py-2 text-sm font-medium rounded-lg ${l===de?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"}`,children:de},de)})}),s.jsxs("button",{onClick:()=>R(l+1),disabled:l===E,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:["Next",s.jsx(nu,{className:"h-4 w-4"})]})]})]})})]})},Tg=({itemHeight:e,containerHeight:t,overscan:n=5,totalItems:r,dynamicHeight:i=!1})=>{const[o,a]=d.useState(0),[l,c]=d.useState(!1),u=d.useRef(null),{startIndex:h,endIndex:f,visibleItems:m}=d.useMemo(()=>{const g=Math.floor(o/e),p=Math.ceil(t/e),y=Math.max(0,g-n),j=Math.min(r-1,g+p+n),S=[];for(let C=y;C<=j;C++)S.push(C);return{startIndex:y,endIndex:j,visibleItems:S}},[o,e,t,n,r]),v=r*e,b=h*e,w=d.useCallback(()=>{if(!u.current)return;const g=u.current.scrollTop;a(g),c(!0)},[]);d.useEffect(()=>{if(!l)return;const g=setTimeout(()=>{c(!1)},150);return()=>clearTimeout(g)},[o,l]);const x=d.useCallback(g=>{if(!u.current)return;const p=g*e;u.current.scrollTo({top:p,behavior:"smooth"})},[e]);return d.useEffect(()=>{const g=u.current;if(g)return g.addEventListener("scroll",w,{passive:!0}),()=>{g.removeEventListener("scroll",w)}},[w]),{scrollElementRef:u,startIndex:h,endIndex:f,visibleItems:m,scrollToItem:x,totalHeight:v,offsetY:b}},O5=({addons:e,selectMode:t,selectedAddons:n,onAddonSelect:r,containerHeight:i=600,itemHeight:o=320,itemsPerRow:a=4,hasMoreData:l=!1,loadMore:c,isLoadingMore:u=!1})=>{const h=d.useMemo(()=>{const x=[];for(let g=0;g<e.length;g+=a)x.push(e.slice(g,g+a));return x},[e,a]),{scrollElementRef:f,visibleItems:m,totalHeight:v,offsetY:b,endIndex:w}=Tg({itemHeight:o,containerHeight:i,totalItems:h.length,overscan:2});return d.useEffect(()=>{if(!l||u||!c)return;const x=Math.max(0,h.length-5);w>=x&&c()},[w,h.length,l,u,c]),s.jsx("div",{ref:f,className:"h-full overflow-auto",style:{height:i},children:s.jsxs("div",{style:{height:v,position:"relative"},children:[s.jsx("div",{style:{transform:`translateY(${b}px)`,position:"absolute",top:0,left:0,right:0},children:m.map(x=>{const g=h[x];return g?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 px-6 mb-6",style:{minHeight:o},children:g.map(p=>s.jsx(ro,{addon:p,selectMode:t,isSelected:n.has(p.id),onSelect:y=>r(p.id,y)},p.id))},x):null})}),u&&s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-2 text-gray-600",children:"Loading more addons..."})]})]})})},Ag=Qi.memo(O5,(e,t)=>e.addons===t.addons&&e.selectMode===t.selectMode&&e.selectedAddons===t.selectedAddons&&e.containerHeight===t.containerHeight&&e.itemHeight===t.itemHeight&&e.itemsPerRow===t.itemsPerRow);Ag.displayName="VirtualizedAddonGrid";const z5=({addons:e,selectMode:t,selectedAddons:n,onAddonSelect:r,containerHeight:i=600,itemHeight:o=120,hasMoreData:a=!1,loadMore:l,isLoadingMore:c=!1})=>{const{scrollElementRef:u,visibleItems:h,totalHeight:f,offsetY:m,endIndex:v}=Tg({itemHeight:o,containerHeight:i,totalItems:e.length,overscan:5});return d.useEffect(()=>{if(!a||c||!l)return;const b=Math.max(0,e.length-5);v>=b&&l()},[v,e.length,a,c,l]),s.jsx("div",{ref:u,className:"h-full overflow-auto",style:{height:i},children:s.jsxs("div",{style:{height:f,position:"relative"},children:[s.jsx("div",{style:{transform:`translateY(${m}px)`,position:"absolute",top:0,left:0,right:0},children:h.map(b=>{const w=e[b];return w?s.jsx("div",{style:{height:o},className:"px-6",children:s.jsx(jd,{addon:w,selectMode:t,isSelected:n.has(w.id),onSelect:x=>r(w.id,x)})},w.id):null})}),c&&s.jsxs("div",{className:"flex items-center justify-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-2 text-gray-600",children:"Loading more addons..."})]})]})})},Dg=Qi.memo(z5,(e,t)=>e.addons===t.addons&&e.selectMode===t.selectMode&&e.selectedAddons===t.selectedAddons&&e.containerHeight===t.containerHeight&&e.itemHeight===t.itemHeight);Dg.displayName="VirtualizedAddonList";const B5=({addons:e,selectedAddons:t,onAddonSelect:n,onSelectionChange:r,onStartBulkDownload:i,isDownloading:o})=>{const[a,l]=d.useState(!1),[c,u]=d.useState(!1),[h,f]=d.useState({categories:[],compatibility:[],authors:[],dateRange:{},fileSizeRange:{}}),m=d.useMemo(()=>{const p=e.filter(j=>t.has(j.id)),y={totalSelected:p.length,totalSize:p.reduce((j,S)=>j+(S.fileSize||0),0),averageSize:0,categories:{},compatibility:{}};return y.averageSize=y.totalSelected>0?y.totalSize/y.totalSelected:0,p.forEach(j=>{j.categories&&j.categories.length>0&&j.categories.forEach(S=>{y.categories[S]=(y.categories[S]||0)+1}),j.compatibility&&(y.compatibility[j.compatibility]=(y.compatibility[j.compatibility]||0)+1)}),y},[e,t]),v=d.useMemo(()=>{const p=new Set,y=new Set,j=new Set;return e.forEach(S=>{S.categories&&S.categories.length>0?S.categories.forEach(C=>p.add(C)):S.compatibility&&p.add(S.compatibility),S.compatibility&&y.add(S.compatibility),S.author&&j.add(S.author)}),{categories:Array.from(p).sort(),compatibility:Array.from(y).sort(),authors:Array.from(j).sort()}},[e]),b=d.useCallback(()=>{const p=e.filter(j=>{if(h.categories.length>0&&(!j.categories||!j.categories.some(S=>h.categories.includes(S)))||h.compatibility.length>0&&(!j.compatibility||!h.compatibility.includes(j.compatibility))||h.authors.length>0&&(!j.author||!h.authors.includes(j.author)))return!1;if(h.dateRange.start||h.dateRange.end){const S=new Date(j.dateAdded);if(h.dateRange.start&&S<new Date(h.dateRange.start)||h.dateRange.end&&S>new Date(h.dateRange.end))return!1}if(h.fileSizeRange.min||h.fileSizeRange.max){const S=j.fileSize||0;if(h.fileSizeRange.min&&S<h.fileSizeRange.min||h.fileSizeRange.max&&S>h.fileSizeRange.max)return!1}return!0}),y=new Set(p.map(j=>j.id));r(y),W.success(`Selected ${p.length} addons matching criteria`)},[e,h,r]),w=d.useCallback(()=>{if(t.size===0){W.error("Please select at least one addon to download");return}const p=m.totalSize,y=m.totalSelected;if(p>10*1024*1024*1024){W.error("Total download size exceeds 10GB limit. Please reduce selection.");return}if(y>100){W.error("Maximum 100 addons can be downloaded at once. Please reduce selection.");return}i(Array.from(t))},[t,m,i]),x=d.useCallback(()=>{const p=e.filter(k=>t.has(k.id)),y={exported:new Date().toISOString(),count:p.length,addons:p.map(k=>({id:k.id,name:k.name,author:k.author,categories:k.categories,compatibility:k.compatibility,dateAdded:k.dateAdded,fileSize:k.fileSize}))},j=new Blob([JSON.stringify(y,null,2)],{type:"application/json"}),S=URL.createObjectURL(j),C=document.createElement("a");C.href=S,C.download=`addon-selection-${new Date().toISOString().split("T")[0]}.json`,C.click(),URL.revokeObjectURL(S),W.success("Selection exported successfully")},[e,t]),g=p=>{if(p===0)return"0 B";const y=1024,j=["B","KB","MB","GB"],S=Math.floor(Math.log(p)/Math.log(y));return parseFloat((p/Math.pow(y,S)).toFixed(2))+" "+j[S]};return s.jsxs("div",{className:"bg-white border-t border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Bulk Operations"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(se,{variant:"outline",size:"sm",onClick:()=>l(!a),children:[s.jsx(hd,{className:"h-4 w-4"}),"Advanced Selection"]}),s.jsxs(se,{variant:"outline",size:"sm",onClick:()=>u(!c),children:[s.jsx(Il,{className:"h-4 w-4"}),"Export"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Mi,{className:"h-5 w-5 text-blue-600"}),s.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Selected"})]}),s.jsx("p",{className:"text-2xl font-bold text-blue-900 mt-1",children:m.totalSelected}),s.jsxs("p",{className:"text-sm text-blue-700",children:["of ",e.length," addons"]})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Me,{className:"h-5 w-5 text-green-600"}),s.jsx("span",{className:"text-sm font-medium text-green-900",children:"Total Size"})]}),s.jsx("p",{className:"text-2xl font-bold text-green-900 mt-1",children:g(m.totalSize)}),s.jsxs("p",{className:"text-sm text-green-700",children:["Avg: ",g(m.averageSize)]})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Up,{className:"h-5 w-5 text-purple-600"}),s.jsx("span",{className:"text-sm font-medium text-purple-900",children:"Categories"})]}),s.jsx("p",{className:"text-2xl font-bold text-purple-900 mt-1",children:Object.keys(m.categories).length}),s.jsx("p",{className:"text-sm text-purple-700",children:"Different types"})]}),s.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Xt,{className:"h-5 w-5 text-orange-600"}),s.jsx("span",{className:"text-sm font-medium text-orange-900",children:"Est. Time"})]}),s.jsxs("p",{className:"text-2xl font-bold text-orange-900 mt-1",children:[Math.ceil(m.totalSelected/5),"m"]}),s.jsx("p",{className:"text-sm text-orange-700",children:"At 5 addons/min"})]})]}),a&&s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Advanced Selection Criteria"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Categories"}),s.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:v.categories.map(p=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:h.categories.includes(p),onChange:y=>{const j=y.target.checked?[...h.categories,p]:h.categories.filter(S=>S!==p);f(S=>({...S,categories:j}))},className:"mr-2"}),s.jsx("span",{className:"text-sm text-gray-700",children:p})]},p))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Compatibility"}),s.jsx("div",{className:"space-y-2 max-h-32 overflow-y-auto",children:v.compatibility.map(p=>s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",checked:h.compatibility.includes(p),onChange:y=>{const j=y.target.checked?[...h.compatibility,p]:h.compatibility.filter(S=>S!==p);f(S=>({...S,compatibility:j}))},className:"mr-2"}),s.jsx("span",{className:"text-sm text-gray-700",children:p})]},p))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date Range"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"date",placeholder:"Start date",value:h.dateRange.start||"",onChange:p=>f(y=>({...y,dateRange:{...y.dateRange,start:p.target.value}})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm"}),s.jsx("input",{type:"date",placeholder:"End date",value:h.dateRange.end||"",onChange:p=>f(y=>({...y,dateRange:{...y.dateRange,end:p.target.value}})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"File Size (MB)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"number",placeholder:"Min size",value:h.fileSizeRange.min||"",onChange:p=>f(y=>({...y,fileSizeRange:{...y.fileSizeRange,min:Number(p.target.value)||void 0}})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm"}),s.jsx("input",{type:"number",placeholder:"Max size",value:h.fileSizeRange.max||"",onChange:p=>f(y=>({...y,fileSizeRange:{...y.fileSizeRange,max:Number(p.target.value)||void 0}})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md text-sm"})]})]})]}),s.jsx("div",{className:"mt-4 flex justify-end",children:s.jsxs(se,{onClick:b,children:[s.jsx(md,{className:"h-4 w-4 mr-2"}),"Apply Selection"]})})]}),c&&s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"Export Options"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs(se,{variant:"outline",onClick:x,disabled:t.size===0,children:[s.jsx(Il,{className:"h-4 w-4 mr-2"}),"Export as JSON"]}),s.jsxs(se,{variant:"outline",disabled:t.size===0,children:[s.jsx(Il,{className:"h-4 w-4 mr-2"}),"Export as CSV"]})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(se,{variant:"outline",onClick:()=>r(new Set),disabled:t.size===0,children:[s.jsx(Hp,{className:"h-4 w-4 mr-2"}),"Clear Selection"]}),s.jsxs(se,{variant:"outline",onClick:()=>r(new Set(e.map(p=>p.id))),children:[s.jsx(Mi,{className:"h-4 w-4 mr-2"}),"Select All"]})]}),s.jsx(se,{onClick:w,disabled:t.size===0||o,className:"bg-blue-600 hover:bg-blue-700",children:o?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent mr-2"}),"Starting Download..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Me,{className:"h-4 w-4 mr-2"}),"Download Selected (",t.size,")"]})})]})]})},Ro=[{id:"review",title:"Review Selection",icon:jw},{id:"configure",title:"Configure Download",icon:Me},{id:"validate",title:"Validate & Confirm",icon:Mi},{id:"download",title:"Download Progress",icon:Xt}],U5=({selectedAddons:e,onClose:t,onStartDownload:n,isVisible:r})=>{const[i,o]=d.useState(0),[a,l]=d.useState({addonIds:e.map(_=>_.id),batchSize:10,maxConcurrency:3,retryAttempts:3,pauseBetweenBatches:1e3,skipExisting:!0,createBackup:!1,organizeByCategory:!0}),[c,u]=d.useState(null),[h,f]=d.useState(!1),[m,v]=d.useState(0),[b,w]=d.useState(!1),x=d.useMemo(()=>{const _=e.reduce((z,L)=>z+(L.fileSize||0),0),R=e.reduce((z,L)=>(L.categories&&L.categories.forEach(te=>{z[te]=(z[te]||0)+1}),z),{}),Q=e.reduce((z,L)=>(L.compatibility&&(z[L.compatibility]=(z[L.compatibility]||0)+1),z),{});return{count:e.length,totalSize:_,categories:Object.entries(R).map(([z,L])=>({name:z,count:L})),compatibility:Object.entries(Q).map(([z,L])=>({name:z,count:L}))}},[e]),g=d.useMemo(()=>{const _=[],R=[];x.totalSize>5*1024*1024*1024&&_.push("Large download size detected (>5GB). Consider downloading in smaller batches."),x.totalSize>10*1024*1024*1024&&R.push("Download size exceeds 10GB limit. Please reduce selection."),x.count>50&&_.push("Large number of addons selected. This may take a while."),x.count>100&&R.push("Maximum 100 addons can be downloaded at once."),a.maxConcurrency>5&&_.push("High concurrency may impact performance. Consider reducing to 3-5.");const Q=Math.ceil(x.totalSize/(5*1024*1024)),z=x.totalSize*1.2;return{isValid:R.length===0,warnings:_,errors:R,estimatedTime:Q,totalSize:x.totalSize,diskSpaceRequired:z}},[x,a]);d.useEffect(()=>{u(g)},[g]);const p=_=>{if(_===0)return"0 B";const R=1024,Q=["B","KB","MB","GB"],z=Math.floor(Math.log(_)/Math.log(R));return parseFloat((_/Math.pow(R,z)).toFixed(1))+" "+Q[z]},y=_=>{if(_<60)return`${_}s`;const R=Math.floor(_/60);return R<60?`${R}m ${_%60}s`:`${Math.floor(R/60)}h ${R%60}m`},j=()=>{i<Ro.length-1&&o(i+1)},S=()=>{i>0&&o(i-1)},C=()=>{if(!(c!=null&&c.isValid)){W.error("Please fix validation errors before proceeding");return}f(!0),o(3),n(a)},k=()=>{w(!b)},E=()=>{f(!1),v(0),W.success("Download stopped"),t()};return r?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl h-[80vh] flex flex-col",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Download Wizard"}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:s.jsx(Hp,{className:"h-6 w-6"})})]}),s.jsx("div",{className:"flex items-center justify-between p-6 bg-gray-50 border-b border-gray-200",children:Ro.map((_,R)=>s.jsxs("div",{className:`flex items-center ${R<Ro.length-1?"flex-1":""}`,children:[s.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full ${R<=i?"bg-blue-600 text-white":"bg-gray-300 text-gray-600"}`,children:R<i?s.jsx(Mi,{className:"h-5 w-5"}):s.jsx(_.icon,{className:"h-5 w-5"})}),s.jsx("span",{className:`ml-2 text-sm font-medium ${R<=i?"text-blue-600":"text-gray-500"}`,children:_.title}),R<Ro.length-1&&s.jsx(nu,{className:"h-5 w-5 text-gray-400 ml-4 flex-1"})]},_.id))}),s.jsxs("div",{className:"flex-1 p-6 overflow-y-auto",children:[i===0&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Total Addons"}),s.jsx("p",{className:"text-2xl font-bold text-blue-900",children:x.count})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-medium text-green-900 mb-2",children:"Total Size"}),s.jsx("p",{className:"text-2xl font-bold text-green-900",children:p(x.totalSize)})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-medium text-purple-900 mb-2",children:"Est. Time"}),s.jsx("p",{className:"text-2xl font-bold text-purple-900",children:y(Math.ceil(x.totalSize/(5*1024*1024)))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Categories"}),s.jsx("div",{className:"space-y-2",children:x.categories.map(_=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-700",children:_.name}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:_.count})]},_.name))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Compatibility"}),s.jsx("div",{className:"space-y-2",children:x.compatibility.map(_=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-700",children:_.name}),s.jsx("span",{className:"text-sm font-medium text-gray-900",children:_.count})]},_.name))})]})]}),s.jsxs("div",{className:"max-h-64 overflow-y-auto",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Selected Addons"}),s.jsx("div",{className:"space-y-2",children:e.map(_=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-gray-900",children:_.name}),s.jsxs("p",{className:"text-sm text-gray-600",children:[_.author,"  ",_.compatibility]})]}),s.jsx("span",{className:"text-sm text-gray-500",children:p(_.fileSize||0)})]},_.id))})]})]}),i===1&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Batch Size"}),s.jsx("input",{type:"number",min:"1",max:"20",value:a.batchSize,onChange:_=>l(R=>({...R,batchSize:parseInt(_.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Number of addons to download simultaneously"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Concurrency"}),s.jsx("input",{type:"number",min:"1",max:"10",value:a.maxConcurrency,onChange:_=>l(R=>({...R,maxConcurrency:parseInt(_.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Maximum parallel downloads"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Retry Attempts"}),s.jsx("input",{type:"number",min:"0",max:"10",value:a.retryAttempts,onChange:_=>l(R=>({...R,retryAttempts:parseInt(_.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Number of retry attempts for failed downloads"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pause Between Batches (ms)"}),s.jsx("input",{type:"number",min:"0",max:"10000",value:a.pauseBetweenBatches,onChange:_=>l(R=>({...R,pauseBetweenBatches:parseInt(_.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Delay between batches to prevent server overload"})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"skipExisting",checked:a.skipExisting,onChange:_=>l(R=>({...R,skipExisting:_.target.checked})),className:"mr-3"}),s.jsx("label",{htmlFor:"skipExisting",className:"text-sm font-medium text-gray-700",children:"Skip existing files"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"createBackup",checked:a.createBackup,onChange:_=>l(R=>({...R,createBackup:_.target.checked})),className:"mr-3"}),s.jsx("label",{htmlFor:"createBackup",className:"text-sm font-medium text-gray-700",children:"Create backup of existing files"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"organizeByCategory",checked:a.organizeByCategory,onChange:_=>l(R=>({...R,organizeByCategory:_.target.checked})),className:"mr-3"}),s.jsx("label",{htmlFor:"organizeByCategory",className:"text-sm font-medium text-gray-700",children:"Organize downloads by category"})]})]})]}),i===2&&c&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"Download Size"}),s.jsx("p",{className:"text-2xl font-bold text-blue-900",children:p(c.totalSize)})]}),s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-medium text-green-900 mb-2",children:"Estimated Time"}),s.jsx("p",{className:"text-2xl font-bold text-green-900",children:y(c.estimatedTime)})]}),s.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-medium text-purple-900 mb-2",children:"Disk Space"}),s.jsx("p",{className:"text-2xl font-bold text-purple-900",children:p(c.diskSpaceRequired)})]})]}),c.errors.length>0&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(ts,{className:"h-5 w-5 text-red-600 mr-2"}),s.jsx("h3",{className:"font-medium text-red-900",children:"Errors"})]}),s.jsx("ul",{className:"space-y-1",children:c.errors.map((_,R)=>s.jsxs("li",{className:"text-sm text-red-700",children:[" ",_]},R))})]}),c.warnings.length>0&&s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(ts,{className:"h-5 w-5 text-yellow-600 mr-2"}),s.jsx("h3",{className:"font-medium text-yellow-900",children:"Warnings"})]}),s.jsx("ul",{className:"space-y-1",children:c.warnings.map((_,R)=>s.jsxs("li",{className:"text-sm text-yellow-700",children:[" ",_]},R))})]}),s.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-medium text-gray-900 mb-3",children:"Download Configuration"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Batch Size:"}),s.jsx("span",{className:"ml-2 font-medium",children:a.batchSize})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Max Concurrency:"}),s.jsx("span",{className:"ml-2 font-medium",children:a.maxConcurrency})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Retry Attempts:"}),s.jsx("span",{className:"ml-2 font-medium",children:a.retryAttempts})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-600",children:"Pause Between Batches:"}),s.jsxs("span",{className:"ml-2 font-medium",children:[a.pauseBetweenBatches,"ms"]})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("span",{className:"text-gray-600",children:"Options:"}),s.jsxs("span",{className:"ml-2 font-medium",children:[a.skipExisting&&"Skip existing, ",a.createBackup&&"Create backup, ",a.organizeByCategory&&"Organize by category"]})]})]})]})]}),i===3&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"font-medium text-blue-900",children:"Download Progress"}),s.jsxs("span",{className:"text-sm text-blue-700",children:[Math.round(m),"%"]})]}),s.jsx("div",{className:"w-full bg-blue-200 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${m}%`}})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-medium text-green-900 mb-2",children:"Completed"}),s.jsx("p",{className:"text-2xl font-bold text-green-900",children:Math.floor(m/100*x.count)}),s.jsxs("p",{className:"text-sm text-green-700",children:["of ",x.count," addons"]})]}),s.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"In Progress"}),s.jsx("p",{className:"text-2xl font-bold text-blue-900",children:a.maxConcurrency}),s.jsx("p",{className:"text-sm text-blue-700",children:"active downloads"})]}),s.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[s.jsx("h3",{className:"font-medium text-orange-900 mb-2",children:"Remaining"}),s.jsx("p",{className:"text-2xl font-bold text-orange-900",children:x.count-Math.floor(m/100*x.count)}),s.jsx("p",{className:"text-sm text-orange-700",children:"addons queued"})]})]}),s.jsxs("div",{className:"flex justify-center gap-4",children:[s.jsx(se,{variant:"outline",onClick:k,disabled:!h,children:b?s.jsxs(s.Fragment,{children:[s.jsx(Qw,{className:"h-4 w-4 mr-2"}),"Resume"]}):s.jsxs(s.Fragment,{children:[s.jsx(Hw,{className:"h-4 w-4 mr-2"}),"Pause"]})}),s.jsxs(se,{variant:"outline",onClick:E,className:"text-red-600 hover:text-red-700",children:[s.jsx(nb,{className:"h-4 w-4 mr-2"}),"Stop"]})]})]})]}),s.jsxs("div",{className:"flex items-center justify-between p-6 border-t border-gray-200",children:[s.jsxs(se,{variant:"outline",onClick:S,disabled:i===0||h,children:[s.jsx(Op,{className:"h-4 w-4 mr-2"}),"Previous"]}),s.jsxs("div",{className:"flex gap-3",children:[i<2&&s.jsxs(se,{onClick:j,children:["Next",s.jsx(nu,{className:"h-4 w-4 ml-2"})]}),i===2&&s.jsxs(se,{onClick:C,disabled:!(c!=null&&c.isValid),className:"bg-blue-600 hover:bg-blue-700",children:[s.jsx(Me,{className:"h-4 w-4 mr-2"}),"Start Download"]}),i===3&&m>=100&&s.jsxs(se,{onClick:t,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(Mi,{className:"h-4 w-4 mr-2"}),"Complete"]})]})]})]})}):null},Mg=e=>{var u,h,f;const{pageSize:t=50,enabled:n=!0,...r}=e,i=e2({queryKey:["addons-infinite",{...r,pageSize:t}],queryFn:({pageParam:m=1})=>oe.getAddons({...r,page:m,pageSize:t}),getNextPageParam:m=>{const{pagination:v}=m;return v.hasNext?v.currentPage+1:void 0},initialPageParam:1,enabled:n,staleTime:3e4,gcTime:5*60*1e3}),o=d.useMemo(()=>{var m;return(m=i.data)!=null&&m.pages?i.data.pages.reduce((v,b)=>v.concat(b.addons),[]):[]},[(u=i.data)==null?void 0:u.pages]),a=(f=(h=i.data)==null?void 0:h.pages[0])==null?void 0:f.summary,l=i.isLoading&&!i.data,c=i.isFetchingNextPage;return{...i,addons:o,summary:a,isLoadingInitial:l,isLoadingMore:c,totalCount:(a==null?void 0:a.totalAddons)||0,hasMoreData:i.hasNextPage,loadMore:i.fetchNextPage}},Lg=({filters:e,onFiltersChange:t,onClearFilters:n,activeFilterCount:r,summary:i})=>{var p,y;const{data:o=[]}=_t({queryKey:["authors"],queryFn:()=>oe.getAuthors(),staleTime:3e5}),{data:a=[]}=_t({queryKey:["categories"],queryFn:()=>oe.getCategories(),staleTime:5*60*1e3}),l=d.useMemo(()=>i!=null&&i.compatibilityBreakdown?Object.keys(i.compatibilityBreakdown).sort():["FS2020","FS2024","MSFS","X-Plane 11","X-Plane 12","P3D"],[i]),[c,u]=d.useState(((p=e.fileSizeRange.min)==null?void 0:p.toString())||""),[h,f]=d.useState(((y=e.fileSizeRange.max)==null?void 0:y.toString())||"");d.useEffect(()=>{var j,S;u(((j=e.fileSizeRange.min)==null?void 0:j.toString())||""),f(((S=e.fileSizeRange.max)==null?void 0:S.toString())||"")},[e.fileSizeRange]);const m=j=>{const S=e.categories.includes(j)?e.categories.filter(C=>C!==j):[...e.categories,j];t({categories:S})},v=j=>{const S=e.authors.includes(j)?e.authors.filter(C=>C!==j):[...e.authors,j];t({authors:S})},b=j=>{const S=e.compatibility.includes(j)?e.compatibility.filter(C=>C!==j):[...e.compatibility,j];t({compatibility:S})},w=(j,S)=>{t({dateRange:{...e.dateRange,[j]:S||void 0}})},x=(j,S)=>{j==="min"?u(S):f(S);const C=S?parseFloat(S):void 0;t({fileSizeRange:{...e.fileSizeRange,[j]:C}})},g=j=>j>=1024*1024*1024?`${(j/(1024*1024*1024)).toFixed(1)} GB`:j>=1024*1024?`${(j/(1024*1024)).toFixed(1)} MB`:j>=1024?`${(j/1024).toFixed(1)} KB`:`${j} bytes`;return s.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Filters"}),r>0&&s.jsxs("button",{onClick:n,className:"flex items-center gap-1 text-xs text-red-600 hover:text-red-800",children:[s.jsx(Br,{className:"h-3 w-3"}),"Clear all (",r,")"]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-gray-700 mb-2",children:[s.jsx(Up,{className:"h-3 w-3"}),"Categories"]}),s.jsx("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:a.length>0?a.map(j=>s.jsxs("label",{className:"flex items-center gap-2 text-xs",children:[s.jsx("input",{type:"checkbox",checked:e.categories.includes(j),onChange:()=>m(j),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-gray-700",children:j})]},j)):s.jsx("p",{className:"text-xs text-gray-500",children:"No categories available"})})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-gray-700 mb-2",children:[s.jsx(Xn,{className:"h-3 w-3"}),"Authors"]}),s.jsxs("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:[o.length>0?o.slice(0,10).map(j=>s.jsxs("label",{className:"flex items-center gap-2 text-xs",children:[s.jsx("input",{type:"checkbox",checked:e.authors.includes(j),onChange:()=>v(j),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-gray-700 truncate",children:j})]},j)):s.jsx("p",{className:"text-xs text-gray-500",children:"No authors available"}),o.length>10&&s.jsxs("p",{className:"text-xs text-gray-500 italic",children:["+",o.length-10," more available"]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-gray-700 mb-2",children:[s.jsx(ru,{className:"h-3 w-3"}),"Compatibility"]}),s.jsx("div",{className:"space-y-1",children:l.map(j=>s.jsxs("label",{className:"flex items-center gap-2 text-xs",children:[s.jsx("input",{type:"checkbox",checked:e.compatibility.includes(j),onChange:()=>b(j),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),s.jsx("span",{className:"text-gray-700",children:j})]},j))})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-gray-700 mb-2",children:[s.jsx(qa,{className:"h-3 w-3"}),"Date Range"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"From"}),s.jsx("input",{type:"date",value:e.dateRange.start||"",onChange:j=>w("start",j.target.value),className:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"To"}),s.jsx("input",{type:"date",value:e.dateRange.end||"",onChange:j=>w("end",j.target.value),className:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-xs font-medium text-gray-700 mb-2",children:[s.jsx(Kn,{className:"h-3 w-3"}),"File Size (MB)"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Min"}),s.jsx("input",{type:"number",placeholder:"0",value:c,onChange:j=>x("min",j.target.value),className:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-600 mb-1",children:"Max"}),s.jsx("input",{type:"number",placeholder:"No limit",value:h,onChange:j=>x("max",j.target.value),className:"w-full px-2 py-1 text-xs border border-gray-300 rounded focus:ring-1 focus:ring-blue-500 focus:border-blue-500"})]})]}),(e.fileSizeRange.min||e.fileSizeRange.max)&&s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Range: ",e.fileSizeRange.min?g(e.fileSizeRange.min*1024*1024):"No min"," - ",e.fileSizeRange.max?g(e.fileSizeRange.max*1024*1024):"No max"]})]})]})},Df={searchTerm:"",categories:[],authors:[],compatibility:[],dateRange:{},fileSizeRange:{}},Mf={field:"dateAdded",direction:"desc"},H5=()=>{var kd,Cd,Ed,_d,Rd,Pd;const e=Ha(),[t,n]=d.useState("grid"),[r,i]=d.useState(Df),[o,a]=d.useState(Mf),[l,c]=d.useState(!1),[u,h]=d.useState(new Set),[f,m]=d.useState(!1),[v,b]=d.useState(!0),[w,x]=d.useState(600),[g,p]=d.useState(1),[y,j]=d.useState(24),[S,C]=d.useState(!1),[k,E]=d.useState(!1),_=Sd(r.searchTerm,300),R=Rg(),{addons:Q,summary:z,isLoadingInitial:L,isLoadingMore:te,hasMoreData:A,loadMore:V,error:be}=Mg({sortBy:o.field,sortDirection:o.direction,searchTerm:_.trim()||void 0,categories:r.categories.length>0?r.categories:void 0,authors:r.authors.length>0?r.authors:void 0,compatibility:r.compatibility.length>0?r.compatibility.join(","):void 0,dateStart:r.dateRange.start,dateEnd:r.dateRange.end,minSize:r.fileSizeRange.min,maxSize:r.fileSizeRange.max,pageSize:v?100:24,enabled:v}),M=_t({queryKey:["addons-traditional",{page:g,pageSize:y,sortBy:o.field,sortDirection:o.direction,searchTerm:_,categories:r.categories,authors:r.authors,compatibility:r.compatibility,dateStart:r.dateRange.start,dateEnd:r.dateRange.end,minSize:r.fileSizeRange.min,maxSize:r.fileSizeRange.max}],queryFn:()=>oe.getAddons({page:g,pageSize:y,sortBy:o.field,sortDirection:o.direction,searchTerm:_.trim()||void 0,categories:r.categories.length>0?r.categories:void 0,authors:r.authors.length>0?r.authors:void 0,compatibility:r.compatibility.length>0?r.compatibility.join(","):void 0,dateStart:r.dateRange.start,dateEnd:r.dateRange.end,minSize:r.fileSizeRange.min,maxSize:r.fileSizeRange.max}),enabled:!v,placeholderData:O=>O,staleTime:3e4}),B=v?Q:((kd=M.data)==null?void 0:kd.addons)||[],U=v?z:(Cd=M.data)==null?void 0:Cd.summary,I=v?be:M.error,J=v?L:M.isLoading,de=((_d=(Ed=M.data)==null?void 0:Ed.pagination)==null?void 0:_d.totalPages)||0;d.useEffect(()=>{const O=()=>{const Hs=window.innerHeight-200-100;x(Math.max(400,Hs))};return O(),window.addEventListener("resize",O),()=>window.removeEventListener("resize",O)},[]);const tt=d.useCallback(O=>{i(ge=>({...ge,...O})),v||p(1)},[v]);d.useCallback(O=>{a(ge=>({field:O,direction:ge.field===O&&ge.direction==="asc"?"desc":"asc"})),v||p(1)},[v]);const rr=d.useCallback(O=>{p(O),window.scrollTo({top:0,behavior:"smooth"})},[]),Yt=d.useCallback(O=>{j(O),p(1)},[]),sr=d.useCallback(()=>{i(Df),a(Mf)},[]),Bs=d.useMemo(()=>{let O=0;return r.searchTerm.trim()&&O++,r.categories.length>0&&O++,r.authors.length>0&&O++,r.compatibility.length>0&&O++,(r.dateRange.start||r.dateRange.end)&&O++,(r.fileSizeRange.min!==void 0||r.fileSizeRange.max!==void 0)&&O++,O},[r]),Us=d.useCallback((O,ge)=>{h(ht=>{const Hs=new Set(ht);return ge?Hs.add(O):Hs.delete(O),Hs})},[]),Fg=d.useCallback(()=>{const O=v?Q.slice(0,Math.min(100,Q.length)):B;h(new Set(O.map(ge=>ge.id))),W.success(`Selected ${O.length} addons`)},[Q,B,v]),Og=d.useCallback(()=>{h(new Set)},[]),Nd=d.useCallback(()=>{if(u.size===0){W.error("Please select at least one addon to download");return}E(!0)},[u]);d.useCallback(()=>{if(u.size===0){W.error("Please select at least one addon to download");return}const O=Array.from(u);R.mutate({count:O.length,maxConcurrency:3,addonIds:O},{onSuccess:()=>{h(new Set),m(!1),W.success(`Started download session for ${O.length} addons`),e("/downloads")}})},[u,R,e]);const zg=d.useCallback(O=>{R.mutate({count:O.addonIds.length,maxConcurrency:O.maxConcurrency,addonIds:O.addonIds},{onSuccess:()=>{h(new Set),m(!1),E(!1),W.success(`Started download session for ${O.addonIds.length} addons`),e("/downloads")}})},[R,e]),Bg=d.useCallback(O=>{h(O)},[]),Ug=d.useCallback(()=>{const O=!f;m(O),h(new Set),O||C(!1)},[f]),Hg=d.useCallback(()=>{C(!S)},[S]),io=d.useMemo(()=>{const O=v?Q.length:(U==null?void 0:U.totalAddons)||0,ge=v?Math.min(50,Q.length):B.length;return{totalAddons:O,renderedAddons:ge,memoryEfficiency:v?(ge/Math.max(O,1)*100).toFixed(1):"100.0"}},[Q.length,B.length,U,v]);return s.jsxs("div",{className:"flex flex-col h-full",children:[s.jsxs("div",{className:"flex-none bg-white border-b border-gray-200 px-6 py-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Enhanced Addon Browser"}),v&&s.jsxs("span",{className:"bg-green-100 text-green-800 text-xs px-2 py-1 rounded-full flex items-center gap-1",children:[s.jsx(tu,{className:"h-3 w-3"}),"Virtual Scrolling"]})]}),s.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[((Rd=U==null?void 0:U.totalAddons)==null?void 0:Rd.toLocaleString())||io.totalAddons.toLocaleString()," addons available",v?s.jsxs("span",{className:"text-green-600 ml-2",children:[" Rendering ",io.renderedAddons,"/",io.totalAddons,"(",io.memoryEfficiency,"% memory efficient)"]}):s.jsxs("span",{className:"text-blue-600 ml-2",children:[" Page ",g," of ",de," (showing ",B.length," items)"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("button",{onClick:()=>b(!v),className:`flex items-center gap-2 px-3 py-2 text-sm font-medium rounded-lg border transition-colors ${v?"bg-green-50 text-green-700 border-green-200":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:[v?s.jsx(tu,{className:"h-4 w-4"}):s.jsx(Xt,{className:"h-4 w-4"}),v?"High Performance":"Standard Mode"]})}),s.jsxs("div",{className:"relative flex-1 min-w-64",children:[s.jsx(gn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search addons...",value:r.searchTerm,onChange:O=>tt({searchTerm:O.target.value}),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("button",{onClick:Ug,className:`flex items-center gap-2 px-3 py-2 text-sm font-medium rounded-lg border transition-colors ${f?"bg-purple-50 text-purple-700 border-purple-200":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:[s.jsx(Me,{className:"h-4 w-4"}),f?"Cancel":"Select"]}),f&&s.jsxs("button",{onClick:Hg,className:`flex items-center gap-2 px-3 py-2 text-sm font-medium rounded-lg border transition-colors ${S?"bg-blue-50 text-blue-700 border-blue-200":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:[s.jsx(hd,{className:"h-4 w-4"}),"Bulk Operations"]}),s.jsxs("button",{onClick:()=>c(!l),className:`flex items-center gap-2 px-3 py-2 text-sm font-medium rounded-lg border transition-colors ${l||Bs>0?"bg-blue-50 text-blue-700 border-blue-200":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:[s.jsx(md,{className:"h-4 w-4"}),"Filters",Bs>0&&s.jsx("span",{className:"bg-blue-100 text-blue-800 text-xs px-1.5 py-0.5 rounded-full",children:Bs})]}),s.jsxs("div",{className:"flex border border-gray-300 rounded-lg",children:[s.jsx("button",{onClick:()=>n("grid"),className:`p-2 ${t==="grid"?"bg-blue-50 text-blue-700":"text-gray-600 hover:text-gray-900"}`,title:"Grid view",children:s.jsx(Bp,{className:"h-4 w-4"})}),s.jsx("button",{onClick:()=>n("list"),className:`p-2 border-l border-gray-300 ${t==="list"?"bg-blue-50 text-blue-700":"text-gray-600 hover:text-gray-900"}`,title:"List view",children:s.jsx(zp,{className:"h-4 w-4"})})]})]})]}),l&&s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:s.jsx(Lg,{filters:r,onFiltersChange:tt,onClearFilters:sr,activeFilterCount:Bs,summary:U})}),f&&s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[u.size," addon",u.size!==1?"s":""," selected"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:Fg,className:"text-sm text-blue-600 hover:text-blue-800",children:"Select visible"}),s.jsx("span",{className:"text-gray-300",children:"|"}),s.jsx("button",{onClick:Og,className:"text-sm text-gray-600 hover:text-gray-800",children:"Clear selection"})]})]}),s.jsx("button",{onClick:Nd,disabled:u.size===0||R.isPending,className:`flex items-center gap-2 px-4 py-2 text-sm font-medium rounded-lg transition-colors ${u.size===0||R.isPending?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:R.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"Starting..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Me,{className:"h-4 w-4"}),"Download Selected (",u.size,")"]})})]})})]}),s.jsxs("div",{className:"flex-1 overflow-hidden",children:[J?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"text-gray-600 mt-4",children:"Loading addons..."})]})}):I?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-red-600 mb-2",children:"Failed to load addons"}),s.jsx("p",{className:"text-gray-600 text-sm",children:"Please try refreshing the page"})]})}):B.length===0?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-gray-600 mb-2",children:"No addons found"}),s.jsx("p",{className:"text-gray-500 text-sm",children:"Try adjusting your search or filters"}),Bs>0&&s.jsx("button",{onClick:sr,className:"mt-3 text-blue-600 hover:text-blue-800 text-sm",children:"Clear all filters"})]})}):v?t==="grid"?s.jsx(Ag,{addons:B,selectMode:f,selectedAddons:u,onAddonSelect:Us,containerHeight:w,hasMoreData:A,loadMore:V,isLoadingMore:te}):s.jsx(Dg,{addons:B,selectMode:f,selectedAddons:u,onAddonSelect:Us,containerHeight:w,hasMoreData:A,loadMore:V,isLoadingMore:te}):s.jsxs("div",{className:"p-6 overflow-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("p",{className:"text-sm text-gray-600",children:["Showing ",(g-1)*y+1,"-",Math.min(g*y,(U==null?void 0:U.totalAddons)||0)," of ",((Pd=U==null?void 0:U.totalAddons)==null?void 0:Pd.toLocaleString())||0," results"]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-gray-600",children:"Show:"}),s.jsxs("select",{value:y,onChange:O=>Yt(Number(O.target.value)),className:"border border-gray-300 rounded px-2 py-1 text-sm",children:[s.jsx("option",{value:12,children:"12"}),s.jsx("option",{value:24,children:"24"}),s.jsx("option",{value:48,children:"48"}),s.jsx("option",{value:96,children:"96"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm text-gray-600",children:"Sort by:"}),s.jsxs("select",{value:`${o.field}-${o.direction}`,onChange:O=>{const[ge,ht]=O.target.value.split("-");a({field:ge,direction:ht}),p(1)},className:"border border-gray-300 rounded px-2 py-1 text-sm",children:[s.jsx("option",{value:"dateAdded-desc",children:"Newest first"}),s.jsx("option",{value:"dateAdded-asc",children:"Oldest first"}),s.jsx("option",{value:"name-asc",children:"Name A-Z"}),s.jsx("option",{value:"name-desc",children:"Name Z-A"})]})]})]})]}),t==="grid"?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:B.map(O=>s.jsx(ro,{addon:O,selectMode:f,isSelected:u.has(O.id),onSelect:ge=>Us(O.id,ge)},O.id))}):s.jsx("div",{className:"space-y-4",children:B.map(O=>s.jsx(jd,{addon:O,selectMode:f,isSelected:u.has(O.id),onSelect:ge=>Us(O.id,ge)},O.id))}),de>1&&s.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-gray-200",children:[s.jsx("button",{onClick:()=>rr(g-1),disabled:g===1,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:Math.min(de,7)},(O,ge)=>{let ht;return de<=7||g<=4?ht=ge+1:g>=de-3?ht=de-6+ge:ht=g-3+ge,s.jsx("button",{onClick:()=>rr(ht),className:`px-3 py-2 text-sm font-medium rounded-lg ${g===ht?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"}`,children:ht},ht)})}),s.jsx("button",{onClick:()=>rr(g+1),disabled:g===de,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]}),v&&te&&s.jsxs("div",{className:"flex items-center justify-center py-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),s.jsx("span",{className:"ml-2 text-gray-600",children:"Loading more addons..."})]})]}),S&&s.jsx(B5,{addons:B,selectedAddons:u,onAddonSelect:Us,onSelectionChange:Bg,onStartBulkDownload:Nd,isDownloading:R.isPending}),s.jsx(U5,{selectedAddons:B.filter(O=>u.has(O.id)),onClose:()=>E(!1),onStartDownload:zg,isVisible:k})]})},W5=({onSearch:e,currentQuery:t,placeholder:n="Search addons with AI-powered semantic search..."})=>{const[r,i]=d.useState(t),[o,a]=d.useState(!1),[l,c]=d.useState(!1),[u,h]=d.useState([]),[f,m]=d.useState([]),v=Sd(r,300);d.useEffect(()=>{const S=localStorage.getItem("addon-search-history");S&&m(JSON.parse(S))},[]),d.useEffect(()=>{v.length>0?b(v):h(x())},[v,f]);const b=d.useCallback(S=>{const C=[],k=f.filter(R=>R.toLowerCase().includes(S.toLowerCase())).slice(0,3).map(R=>({query:R,type:"recent"}));C.push(...k);const _=["airport scenery","aircraft liveries","landscape enhancement","weather effects","sound packs","navigation tools"].filter(R=>R.toLowerCase().includes(S.toLowerCase())).slice(0,2).map(R=>({query:R,type:"popular",count:Math.floor(Math.random()*500)+100}));if(C.push(..._),o){const R=w(S);C.push(...R)}h(C.slice(0,6))},[f,o]),w=S=>{const C={airport:["runway layouts","terminal buildings","ground textures","lighting systems"],aircraft:["cockpit details","engine sounds","flight dynamics","exterior modeling"],scenery:["photorealistic landscapes","city skylines","natural landmarks","seasonal variations"],weather:["cloud formations","precipitation effects","atmospheric lighting","wind patterns"],night:["airport lighting","city illumination","navigation beacons","approach systems"],realistic:["high-resolution textures","accurate modeling","authentic details","true-to-life"]},k=[];for(const[E,_]of Object.entries(C))S.toLowerCase().includes(E)&&_.slice(0,2).forEach(R=>{k.push({query:R,type:"semantic"})});return k},x=()=>{const S=[];f.slice(0,3).forEach(k=>{S.push({query:k,type:"recent"})});const C=[{query:"MSFS 2024 airports",count:1250},{query:"realistic scenery",count:890},{query:"aircraft liveries",count:720}];return S.push(...C.map(k=>({...k,type:"popular"}))),S},g=d.useCallback((S,C=o)=>{if(S.trim()){const k=[S,...f.filter(E=>E!==S)].slice(0,10);m(k),localStorage.setItem("addon-search-history",JSON.stringify(k)),e(S,C),c(!1)}},[e,o,f]),p=S=>{i(S),c(S.length>0||u.length>0)},y=()=>{m([]),localStorage.removeItem("addon-search-history"),h(x())},j=S=>{switch(S){case"recent":return s.jsx(Xt,{className:"h-4 w-4 text-gray-400"});case"popular":return s.jsx(mt,{className:"h-4 w-4 text-yellow-500"});case"semantic":return s.jsx(mt,{className:"h-4 w-4 text-purple-500"});default:return s.jsx(gn,{className:"h-4 w-4 text-gray-400"})}};return s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx(gn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),s.jsx("input",{type:"text",value:r,onChange:S=>p(S.target.value),onFocus:()=>c(!0),onKeyDown:S=>{S.key==="Enter"?g(r):S.key==="Escape"&&c(!1)},placeholder:n,className:`w-full pl-10 pr-12 py-3 border rounded-lg focus:ring-2 focus:border-transparent transition-all ${o?"border-purple-300 focus:ring-purple-500 bg-purple-50":"border-gray-300 focus:ring-blue-500"}`}),r&&s.jsx("button",{onClick:()=>{i(""),c(!1),e("")},className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:s.jsx(Br,{className:"h-5 w-5"})})]}),s.jsx("button",{onClick:()=>a(!o),className:`ml-3 px-4 py-3 rounded-lg border transition-all ${o?"bg-purple-600 text-white border-purple-600 hover:bg-purple-700":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:o?"Disable AI Search":"Enable AI Search",children:s.jsx(mt,{className:"h-5 w-5"})})]}),o&&s.jsxs("div",{className:"mt-2 text-sm text-purple-600 flex items-center gap-1",children:[s.jsx(mt,{className:"h-4 w-4"}),"AI-powered semantic search enabled"]})]}),l&&s.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50 max-h-80 overflow-y-auto",children:u.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"p-3 border-b border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Search Suggestions"}),f.length>0&&s.jsx("button",{onClick:y,className:"text-xs text-gray-400 hover:text-gray-600",children:"Clear history"})]})}),s.jsx("div",{className:"py-1",children:u.map((S,C)=>s.jsxs("button",{onClick:()=>g(S.query),className:"w-full px-4 py-2 text-left hover:bg-gray-50 flex items-center gap-3 group",children:[j(S.type),s.jsx("span",{className:"flex-1 text-sm text-gray-900",children:S.query}),S.count&&s.jsxs("span",{className:"text-xs text-gray-400",children:[S.count," results"]}),S.type==="semantic"&&s.jsx("span",{className:"text-xs text-purple-500 bg-purple-100 px-2 py-1 rounded",children:"AI"})]},C))})]}):s.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:"No suggestions available"})})]})},V5=({onSearchSelect:e})=>{const[t,n]=d.useState(null),[r,i]=d.useState("popular"),[o,a]=d.useState(!0);d.useEffect(()=>{l()},[]);const l=async()=>{a(!0),setTimeout(()=>{n({popularSearches:[{query:"MSFS 2024 airports",count:1250,change:15.2,category:"Airports"},{query:"realistic scenery",count:980,change:-3.1,category:"Scenery"},{query:"aircraft liveries",count:875,change:8.7,category:"Aircraft"},{query:"weather effects",count:720,change:22.4,category:"Weather"},{query:"sound packs",count:650,change:5.3,category:"Sounds"},{query:"navigation tools",count:580,change:-1.8,category:"Navigation"},{query:"airport lighting",count:420,change:35.6,category:"Airports"},{query:"photorealistic",count:380,change:12.1,category:"Scenery"}],trendingSearches:[{query:"MSFS 2024 compatibility",count:320,change:145.2,category:"General"},{query:"ray tracing effects",count:180,change:89.4,category:"Graphics"},{query:"AI traffic",count:150,change:67.8,category:"Traffic"},{query:"cockpit enhancements",count:140,change:55.3,category:"Aircraft"},{query:"ground textures",count:120,change:48.9,category:"Scenery"}],recentSearches:[{query:"KiwiFlightSim airports",timestamp:"2025-07-08T17:20:00Z",resultCount:25},{query:"Sierrasim scenery",timestamp:"2025-07-08T17:15:00Z",resultCount:18},{query:"FlyTampa MSFS 2024",timestamp:"2025-07-08T17:10:00Z",resultCount:42},{query:"realistic water effects",timestamp:"2025-07-08T17:05:00Z",resultCount:8},{query:"Orbx landscapes",timestamp:"2025-07-08T17:00:00Z",resultCount:67}],searchVolume:[{date:"2025-07-01",searches:1420},{date:"2025-07-02",searches:1650},{date:"2025-07-03",searches:1890},{date:"2025-07-04",searches:2100},{date:"2025-07-05",searches:1780},{date:"2025-07-06",searches:2350},{date:"2025-07-07",searches:2420},{date:"2025-07-08",searches:1680}],topCategories:[{category:"Airports",searches:3200,percentage:28.5},{category:"Scenery",searches:2800,percentage:24.9},{category:"Aircraft",searches:2100,percentage:18.7},{category:"Weather",searches:1400,percentage:12.4},{category:"Sounds",searches:900,percentage:8},{category:"Navigation",searches:600,percentage:5.3},{category:"Utilities",searches:250,percentage:2.2}]}),a(!1)},800)},c=m=>{const v=new Date(m),w=Math.floor((new Date().getTime()-v.getTime())/(1e3*60));if(w<1)return"Just now";if(w<60)return`${w}m ago`;const x=Math.floor(w/60);return x<24?`${x}h ago`:`${Math.floor(x/24)}d ago`},u=m=>m>20?s.jsx(Rw,{className:"h-4 w-4 text-red-500"}):m>0?s.jsx(Ll,{className:"h-4 w-4 text-green-500"}):s.jsx(Ll,{className:"h-4 w-4 text-gray-400 transform rotate-180"}),h=m=>m>0?"text-green-600":"text-red-600";if(o||!t)return s.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),s.jsx("div",{className:"space-y-3",children:[...Array(5)].map((m,v)=>s.jsx("div",{className:"h-4 bg-gray-200 rounded"},v))})]})});const f=(m,v=!0)=>s.jsx("div",{className:"space-y-3",children:m.map((b,w)=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>e==null?void 0:e(b.query),children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-400 w-6",children:["#",w+1]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:b.query}),s.jsxs("div",{className:"text-xs text-gray-500",children:[b.count.toLocaleString()," searches  ",b.category]})]})]}),v&&s.jsxs("div",{className:"flex items-center gap-2",children:[u(b.change),s.jsxs("span",{className:`text-sm font-medium ${h(b.change)}`,children:[b.change>0?"+":"",b.change.toFixed(1),"%"]})]})]},b.query))});return s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Dr,{className:"h-5 w-5 text-blue-500"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Search Analytics"})]}),s.jsx("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[{key:"popular",label:"Popular",icon:gn},{key:"trending",label:"Trending",icon:Ll},{key:"recent",label:"Recent",icon:Xt}].map(m=>s.jsxs("button",{onClick:()=>i(m.key),className:`flex items-center gap-2 px-3 py-2 text-sm rounded-md transition-colors ${r===m.key?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(m.icon,{className:"h-4 w-4"}),m.label]},m.key))})]}),r==="popular"&&s.jsxs("div",{children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Most Popular Searches"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Top search queries by volume over the last 30 days"})]}),f(t.popularSearches)]}),r==="trending"&&s.jsxs("div",{children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Trending Searches"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Fastest growing search queries this week"})]}),f(t.trendingSearches)]}),r==="recent"&&s.jsxs("div",{children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Recent Activity"}),s.jsx("p",{className:"text-xs text-gray-500",children:"Latest searches from the community"})]}),s.jsx("div",{className:"space-y-3",children:t.recentSearches.map((m,v)=>s.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>e==null?void 0:e(m.query),children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Es,{className:"h-4 w-4 text-gray-400"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-gray-900",children:m.query}),s.jsxs("div",{className:"text-xs text-gray-500",children:[m.resultCount," results found"]})]})]}),s.jsx("span",{className:"text-xs text-gray-400",children:c(m.timestamp)})]},v))})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Search by Category"}),s.jsx("div",{className:"grid grid-cols-2 gap-3",children:t.topCategories.slice(0,6).map(m=>s.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer transition-colors",onClick:()=>e==null?void 0:e(m.category.toLowerCase()),children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm font-medium text-gray-900",children:m.category}),s.jsxs("span",{className:"text-xs text-gray-500",children:[m.percentage,"%"]})]}),s.jsx("div",{className:"mt-1 bg-gray-200 rounded-full h-1",children:s.jsx("div",{className:"bg-blue-500 h-1 rounded-full",style:{width:`${m.percentage}%`}})}),s.jsxs("div",{className:"mt-1 text-xs text-gray-500",children:[m.searches.toLocaleString()," searches"]})]},m.category))})]})]})};function q5({title:e,titleId:t,...n},r){return d.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?d.createElement("title",{id:t},e):null,d.createElement("path",{d:"m11.645 20.91-.007-.003-.022-.012a15.247 15.247 0 0 1-.383-.218 25.18 25.18 0 0 1-4.244-3.17C4.688 15.36 2.25 12.174 2.25 8.25 2.25 5.322 4.714 3 7.688 3A5.5 5.5 0 0 1 12 5.052 5.5 5.5 0 0 1 16.313 3c2.973 0 5.437 2.322 5.437 5.25 0 3.925-2.438 7.111-4.739 9.256a25.175 25.175 0 0 1-4.244 3.17 15.247 15.247 0 0 1-.383.219l-.022.012-.007.004-.003.001a.752.752 0 0 1-.704 0l-.003-.001Z"}))}const Q5=d.forwardRef(q5),K5=({currentAddon:e,onAddonSelect:t,maxResults:n=6})=>{const[r,i]=d.useState([]),[o,a]=d.useState(!0),[l,c]=d.useState("all"),[u,h]=d.useState(new Set);d.useEffect(()=>{const k=localStorage.getItem("addon-favorites");k&&h(new Set(JSON.parse(k)))},[]),d.useEffect(()=>{e&&f(e)},[e]);const f=async k=>{a(!0);try{const E=await m(k);i(E)}catch(E){console.error("Error finding related addons:",E),i([])}finally{a(!1)}},m=async k=>{await new Promise(z=>setTimeout(z,800));const E=[];if(k.author){const z=v(k.author,k.id);E.push(...z.map(L=>({addon:L,relationship:{type:"author",score:.9,reason:`Same author: ${k.author}`}})))}if(k.categories&&k.categories.length>0){const z=b(k.categories[0],k.id);E.push(...z.map(L=>({addon:L,relationship:{type:"category",score:.7,reason:`Similar category: ${k.categories[0]}`}})))}const _=w(k.compatibility,k.id);E.push(..._.map(z=>({addon:z,relationship:{type:"compatibility",score:.6,reason:`Compatible with: ${k.compatibility}`}})));const R=x(k);E.push(...R.map(z=>({addon:z,relationship:{type:"semantic",score:.8,reason:"AI-detected similarity"}})));const Q=g(k.id);return E.push(...Q.map(z=>({addon:z,relationship:{type:"collaborative",score:.75,reason:"Users also downloaded"}}))),E.sort((z,L)=>L.relationship.score-z.relationship.score).slice(0,n*2)},v=(k,E)=>[{id:"mock-author-1",fileName:`${k.toLowerCase().replace(/\s/g,"-")}-addon-2.rar`,name:`${k}  Enhanced Airport Pack v2.0`,compatibility:"MSFS 2020/2024",dateAdded:"2025-06-15T00:00:00Z",lastUpdated:"2025-06-15T00:00:00Z",daysSinceAdded:23,isRecent:!1,author:k,categories:["Airports"],fileSize:450*1024*1024,description:`Another quality release from ${k} featuring enhanced airport details.`,version:"2.0",downloadUrl:null,thumbnailUrl:null,downloadCount:1250,rating:4.7}].filter(_=>_.id!==E),b=(k,E)=>[{id:"mock-category-1",fileName:`premium-${k.toLowerCase()}-pack.rar`,name:`Premium ${k} Collection  High Quality Pack`,compatibility:"MSFS 2024",dateAdded:"2025-06-20T00:00:00Z",lastUpdated:"2025-06-20T00:00:00Z",daysSinceAdded:18,isRecent:!1,author:"QualityDesigns Studio",categories:[k],fileSize:335544320,description:`Professional ${k.toLowerCase()} enhancement pack with high-quality assets.`,version:"1.5",downloadUrl:void 0,thumbnailUrl:void 0,downloadCount:890,rating:4.5}].filter(R=>R.id!==E),w=(k,E)=>[{id:"mock-compat-1",fileName:`${k.toLowerCase().replace(/\s/g,"-")}-optimized.rar`,name:`Optimized Graphics Pack for ${k}`,compatibility:k,dateAdded:"2025-06-25T00:00:00Z",lastUpdated:"2025-06-25T00:00:00Z",daysSinceAdded:13,isRecent:!0,author:"PerformanceMods",categories:["Utilities"],fileSize:150*1024*1024,description:`Performance-optimized graphics enhancement specifically for ${k}.`,version:"3.1",downloadUrl:void 0,thumbnailUrl:void 0,downloadCount:2100,rating:4.8}].filter(_=>_.id!==E),x=k=>[{id:"mock-semantic-1",fileName:"ai-recommended-addon.rar",name:`AI Recommended  ${p(k.name).join(" ")} Enhancement`,compatibility:k.compatibility,dateAdded:"2025-06-10T00:00:00Z",lastUpdated:"2025-06-10T00:00:00Z",daysSinceAdded:28,isRecent:!1,author:"AI Studios",categories:k.categories||["Scenery"],fileSize:275*1024*1024,description:"AI-detected similarity based on content analysis and user behavior patterns.",version:"1.8",downloadUrl:void 0,thumbnailUrl:void 0,downloadCount:650,rating:4.4}],g=k=>[{id:"mock-collab-1",fileName:"popular-companion-addon.rar",name:"Popular Companion Pack  Frequently Downloaded Together",compatibility:"MSFS 2020/2024",dateAdded:"2025-05-30T00:00:00Z",lastUpdated:"2025-05-30T00:00:00Z",daysSinceAdded:39,isRecent:!1,author:"Community Picks",categories:["Scenery","Utilities"],fileSize:180*1024*1024,description:"Frequently downloaded together with similar addons. Community favorite.",version:"2.3",downloadUrl:void 0,thumbnailUrl:void 0,downloadCount:1800,rating:4.6}],p=k=>k.toLowerCase().split(/[\s\-]+/).filter(_=>_.length>3).filter(_=>!["addon","pack","collection","enhanced","premium"].includes(_)).slice(0,3),y=()=>{let k=r;switch(l){case"author":k=r.filter(E=>E.relationship.type==="author");break;case"category":k=r.filter(E=>E.relationship.type==="category");break;case"ai":k=r.filter(E=>E.relationship.type==="semantic"||E.relationship.type==="collaborative");break}return k.slice(0,n)},j=k=>{const E=new Set(u);E.has(k)?E.delete(k):E.add(k),h(E),localStorage.setItem("addon-favorites",JSON.stringify([...E]))},S=k=>{switch(k){case"author":return"bg-blue-100 text-blue-800";case"category":return"bg-green-100 text-green-800";case"compatibility":return"bg-yellow-100 text-yellow-800";case"semantic":return"bg-purple-100 text-purple-800";case"collaborative":return"bg-pink-100 text-pink-800";default:return"bg-gray-100 text-gray-800"}};if(o)return s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx(mt,{className:"h-5 w-5 text-blue-500"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Finding Related Addons"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((k,E)=>s.jsx("div",{className:"bg-gray-100 rounded-lg h-48 animate-pulse"},E))})]});const C=y();return s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(mt,{className:"h-5 w-5 text-blue-500"}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Related Addons"})]}),s.jsx("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[{key:"all",label:"All"},{key:"author",label:"Same Author"},{key:"category",label:"Category"},{key:"ai",label:"AI Picks"}].map(k=>s.jsx("button",{onClick:()=>c(k.key),className:`px-3 py-1 text-sm rounded-md transition-colors ${l===k.key?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:k.label},k.key))})]}),C.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:C.map(({addon:k,relationship:E})=>s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"absolute top-2 left-2 z-10",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 text-xs font-medium rounded-full ${S(E.type)}`,children:E.type==="semantic"?"AI":E.type})}),s.jsx("button",{onClick:()=>j(k.id),className:"absolute top-2 right-2 z-10 p-1 rounded-full bg-white shadow-sm hover:shadow-md transition-shadow",children:u.has(k.id)?s.jsx(Q5,{className:"h-4 w-4 text-red-500"}):s.jsx(su,{className:"h-4 w-4 text-gray-400"})}),s.jsx("div",{className:"transform transition-transform hover:scale-105",children:s.jsx(ro,{addon:k,selectMode:!1})}),s.jsx("div",{className:"mt-2 text-xs text-gray-500 text-center",children:E.reason})]},k.id))}):s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(mt,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),s.jsx("p",{children:"No related addons found"})]}),C.length>0&&s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("button",{className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 transition-colors",children:["View more related addons",s.jsx(J2,{className:"h-4 w-4"})]})})]})},G5=()=>{var te;const[e,t]=d.useState(""),[n,r]=d.useState(!1),[i,o]=d.useState(!1),[a,l]=d.useState(!1),[c,u]=d.useState(null),[h,f]=d.useState("search"),[m,v]=d.useState([]),[b,w]=d.useState({compatibility:[],categories:[],authors:[],dateRange:{from:"",to:""},fileSize:{min:0,max:0}}),{data:x,fetchNextPage:g,hasNextPage:p,isFetchingNextPage:y,isLoading:j,error:S,refetch:C}=Mg({search:e,compatibility:b.compatibility[0],pageSize:20});d.useEffect(()=>{const A=localStorage.getItem("saved-searches");A&&v(JSON.parse(A))},[]);const k=d.useCallback((A,V=!1)=>{t(A),r(V),f("search"),C()},[C]),E=d.useCallback(A=>{u(A),f("related")},[]),_=d.useCallback(A=>{if(A.trim()&&!m.includes(A)){const V=[A,...m].slice(0,10);v(V),localStorage.setItem("saved-searches",JSON.stringify(V))}},[m]),R=d.useCallback(A=>{const V=m.filter(be=>be!==A);v(V),localStorage.setItem("saved-searches",JSON.stringify(V))},[m]),Q=d.useCallback(A=>{w(A),C()},[C]),z=(x==null?void 0:x.pages.flatMap(A=>A.addons))||[],L=((te=x==null?void 0:x.pages[0])==null?void 0:te.pagination.totalItems)||0;return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center gap-2",children:[s.jsx(mt,{className:"h-7 w-7 text-blue-500"}),"Advanced Search & Discovery"]}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"AI-powered search with analytics and recommendations"})]}),s.jsx("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[{key:"search",label:"Search",icon:gn},{key:"analytics",label:"Analytics",icon:Dr},{key:"related",label:"Related",icon:mt}].map(A=>s.jsxs("button",{onClick:()=>f(A.key),className:`flex items-center gap-2 px-4 py-2 text-sm rounded-md transition-colors ${h===A.key?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:[s.jsx(A.icon,{className:"h-4 w-4"}),A.label]},A.key))})]}),s.jsx("div",{className:"mt-6",children:s.jsx(W5,{onSearch:k,currentQuery:e,placeholder:"Search with AI-powered semantic understanding..."})}),s.jsxs("div",{className:"mt-4 flex items-center gap-3",children:[s.jsxs("button",{onClick:()=>l(!a),className:`flex items-center gap-2 px-3 py-2 text-sm rounded-lg border transition-colors ${a?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"}`,children:[s.jsx(hd,{className:"h-4 w-4"}),"Filters"]}),e&&s.jsxs("button",{onClick:()=>_(e),disabled:m.includes(e),className:"flex items-center gap-2 px-3 py-2 text-sm rounded-lg bg-white border border-gray-300 text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(iw,{className:"h-4 w-4"}),m.includes(e)?"Saved":"Save Search"]}),n&&s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-purple-50 border border-purple-200 rounded-lg",children:[s.jsx(mt,{className:"h-4 w-4 text-purple-600"}),s.jsx("span",{className:"text-sm text-purple-700",children:"AI Search Active"})]})]})]})}),s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[m.length>0&&s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Saved Searches"}),s.jsx("div",{className:"space-y-2",children:m.map(A=>s.jsxs("div",{className:"flex items-center justify-between group",children:[s.jsx("button",{onClick:()=>k(A),className:"flex-1 text-left text-sm text-gray-600 hover:text-blue-600 transition-colors",children:A}),s.jsx("button",{onClick:()=>R(A),className:"opacity-0 group-hover:opacity-100 p-1 text-gray-400 hover:text-red-500 transition-all",children:s.jsx(Br,{className:"h-3 w-3"})})]},A))})]}),a&&s.jsx(Lg,{filters:{searchTerm:e,compatibility:b.compatibility,categories:b.categories,authors:b.authors,dateRange:{start:b.dateRange.from,end:b.dateRange.to},fileSizeRange:{min:0,max:1e3}},onFiltersChange:Q,onClearFilters:()=>w({compatibility:[],categories:[],authors:[],dateRange:{from:"",to:""},fileSize:{min:0,max:0}}),activeFilterCount:b.compatibility.length+b.categories.length+b.authors.length+(b.dateRange.from||b.dateRange.to?1:0)}),s.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"Search Results"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Total Results:"}),s.jsx("span",{className:"font-medium",children:L.toLocaleString()})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Loaded:"}),s.jsx("span",{className:"font-medium",children:z.length})]}),n&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"AI Enhanced:"}),s.jsx("span",{className:"font-medium text-purple-600",children:"Yes"})]})]})]})]}),s.jsxs("div",{className:"lg:col-span-3",children:[h==="search"&&s.jsxs("div",{children:[e&&s.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[s.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:['Search Results for "',e,'"']}),n&&s.jsxs("div",{className:"flex items-center gap-2 text-sm text-purple-600",children:[s.jsx(mt,{className:"h-4 w-4"}),"Enhanced with AI"]})]}),j?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[...Array(6)].map((A,V)=>s.jsx("div",{className:"bg-gray-100 rounded-lg h-64 animate-pulse"},V))}):S?s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-500",children:"Error loading addons. Please try again."})}):z.length>0?s.jsxs("div",{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:z.map(A=>s.jsx("div",{onClick:()=>E(A),className:"cursor-pointer",children:s.jsx(ro,{addon:A})},A.id))}),p&&s.jsx("div",{className:"mt-8 text-center",children:s.jsx("button",{onClick:()=>g(),disabled:y,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Loading...":"Load More"})})]}):e?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(gn,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No results found"}),s.jsx("p",{className:"text-gray-500",children:"Try adjusting your search terms or filters"})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(mt,{className:"h-12 w-12 text-blue-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Start Searching"}),s.jsx("p",{className:"text-gray-500",children:"Use the search bar above to find addons with AI-powered discovery"})]})]}),h==="analytics"&&s.jsx(V5,{onSearchSelect:k}),h==="related"&&c&&s.jsx(K5,{currentAddon:c,onAddonSelect:E}),h==="related"&&!c&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(mt,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select an Addon"}),s.jsx("p",{className:"text-gray-500",children:"Choose an addon from the search results to see related recommendations"})]})]})]})})]})},Z5=()=>s.jsx("div",{className:"p-6",children:s.jsx(Yp,{})});var le=(e=>(e.Queued="Queued",e.Downloading="Downloading",e.Completed="Completed",e.Failed="Failed",e.Cancelled="Cancelled",e.Skipped="Skipped",e))(le||{}),Qe=(e=>(e.Active="Active",e.Completed="Completed",e.CompletedWithErrors="CompletedWithErrors",e.Cancelled="Cancelled",e))(Qe||{});const J5=({item:e,onPause:t,onCancel:n,onResume:r,showControls:i=!0})=>{const o=y=>{if(y===0)return"0 Bytes";const j=1024,S=["Bytes","KB","MB","GB"],C=Math.floor(Math.log(y)/Math.log(j));return parseFloat((y/Math.pow(j,C)).toFixed(2))+" "+S[C]},a=y=>`${o(y)}/s`,l=y=>{if(y<=0)return"";if(y<60)return`${Math.round(y)}s`;if(y<3600)return`${Math.round(y/60)}m`;{const j=Math.floor(y/3600),S=Math.round(y%3600/60);return`${j}h ${S}m`}},c=()=>{switch(e.status){case le.Completed:return s.jsx(Ps,{className:"w-5 h-5 text-green-500"});case le.Failed:return s.jsx(so,{className:"w-5 h-5 text-red-500"});case le.Cancelled:return s.jsx(Bi,{className:"w-5 h-5 text-gray-500"});case le.Downloading:return s.jsx(Gn,{className:"w-5 h-5 text-blue-500 animate-bounce"});case le.Queued:return s.jsx(Ts,{className:"w-5 h-5 text-yellow-500"});case le.Skipped:return s.jsx(Ps,{className:"w-5 h-5 text-gray-400"});default:return s.jsx(Ts,{className:"w-5 h-5 text-gray-400"})}},u=()=>{switch(e.status){case le.Completed:return"bg-green-100 text-green-800";case le.Failed:return"bg-red-100 text-red-800";case le.Cancelled:return"bg-gray-100 text-gray-800";case le.Downloading:return"bg-blue-100 text-blue-800";case le.Queued:return"bg-yellow-100 text-yellow-800";case le.Skipped:return"bg-gray-100 text-gray-600";default:return"bg-gray-100 text-gray-600"}},h=()=>{switch(e.status){case le.Completed:return"bg-green-500";case le.Failed:return"bg-red-500";case le.Cancelled:return"bg-gray-400";case le.Downloading:return"bg-blue-500";default:return"bg-gray-300"}},f=e.status===le.Downloading,m=e.status===le.Queued,v=e.status===le.Completed||e.status===le.Skipped,b=e.status===le.Failed,w=e.status===le.Cancelled,x=f&&i,g=(!f||m||b)&&i,p=!w&&!v&&i;return s.jsxs("div",{className:`border rounded-lg p-4 shadow-sm transition-all duration-300 ${f?"bg-white border-blue-300 shadow-md hover:shadow-lg ring-1 ring-blue-100":e.status===le.Completed?"bg-green-50 border-green-200 hover:shadow-md":e.status===le.Failed?"bg-red-50 border-red-200 hover:shadow-md":"bg-gray-50 border-gray-200 hover:shadow-md opacity-90"}`,children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-start space-x-3 flex-1 min-w-0",children:[c(),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",title:e.name,children:e.name}),s.jsx("p",{className:"text-xs text-gray-500 truncate",title:e.fileName,children:e.fileName}),s.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[s.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${u()}`,children:e.status}),s.jsx("span",{className:"text-xs text-gray-500",children:e.compatibility})]})]})]}),i&&s.jsxs("div",{className:"flex items-center space-x-1 ml-2",children:[g&&r&&s.jsx("button",{onClick:()=>r(e.id),className:"p-1 text-green-600 hover:text-green-800 hover:bg-green-50 rounded",title:"Resume Download",children:s.jsx(As,{className:"w-4 h-4"})}),x&&t&&s.jsx("button",{onClick:()=>t(e.id),className:"p-1 text-yellow-600 hover:text-yellow-800 hover:bg-yellow-50 rounded",title:"Pause Download",children:s.jsx(Pg,{className:"w-4 h-4"})}),p&&n&&s.jsx("button",{onClick:()=>n(e.id),className:"p-1 text-red-600 hover:text-red-800 hover:bg-red-50 rounded",title:"Cancel Download",children:s.jsx(Bi,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${h()} ${f?"animate-pulse":""}`,style:{width:`${Math.max(0,Math.min(100,e.progress))}%`}})}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("span",{className:"font-medium",children:[e.progress.toFixed(1),"%"]}),s.jsxs("span",{children:[o(e.downloadedBytes)," / ",o(e.totalBytes)]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[e.speedBytesPerSecond>0&&s.jsx("span",{className:`font-medium px-2 py-1 rounded ${f?"text-blue-600 bg-blue-100 animate-pulse":"text-blue-600 bg-blue-50"}`,children:a(e.speedBytesPerSecond)}),l(e.estimatedTimeRemainingSeconds)&&s.jsxs("span",{className:"text-green-600 font-medium bg-green-50 px-2 py-1 rounded text-xs",children:["ETA: ",l(e.estimatedTimeRemainingSeconds)]}),e.status===le.Failed&&e.errorMessage&&s.jsxs("span",{className:"text-red-600 text-xs truncate max-w-xs",title:e.errorMessage,children:["Error: ",e.errorMessage]})]})]}),(e.startedAt||e.completedAt)&&s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.startedAt&&s.jsxs("span",{children:["Started: ",new Date(e.startedAt).toLocaleTimeString()]}),e.completedAt&&s.jsxs("span",{children:["Completed: ",new Date(e.completedAt).toLocaleTimeString()]})]})]})]})},X5=({session:e,onPauseSession:t,onCancelSession:n,onResumeSession:r,onPauseItem:i,onResumeItem:o,onCancelItem:a,showControls:l=!0})=>{const[c,u]=d.useState(!0),h=C=>{if(C===0)return"0 Bytes";const k=1024,E=["Bytes","KB","MB","GB"],_=Math.floor(Math.log(C)/Math.log(k));return parseFloat((C/Math.pow(k,_)).toFixed(2))+" "+E[_]},f=C=>`${h(C)}/s`,m=C=>{if(C<=0)return"";if(C<60)return`${Math.round(C)}s`;if(C<3600)return`${Math.round(C/60)}m`;{const k=Math.floor(C/3600),E=Math.round(C%3600/60);return`${k}h ${E}m`}},v=()=>{switch(e.status){case Qe.Active:return s.jsx(As,{className:"w-5 h-5 text-blue-500"});case Qe.Completed:return s.jsx(Ps,{className:"w-5 h-5 text-green-500"});case Qe.CompletedWithErrors:return s.jsx(so,{className:"w-5 h-5 text-yellow-500"});case Qe.Cancelled:return s.jsx(Bi,{className:"w-5 h-5 text-gray-500"});default:return s.jsx(Ts,{className:"w-5 h-5 text-gray-400"})}},b=()=>{switch(e.status){case Qe.Active:return"bg-blue-100 text-blue-800";case Qe.Completed:return"bg-green-100 text-green-800";case Qe.CompletedWithErrors:return"bg-yellow-100 text-yellow-800";case Qe.Cancelled:return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-600"}},w=e.status===Qe.Active;e.status===Qe.Completed||(e.status,Qe.CompletedWithErrors);const x=e.status===Qe.Cancelled,g=w&&l,p=!w&&l,y=!x&&l,j=e.items.reduce((C,k)=>C+k.totalBytes,0),S=e.items.reduce((C,k)=>C+k.downloadedBytes,0);return s.jsxs("div",{className:`bg-white border-2 rounded-lg shadow-sm transition-all duration-300 ${w?"border-blue-600 shadow-lg ring-2 ring-blue-400 ring-opacity-50":"border-gray-400 opacity-80"}`,children:[s.jsxs("div",{className:`p-4 border-b ${w?"border-blue-300 bg-blue-100":"border-gray-300 bg-gray-100"}`,children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[v(),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Session ",e.sessionId.substring(0,8)]}),s.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[s.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${b()}`,children:e.status}),s.jsxs("span",{className:"text-sm text-gray-500",children:[e.completedItems,"/",e.totalItems," completed"]}),e.failedItems>0&&s.jsxs("span",{className:"text-sm text-red-600",children:[e.failedItems," failed"]}),w&&e.totalSpeedBytesPerSecond>0&&s.jsx("span",{className:"text-blue-600 font-semibold bg-blue-50 px-2 py-1 rounded text-sm",children:f(e.totalSpeedBytesPerSecond)})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[l&&s.jsxs("div",{className:"flex items-center space-x-1",children:[p&&r&&s.jsx("button",{onClick:()=>r(e.sessionId),className:"p-2 text-green-600 hover:text-green-800 hover:bg-green-50 rounded-md",title:"Resume Session",children:s.jsx(As,{className:"w-4 h-4"})}),g&&t&&s.jsx("button",{onClick:()=>t(e.sessionId),className:"p-2 text-yellow-600 hover:text-yellow-800 hover:bg-yellow-50 rounded-md",title:"Pause Session",children:s.jsx(Pg,{className:"w-4 h-4"})}),y&&n&&s.jsx("button",{onClick:()=>n(e.sessionId),className:"p-2 text-red-600 hover:text-red-800 hover:bg-red-50 rounded-md",title:"Cancel Session",children:s.jsx(Bi,{className:"w-4 h-4"})})]}),s.jsx("button",{onClick:()=>u(!c),className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-50 rounded-md",title:c?"Collapse":"Expand",children:c?s.jsx(C5,{className:"w-4 h-4"}):s.jsx(k5,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"mt-4 space-y-2",children:[s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:s.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${w?"bg-blue-500 animate-pulse":e.status===Qe.Completed?"bg-green-500":e.status===Qe.CompletedWithErrors?"bg-yellow-500":"bg-gray-400"}`,style:{width:`${Math.max(0,Math.min(100,e.overallProgress))}%`}})}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("span",{className:"font-medium",children:[e.overallProgress.toFixed(1),"%"]}),s.jsxs("span",{children:[h(S)," / ",h(j)]}),w&&e.totalSpeedBytesPerSecond>0&&s.jsx("span",{className:"text-blue-600 font-medium",children:f(e.totalSpeedBytesPerSecond)}),m(e.estimatedTimeRemainingSeconds)&&s.jsxs("span",{className:"text-green-600 font-medium bg-green-50 px-2 py-1 rounded text-sm",children:["ETA: ",m(e.estimatedTimeRemainingSeconds)]})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[s.jsxs("span",{children:["Started: ",new Date(e.startedAt).toLocaleString()]}),e.completedAt&&s.jsxs("span",{children:[" Completed: ",new Date(e.completedAt).toLocaleString()]})]})]})]})]}),c&&s.jsx("div",{className:`p-4 ${w?"bg-blue-50/30":"bg-gray-50/50"}`,children:s.jsx("div",{className:"space-y-3",children:e.items.map(C=>s.jsx(J5,{item:C,showControls:l,onPause:i?k=>i(e.sessionId,k):void 0,onResume:o?k=>o(e.sessionId,k):void 0,onCancel:a?k=>a(e.sessionId,k):void 0},C.id))})})]})};function Y5(){const[e,t]=d.useState([]),[n,r]=d.useState(q.getConnectionState());return d.useEffect(()=>{const i=o=>{const a=n;r(o),a!=="Connected"&&o==="Connected"&&console.log("useDownloadSessions: Reconnected, sessions may need refresh")};return q.on("onConnectionStateChanged",i),()=>{q.off("onConnectionStateChanged")}},[n]),d.useEffect(()=>{console.log("useDownloadSessions: Setting up event handlers");const i=l=>{console.log("useDownloadSessions: Progress update received",l),t(c=>{const u=c.findIndex(h=>h.sessionId===l.sessionId);if(u>=0){const h=[...c];return h[u]=l,h}return[...c,l]})},o=l=>{console.log("useDownloadSessions: Session completed",l),t(c=>c.filter(u=>u.sessionId!==l))},a=(l,c)=>{console.log("useDownloadSessions: Session failed",l,c),t(u=>u.filter(h=>h.sessionId!==l))};return q.on("onProgressUpdate",i),q.on("onSessionCompleted",o),q.on("onSessionFailed",a),()=>{console.log("useDownloadSessions: Cleaning up event handlers"),q.off("onProgressUpdate"),q.off("onSessionCompleted"),q.off("onSessionFailed")}},[]),{activeSessions:e,sessionCount:e.length}}function eN(e={}){const{onStatsUpdate:t}=e,[n,r]=d.useState(null),i=d.useRef(t),[o,a]=d.useState(q.getConnectionState());return d.useEffect(()=>{i.current=t},[t]),d.useEffect(()=>{const l=c=>{const u=o;a(c),u!=="Connected"&&c==="Connected"&&console.log("useGlobalStats: Reconnected, stats will refresh automatically")};return q.on("onConnectionStateChanged",l),()=>{q.off("onConnectionStateChanged")}},[o]),d.useEffect(()=>{console.log("useGlobalStats: Setting up stats handler");const l=c=>{console.log("useGlobalStats: Received stats update",c),r(c),i.current&&i.current(c)};return q.on("onStatsUpdate",l),()=>{console.log("useGlobalStats: Cleaning up stats handler"),q.off("onStatsUpdate")}},[]),{stats:n}}function tN(e={}){const{sessionId:t,onProgressUpdate:n,onSessionCompleted:r,onSessionFailed:i,onItemCompleted:o,onItemFailed:a}=e,[l,c]=d.useState(new Map),[u,h]=d.useState(new Map),[f,m]=d.useState(null),[v,b]=d.useState(null),[w,x]=d.useState(q.isConnected()),[g,p]=d.useState(q.getConnectionState()),y=d.useRef(n),j=d.useRef(r),S=d.useRef(i),C=d.useRef(o),k=d.useRef(a);return d.useEffect(()=>{y.current=n,j.current=r,S.current=i,C.current=o,k.current=a},[n,r,i,o,a]),d.useEffect(()=>{const E=_=>{const R=g;p(_),x(_==="Connected"),R!=="Connected"&&_==="Connected"&&t&&(console.log(`useDownloadProgress: Reconnected, rejoining session group ${t}`),q.joinSessionGroup(t).catch(Q=>{console.error(`useDownloadProgress: Failed to rejoin session group ${t}:`,Q)}))};return q.on("onConnectionStateChanged",E),()=>{q.off("onConnectionStateChanged")}},[g,t]),d.useEffect(()=>{console.log(`useDownloadProgress: Setting up for ${t||"all sessions"}`);const E=L=>{if(!t||L.sessionId===t){console.log(`useDownloadProgress: Update for session ${L.sessionId}`,L.items.length>0?`Items: ${L.items.map(V=>`${V.id}: ${V.progress}%`).join(", ")}`:"No items"),m(L),b(L);const te=new Map,A=new Map;L.items.forEach(V=>{const be=`${L.sessionId}-${V.id}`;te.set(be,V.progress),A.set(be,V.speedBytesPerSecond||0)}),c(te),h(A),y.current&&y.current(L)}},_=L=>{(!t||t===L)&&(console.log(`useDownloadProgress: Session completed ${L}`),j.current&&j.current(L))},R=(L,te)=>{(!t||t===L)&&(console.log(`useDownloadProgress: Session failed ${L}: ${te}`),S.current&&S.current(L,te))},Q=(L,te)=>{(!t||t===L)&&(console.log(`useDownloadProgress: Item completed ${te.id} in session ${L}`),C.current&&C.current(L,te))},z=(L,te,A)=>{(!t||t===L)&&(console.log(`useDownloadProgress: Item failed ${te.id} in session ${L}: ${A}`),k.current&&k.current(L,te,A))};return t&&(console.log(`useDownloadProgress: Joining session group ${t}`),q.joinSessionGroup(t).catch(L=>{console.error(`useDownloadProgress: Failed to join session group ${t}:`,L)})),q.on("onProgressUpdate",E),q.on("onSessionCompleted",_),q.on("onSessionFailed",R),q.on("onItemCompleted",Q),q.on("onItemFailed",z),()=>{t&&(console.log(`useDownloadProgress: Leaving session group ${t}`),q.leaveSessionGroup(t).catch(L=>{console.error(`useDownloadProgress: Failed to leave session group ${t}:`,L)})),q.off("onProgressUpdate"),q.off("onSessionCompleted"),q.off("onSessionFailed"),q.off("onItemCompleted"),q.off("onItemFailed")}},[t]),{downloadProgress:l,downloadSpeeds:u,sessionData:f,progress:v,isConnected:w,connectionState:g}}const Lf=({initialSession:e,onPauseSession:t,onCancelSession:n,onResumeSession:r,onPauseItem:i,onResumeItem:o,onCancelItem:a,showControls:l=!0})=>{const[c,u]=d.useState(e),{progress:h,isConnected:f}=tN({sessionId:e.sessionId,onProgressUpdate:m=>{u(m)},onSessionCompleted:m=>{console.log(`Session ${m} completed`),ce.success("Download session completed")},onSessionFailed:(m,v)=>{console.error(`Session ${m} failed:`,v),ce.error(`Download session failed: ${v}`)},onItemCompleted:(m,v)=>{console.log(`Item ${v.name} completed in session ${m}`),ce.success(`Downloaded: ${v.name}`)},onItemFailed:(m,v,b)=>{console.error(`Item ${v.name} failed in session ${m}:`,b),ce.error(`Failed to download ${v.name}: ${b}`)}});return d.useEffect(()=>{h&&u(h)},[h]),s.jsxs("div",{className:"relative",children:[l&&c.status==="Active"&&s.jsx("div",{className:"absolute top-2 right-2 z-10",children:s.jsxs("div",{className:`flex items-center space-x-1 text-xs ${f?"text-green-600":"text-red-600"}`,children:[s.jsx("div",{className:`w-2 h-2 rounded-full ${f?"bg-green-500":"bg-red-500"} ${f?"animate-pulse":""}`}),s.jsx("span",{children:f?"Live":"Offline"})]})}),s.jsx(X5,{session:c,onPauseSession:t,onCancelSession:n,onResumeSession:r,onPauseItem:i,onResumeItem:o,onCancelItem:a,showControls:l})]})},nN={count:10,maxConcurrency:3,compatibility:"",forceRedownload:!1},rN=({isOpen:e,onClose:t,onStartDownload:n,initialSettings:r=nN})=>{const[i,o]=d.useState(r);if(!e)return null;const a=c=>{c.preventDefault(),n(i),t()},l=[{value:"",label:"All Compatibility"},{value:"2020",label:"MSFS 2020 Only"},{value:"2024",label:"MSFS 2024 Only"},{value:"2020-2024",label:"MSFS 2020/2024"}];return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(sl,{className:"w-5 h-5 text-blue-600"}),s.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Download Settings"})]}),s.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 p-1 rounded-md hover:bg-gray-100",children:s.jsx(Bi,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:a,className:"p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"count",className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Addons to Download"}),s.jsx("input",{type:"number",id:"count",min:"1",max:"50",value:i.count,onChange:c=>o({...i,count:parseInt(c.target.value)||1}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum: 50 addons"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"concurrency",className:"block text-sm font-medium text-gray-700 mb-2",children:"Maximum Concurrent Downloads"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"range",id:"concurrency",min:"1",max:"10",value:i.maxConcurrency,onChange:c=>o({...i,maxConcurrency:parseInt(c.target.value)}),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[s.jsx("span",{children:"1"}),s.jsx("span",{className:"font-medium text-blue-600",children:i.maxConcurrency}),s.jsx("span",{children:"10"})]})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Higher values may impact system performance"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"compatibility",className:"block text-sm font-medium text-gray-700 mb-2",children:"Compatibility Filter"}),s.jsx("select",{id:"compatibility",value:i.compatibility,onChange:c=>o({...i,compatibility:c.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:l.map(c=>s.jsx("option",{value:c.value,children:c.label},c.value))})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("input",{type:"checkbox",id:"forceRedownload",checked:i.forceRedownload,onChange:c=>o({...i,forceRedownload:c.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),s.jsx("label",{htmlFor:"forceRedownload",className:"ml-2 block text-sm text-gray-700",children:"Force re-download existing files"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"By default, existing files are skipped to save time and bandwidth"}),s.jsxs("div",{className:"flex items-center justify-end space-x-3 pt-4 border-t border-gray-200",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Cancel"}),s.jsxs("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 flex items-center space-x-2",children:[s.jsx(Gn,{className:"w-4 h-4"}),s.jsx("span",{children:"Start Download"})]})]})]})]})})},sN=({onClearHistory:e})=>{const[t,n]=d.useState([]),[r,i]=d.useState(!0),[o,a]=d.useState(null),[l,c]=d.useState(new Set);d.useEffect(()=>{u()},[]);const u=async()=>{try{i(!0);const w=await st.getFolders();n(w),a(null)}catch(w){a("Failed to load download folders"),console.error("Error fetching download folders:",w)}finally{i(!1)}},h=async()=>{window.confirm("Are you sure you want to clear all download history? This action cannot be undone.")&&e&&e()},f=w=>{if(w===0)return"0 Bytes";const x=1024,g=["Bytes","KB","MB","GB"],p=Math.floor(Math.log(w)/Math.log(x));return parseFloat((w/Math.pow(x,p)).toFixed(2))+" "+g[p]},m=w=>new Date(w).toLocaleString(),v=w=>{const x=new Set(l);x.has(w)?x.delete(w):x.add(w),c(x)},b=w=>{switch(w){case"2020":return"bg-blue-100 text-blue-800";case"2024":return"bg-green-100 text-green-800";case"2020-2024":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return r?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):o?s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:s.jsxs("div",{className:"flex",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"text-sm font-medium text-red-800",children:o}),s.jsx("div",{className:"mt-2",children:s.jsx("button",{onClick:u,className:"text-sm bg-red-100 text-red-800 px-3 py-1 rounded-md hover:bg-red-200",children:"Retry"})})]})]})}):t.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Gn,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No downloads found"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Downloaded files will appear here organized by compatibility."})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Downloaded Files"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:u,className:"text-sm text-blue-600 hover:text-blue-800 px-3 py-1 rounded hover:bg-blue-50",children:"Refresh"}),s.jsx("button",{onClick:h,className:"text-sm text-red-600 hover:text-red-800 px-3 py-1 rounded hover:bg-red-50",children:"Clear History"})]})]}),t.map(w=>s.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm",children:[s.jsx("div",{className:"p-4 cursor-pointer hover:bg-gray-50",onClick:()=>v(w.name),children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(R5,{className:"w-5 h-5 text-blue-500"}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:w.name}),s.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${b(w.name)}`,children:w.name==="2020-2024"?"Universal":w.name})]}),s.jsxs("div",{className:"flex items-center space-x-4 mt-1 text-sm text-gray-500",children:[s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(_f,{className:"w-4 h-4"}),s.jsxs("span",{children:[w.fileCount," files"]})]}),s.jsxs("span",{className:"flex items-center space-x-1",children:[s.jsx(P5,{className:"w-4 h-4"}),s.jsx("span",{children:f(w.totalSize)})]})]})]})]}),s.jsx("div",{className:"text-sm text-gray-400",children:l.has(w.name)?"":"+"})]})}),l.has(w.name)&&s.jsx("div",{className:"border-t border-gray-200 bg-gray-50",children:s.jsx("div",{className:"p-4",children:w.files.length===0?s.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No files in this folder"}):s.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:w.files.map((x,g)=>s.jsxs("div",{className:"flex items-center justify-between p-3 bg-white rounded-md border border-gray-200 hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[s.jsx(_f,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",title:x.fileName,children:x.fileName}),s.jsxs("div",{className:"flex items-center space-x-3 mt-1",children:[s.jsx("span",{className:"text-xs text-gray-500",children:f(x.fileSize)}),s.jsxs("span",{className:"flex items-center space-x-1 text-xs text-gray-500",children:[s.jsx(N5,{className:"w-3 h-3"}),s.jsx("span",{children:m(x.createdAt)})]})]})]})]}),s.jsx("button",{onClick:p=>{p.stopPropagation(),console.log("File action:",x.filePath)},className:"text-xs text-blue-600 hover:text-blue-800 px-2 py-1 rounded hover:bg-blue-50",children:"Show in folder"})]},g))})})})]},w.name))]})},iN=({className:e="",showText:t=!0,showIcon:n=!0,onlyShowWhenDisconnected:r=!1})=>{const{connectionState:i,isConnected:o}=eo();if(o&&r)return null;let a="",l="",c=null;switch(i){case"Connected":a="Connected",l="text-green-600",c=s.jsx(Pf,{className:"w-4 h-4"});break;case"Connecting":a="Connecting...",l="text-yellow-600",c=s.jsx(Rf,{className:"w-4 h-4 animate-spin"});break;case"Reconnecting":a="Reconnecting...",l="text-orange-600",c=s.jsx(Rf,{className:"w-4 h-4 animate-spin"});break;case"Disconnected":a="Disconnected",l="text-red-600",c=s.jsx(L5,{className:"w-4 h-4"});break;default:a="Unknown",l="text-gray-600",c=s.jsx(Pf,{className:"w-4 h-4"})}return s.jsxs("div",{className:`flex items-center space-x-1 ${l} ${e}`,children:[n&&c,t&&s.jsx("span",{className:"text-sm font-medium",children:a})]})};function oN(){const e=Ha(),[t,n]=d.useState("active"),[r,i]=d.useState([]),[o,a]=d.useState(null),[l,c]=d.useState(!0),[u,h]=d.useState(!1),[f,m]=d.useState(!1),v=d.useRef(null),{connectionState:b,isConnected:w}=eo(),{activeSessions:x}=Y5();eN({onStatsUpdate:A=>{console.log("Received real-time stats update:",A),A&&JSON.stringify(A)!==JSON.stringify(v.current)&&(v.current=A,a(V=>({...V,...A})))}}),d.useEffect(()=>{g()},[]),d.useEffect(()=>{w&&(console.log("SignalR connection established, updating UI"),g())},[w]),d.useEffect(()=>{x.length>0&&i(A=>{const V=A.filter(be=>be.status!=="Active");return[...x,...V]})},[x.length]);const g=async()=>{try{const[A,V]=await Promise.all([st.getSessions(),st.getStats()]);i(A),a(V)}catch(A){console.error("Error fetching download data:",A),W.error("Failed to load download data")}finally{c(!1)}},p=async()=>{m(!0),await g(),m(!1),W.success("Data refreshed")},y=async A=>{try{const V={count:A.count,maxConcurrency:A.maxConcurrency,compatibility:A.compatibility||void 0,forceRedownload:A.forceRedownload};await st.startSession(V),W.success(`Started download session for ${A.count} addons`)}catch(V){console.error("Error starting download:",V),W.error("Failed to start download session")}},j=async A=>{try{await st.pauseSession(A),W.success("Session paused")}catch(V){console.error("Error pausing session:",V),W.error("Failed to pause session")}},S=async A=>{try{await st.cancelSession(A),W.success("Session cancelled")}catch(V){console.error("Error cancelling session:",V),W.error("Failed to cancel session")}},C=async A=>{try{await st.resumeSession(A),W.success("Session resumed")}catch(V){console.error("Error resuming session:",V),W.error("Failed to resume session")}},k=async(A,V)=>{try{await st.pauseItem(A,V),W.success("Item paused")}catch(be){console.error("Error pausing item:",be),W.error("Failed to pause item")}},E=async(A,V)=>{try{await st.resumeItem(A,V),W.success("Item resumed")}catch(be){console.error("Error resuming item:",be),W.error("Failed to resume item")}},_=async(A,V)=>{try{await st.cancelItem(A,V),W.success("Item cancelled")}catch(be){console.error("Error cancelling item:",be),W.error("Failed to cancel item")}},R=async()=>{try{await st.clearHistory(),W.success("Download history cleared"),await g()}catch(A){console.error("Error clearing history:",A),W.error("Failed to clear history")}},Q=A=>{if(A===0)return"0 Bytes";const V=1024,be=["Bytes","KB","MB","GB"],M=Math.floor(Math.log(A)/Math.log(V));return parseFloat((A/Math.pow(V,M)).toFixed(2))+" "+be[M]},z=A=>`${Q(A)}/s`,L=w&&x.length>0?x:r.filter(A=>A.status==="Active"),te=r.filter(A=>A.status!=="Active");return l?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Downloads"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Manage and monitor your addon download sessions"})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(iN,{className:"px-3 py-2 rounded-md",showIcon:!0,showText:!0}),s.jsxs("button",{onClick:p,disabled:f,className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx(Ds,{className:`h-4 w-4 mr-2 ${f?"animate-spin":""}`}),"Refresh"]}),s.jsxs("button",{onClick:()=>h(!0),className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx(sl,{className:"h-4 w-4 mr-2"}),"Download Settings"]}),s.jsxs("button",{onClick:()=>h(!0),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[s.jsx(As,{className:"h-4 w-4 mr-2"}),"Start New Session"]}),s.jsx("button",{onClick:()=>e("/addons"),className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Browse Addons"})]})]}),o&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"p-5",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Gn,{className:"h-8 w-8 text-blue-600"})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Active Downloads"}),s.jsx("dd",{className:"text-lg font-medium text-gray-900",children:o.activeDownloads}),o.totalSpeedBytesPerSecond>0&&s.jsx("dd",{className:"text-sm text-blue-600",children:z(o.totalSpeedBytesPerSecond)})]})})]})})}),s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"p-5",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"h-8 w-8 rounded-full bg-green-100 flex items-center justify-center",children:s.jsx("span",{className:"text-green-600 font-semibold text-sm",children:""})})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Completed"}),s.jsx("dd",{className:"text-lg font-medium text-gray-900",children:o.completedDownloads}),s.jsx("dd",{className:"text-sm text-gray-500",children:"Total downloads"})]})})]})})}),s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"p-5",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"h-8 w-8 rounded-full bg-red-100 flex items-center justify-center",children:s.jsx("span",{className:"text-red-600 font-semibold text-sm",children:""})})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Failed"}),s.jsx("dd",{className:"text-lg font-medium text-gray-900",children:o.failedDownloads}),s.jsx("dd",{className:"text-sm text-gray-500",children:"Need retry"})]})})]})})}),s.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:s.jsx("div",{className:"p-5",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Ef,{className:"h-8 w-8 text-purple-600"})}),s.jsx("div",{className:"ml-5 w-0 flex-1",children:s.jsxs("dl",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Sessions"}),s.jsx("dd",{className:"text-lg font-medium text-gray-900",children:o.totalSessions}),s.jsx("dd",{className:"text-sm text-gray-500",children:"All time"})]})})]})})})]}),s.jsx("div",{className:"border-b border-gray-200",children:s.jsxs("nav",{className:"-mb-px flex space-x-8",children:[s.jsxs("button",{onClick:()=>n("active"),className:`py-2 px-1 border-b-2 font-medium text-sm ${t==="active"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(Gn,{className:"h-4 w-4 inline mr-2"}),"Active Sessions",L.length>0&&s.jsx("span",{className:"ml-2 bg-blue-100 text-blue-600 py-0.5 px-2 rounded-full text-xs",children:L.length})]}),s.jsxs("button",{onClick:()=>n("history"),className:`py-2 px-1 border-b-2 font-medium text-sm ${t==="history"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(T5,{className:"h-4 w-4 inline mr-2"}),"Download History"]}),s.jsxs("button",{onClick:()=>n("statistics"),className:`py-2 px-1 border-b-2 font-medium text-sm ${t==="statistics"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(Ef,{className:"h-4 w-4 inline mr-2"}),"Statistics"]})]})}),s.jsxs("div",{className:"mt-6",children:[t==="active"&&s.jsx("div",{className:"space-y-4",children:r.length===0?s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Gn,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No Download Sessions"}),s.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Start a new download session to begin downloading addons"}),s.jsx("div",{className:"mt-6",children:s.jsxs("button",{onClick:()=>h(!0),className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700",children:[s.jsx(As,{className:"h-4 w-4 mr-2"}),"Start New Session"]})})]}):s.jsxs("div",{className:"space-y-6",children:[L.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mr-2 animate-pulse"}),"Active Sessions (",L.length,")",w&&s.jsx("span",{className:"ml-3 text-sm text-green-600 bg-green-50 px-2 py-1 rounded",children:"Real-time updates enabled"})]}),L.map(A=>s.jsx(Lf,{initialSession:A,onPauseSession:j,onResumeSession:C,onCancelSession:S,onPauseItem:k,onResumeItem:E,onCancelItem:_},A.sessionId))]}),te.length>0&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-900 flex items-center",children:[s.jsx("div",{className:"w-3 h-3 bg-gray-400 rounded-full mr-2"}),"Recent Sessions (",te.length,")"]}),te.map(A=>s.jsx(Lf,{initialSession:A,showControls:!0,onPauseSession:j,onResumeSession:C,onCancelSession:S,onPauseItem:k,onResumeItem:E,onCancelItem:_},A.sessionId))]})]})}),t==="history"&&s.jsx("div",{className:"space-y-6",children:s.jsx(sN,{onClearHistory:R})}),t==="statistics"&&o&&s.jsx("div",{className:"space-y-6",children:s.jsx("div",{className:"bg-white shadow rounded-lg",children:s.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[s.jsx("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Download Overview"}),s.jsxs("div",{className:"mt-5 grid grid-cols-1 md:grid-cols-2 gap-5",children:[s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Success Rate"}),s.jsxs("dd",{className:"mt-1 text-3xl font-semibold text-green-600",children:[o.totalDownloads>0?(o.completedDownloads/o.totalDownloads*100).toFixed(1):0,"%"]})]}),s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Total Downloads"}),s.jsx("dd",{className:"mt-1 text-3xl font-semibold text-blue-600",children:o.totalDownloads})]}),s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Active Sessions"}),s.jsx("dd",{className:"mt-1 text-3xl font-semibold text-purple-600",children:o.activeSessions})]}),s.jsxs("div",{children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Current Speed"}),s.jsx("dd",{className:"mt-1 text-3xl font-semibold text-orange-600",children:z(o.totalSpeedBytesPerSecond)})]})]})]})})})]}),s.jsx(rN,{isOpen:u,onClose:()=>h(!1),onStartDownload:y})]})}const aN=()=>_t({queryKey:["system","health"],queryFn:Oi.getHealth,refetchInterval:3e4,staleTime:15e3,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)}),lN=()=>_t({queryKey:["system","status"],queryFn:Oi.getStatusReport,refetchInterval:6e4,staleTime:3e4,retry:3,retryDelay:e=>Math.min(1e3*2**e,3e4)}),cN=()=>_t({queryKey:["downloads","stats"],queryFn:st.getStats,refetchInterval:15e3,staleTime:1e4,retry:3}),uN=()=>_t({queryKey:["addons","stats"],queryFn:rl.getStats,refetchInterval:3e5,staleTime:12e4,retry:3}),il=()=>{const e=aN(),t=lN(),n=cN(),r=uN(),{isConnected:i}=eo(),[o,a]=d.useState({});d.useEffect(()=>{if(!i)return;const u=h=>{a(f=>({...f,downloadStats:h.downloadStats,systemStatus:h.systemStatus}))};return q.on("onStatsUpdate",u),()=>{q.off("onStatsUpdate")}},[i]);const l={...n.data,...o.downloadStats},c={...t.data,...o.systemStatus};return{health:e.data,status:c,downloadStats:l,addonStats:r.data,isLoading:e.isLoading||t.isLoading||n.isLoading||r.isLoading,isError:e.isError||t.isError||n.isError||r.isError,error:e.error||t.error||n.error||r.error,refetch:()=>{e.refetch(),t.refetch(),n.refetch(),r.refetch()}}},dN=()=>({triggerConsoleReport:async()=>{try{return await Oi.triggerConsoleReport(),{success:!0,message:"Console report triggered successfully"}}catch{return{success:!1,message:"Failed to trigger console report"}}},triggerManualScrape:async n=>{try{return await Oi.triggerScrape(n),{success:!0,message:"Manual scrape triggered successfully"}}catch{return{success:!1,message:"Failed to trigger manual scrape"}}}}),hN=()=>{var l,c,u,h,f;const{health:e,status:t,downloadStats:n,isLoading:r,isError:i}=il();if(i)return s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[s.jsx("h3",{className:"text-red-800 font-medium",children:"Error Loading System Metrics"}),s.jsx("p",{className:"text-red-600 text-sm mt-1",children:"Unable to fetch system status. Please try again."})]});const o=m=>{switch(m==null?void 0:m.toLowerCase()){case"healthy":return"green";case"warning":return"yellow";case"error":return"red";default:return"gray"}},a=m=>{if(!m)return"Unknown";const v=/^(\d+)\.(\d{2}):(\d{2}):(\d{2})$/,b=m.match(v);if(b){const[w,x,g,p,y]=b;return parseInt(x)>0?`${x}d ${g}h ${p}m`:`${g}h ${p}m ${y}s`}return m};return s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:[s.jsx(Ce,{title:"System Health",value:(t==null?void 0:t.systemHealth)||"Unknown",icon:zi,color:o(t==null?void 0:t.systemHealth),subtitle:`Status: ${(e==null?void 0:e.status)||"Unknown"}`,isLoading:r,animated:(t==null?void 0:t.systemHealth)==="loading"||((l=t==null?void 0:t.systemHealth)==null?void 0:l.toLowerCase())==="healthy"}),s.jsx(Ce,{title:"Database",value:(t==null?void 0:t.databaseStatus)||"Unknown",icon:E5,color:(t==null?void 0:t.databaseStatus)==="Connected"?"green":"red",subtitle:(t==null?void 0:t.databaseStatus)==="Connected"?"Connected successfully":"Connection issue",isLoading:r,animated:(t==null?void 0:t.databaseStatus)==="Connected"}),s.jsx(Ce,{title:"Total Addons",value:((c=t==null?void 0:t.totalAddons)==null?void 0:c.toLocaleString())||"0",icon:D5,color:"blue",subtitle:`Recent (30 days): ${(t==null?void 0:t.recentAddons)||0}`,isLoading:r}),s.jsx(Ce,{title:"Active Downloads",value:((u=n==null?void 0:n.activeDownloads)==null?void 0:u.toString())||"0",icon:Gn,color:n!=null&&n.activeDownloads&&n.activeDownloads>0?"purple":"gray",subtitle:`${(n==null?void 0:n.activeSessions)||0} active session${(n==null?void 0:n.activeSessions)!==1?"s":""}`,isLoading:r,animated:n!=null&&n.activeDownloads?n.activeDownloads>0:!1}),s.jsx(Ce,{title:"Total Downloads",value:((h=n==null?void 0:n.totalDownloads)==null?void 0:h.toLocaleString())||"0",icon:Gn,color:"green",subtitle:`Completed: ${((f=n==null?void 0:n.completedDownloads)==null?void 0:f.toLocaleString())||0} (${n!=null&&n.totalDownloads&&(n!=null&&n.completedDownloads)?Math.round(n.completedDownloads/n.totalDownloads*100):0}%)`,isLoading:r}),s.jsx(Ce,{title:"System Uptime",value:a(t==null?void 0:t.uptime),icon:Ts,color:"blue",subtitle:t!=null&&t.uptime?"Since last restart":"Uptime information unavailable",isLoading:r,animated:!!(t!=null&&t.uptime)}),s.jsx(Ce,{title:"Download Speed",value:n!=null&&n.totalSpeedBytesPerSecond?`${(n.totalSpeedBytesPerSecond/1024/1024).toFixed(2)} MB/s`:"0.00 MB/s",icon:zi,color:n!=null&&n.totalSpeedBytesPerSecond&&n.totalSpeedBytesPerSecond>0?"purple":"gray",subtitle:n!=null&&n.totalSpeedBytesPerSecond&&n.totalSpeedBytesPerSecond>0?"Active download speed":"No active downloads",isLoading:r,animated:n!=null&&n.totalSpeedBytesPerSecond?n.totalSpeedBytesPerSecond>0:!1}),s.jsx(Ce,{title:"API Status",value:(e==null?void 0:e.status)||"Unknown",icon:M5,color:(e==null?void 0:e.status)==="Healthy"?"green":"red",subtitle:e!=null&&e.timestamp?`Last check: ${new Date(e.timestamp).toLocaleTimeString()}`:"Status unavailable",isLoading:r,animated:(e==null?void 0:e.status)==="Healthy"})]})},fN=()=>{const{triggerConsoleReport:e,triggerManualScrape:t}=dN(),{refetch:n}=il(),[r,i]=d.useState(null),[o,a]=d.useState(""),[l,c]=d.useState(!1),u=async()=>{i("console");try{const m=await e();m.success?W.success(m.message):W.error(m.message)}catch{W.error("Failed to trigger console report")}finally{i(null)}},h=async()=>{if(!o.trim()){W.error("Please enter a valid token");return}i("scrape");try{const m=await t(o);m.success?(W.success(m.message),a(""),c(!1),setTimeout(()=>n(),2e3)):W.error(m.message)}catch{W.error("Failed to trigger manual scrape")}finally{i(null)}},f=async()=>{i("refresh");try{await n(),W.success("System metrics refreshed")}catch{W.error("Failed to refresh metrics")}finally{i(null)}};return s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"System Actions"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Cf,{className:"h-5 w-5 text-yellow-500"}),s.jsx("span",{className:"text-sm text-gray-600",children:"Admin functions"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs(se,{onClick:f,disabled:r==="refresh",className:"w-full",variant:"outline",children:[s.jsx(Ds,{className:`h-4 w-4 mr-2 ${r==="refresh"?"animate-spin":""}`}),r==="refresh"?"Refreshing...":"Refresh Metrics"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Refresh all system metrics and statistics"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(se,{onClick:u,disabled:r==="console",className:"w-full",variant:"outline",children:[s.jsx(_5,{className:"h-4 w-4 mr-2"}),r==="console"?"Generating...":"Console Report"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Generate comprehensive system status report"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(se,{onClick:()=>c(!l),className:"w-full",variant:"outline",children:[s.jsx(As,{className:"h-4 w-4 mr-2"}),"Manual Scrape"]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Trigger manual addon data scraping"})]})]}),l&&s.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg border",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[s.jsx(sl,{className:"h-4 w-4 text-gray-500"}),s.jsx("h4",{className:"text-sm font-medium text-gray-900",children:"Manual Scrape Configuration"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"scrapeToken",className:"block text-sm font-medium text-gray-700 mb-1",children:"Refresh Token"}),s.jsx("input",{type:"password",id:"scrapeToken",value:o,onChange:m=>a(m.target.value),placeholder:"Enter refresh token...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(se,{onClick:h,disabled:r==="scrape"||!o.trim(),size:"sm",className:"bg-blue-600 hover:bg-blue-700",children:r==="scrape"?"Starting...":"Start Scrape"}),s.jsx(se,{onClick:()=>{c(!1),a("")},size:"sm",variant:"outline",children:"Cancel"})]})]})]}),s.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Cf,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{className:"text-sm text-blue-800 font-medium",children:"Important"})]}),s.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"These actions may impact system performance. Use with caution in production environments."})]})]})},Ig={healthy:{icon:Ps,color:"text-green-600",bgColor:"bg-green-100",borderColor:"border-green-200",label:"Healthy"},warning:{icon:so,color:"text-yellow-600",bgColor:"bg-yellow-100",borderColor:"border-yellow-200",label:"Warning"},error:{icon:du,color:"text-red-600",bgColor:"bg-red-100",borderColor:"border-red-200",label:"Error"},loading:{icon:Ts,color:"text-blue-600",bgColor:"bg-blue-100",borderColor:"border-blue-200",label:"Loading"},unknown:{icon:A5,color:"text-gray-600",bgColor:"bg-gray-100",borderColor:"border-gray-200",label:"Unknown"}},$g={sm:{icon:"h-4 w-4",padding:"px-2 py-1",text:"text-xs"},md:{icon:"h-5 w-5",padding:"px-3 py-2",text:"text-sm"},lg:{icon:"h-6 w-6",padding:"px-4 py-3",text:"text-base"}},Hl=({status:e,label:t,description:n,showIcon:r=!0,size:i="md"})=>{const o=Ig[e],a=$g[i],l=o.icon;return s.jsxs("div",{className:"flex items-center space-x-2",children:[r&&s.jsx("div",{className:`rounded-full ${o.bgColor} ${o.borderColor} border p-1`,children:s.jsx(l,{className:`${a.icon} ${o.color} ${e==="loading"?"animate-spin":""}`})}),s.jsxs("div",{children:[s.jsx("div",{className:`font-medium ${o.color} ${a.text}`,children:t}),n&&s.jsx("div",{className:"text-gray-500 text-xs mt-1",children:n})]})]})},mN=({status:e,size:t="md"})=>{const n=Ig[e],r=$g[t],i=n.icon;return s.jsxs("span",{className:`
      inline-flex items-center space-x-1 rounded-full 
      ${n.bgColor} ${n.borderColor} ${n.color} 
      border ${r.padding} ${r.text} font-medium
    `,children:[s.jsx(i,{className:`${r.icon} ${e==="loading"?"animate-spin":""}`}),s.jsx("span",{children:n.label})]})},pN=()=>{const{health:e,status:t,downloadStats:n,isLoading:r,error:i}=il(),[o,a]=d.useState([]),[l,c]=d.useState(new Date);d.useEffect(()=>{const m=new Date,v=[];if(e!=null&&e.status){const b=e.status.toLowerCase(),w=b==="healthy"?"success":b==="warning"?"warning":"error";v.push({id:`health-${m.getTime()}`,timestamp:m,type:w,message:`System health check: ${e.status}`,source:"Health Monitor"})}if((n==null?void 0:n.activeDownloads)!==void 0){const b=n.activeDownloads;b>0&&v.push({id:`download-${m.getTime()}`,timestamp:m,type:"info",message:`${b} active downloads in progress`,source:"Download Manager"})}if(t!=null&&t.databaseStatus){const b=t.databaseStatus.toLowerCase();v.push({id:`db-${m.getTime()}`,timestamp:m,type:b==="connected"?"success":"error",message:`Database status: ${t.databaseStatus}`,source:"Database"})}v.length>0&&a(b=>[...v,...b.slice(0,19)]),c(m)},[e,t,n]);const u=m=>{if(!m)return"unknown";const v=m.toLowerCase();return v==="healthy"?"healthy":v==="warning"?"warning":v==="error"?"error":"unknown"},h=m=>{switch(m){case"success":return Ps;case"warning":return so;case"error":return du;default:return zi}},f=m=>{switch(m){case"success":return"text-green-600";case"warning":return"text-yellow-600";case"error":return"text-red-600";default:return"text-blue-600"}};return s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"System Health"}),s.jsx(mN,{status:r?"loading":u(t==null?void 0:t.systemHealth),size:"sm"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Hl,{status:r?"loading":u(e==null?void 0:e.status),label:"API Service",description:e!=null&&e.timestamp?`Last check: ${new Date(e.timestamp).toLocaleTimeString()}`:"No recent checks"}),s.jsx(Hl,{status:r?"loading":u((t==null?void 0:t.databaseStatus)==="Connected"?"healthy":"error"),label:"Database",description:(t==null?void 0:t.databaseStatus)||"Status unknown"}),s.jsx(Hl,{status:n!=null&&n.activeDownloads?n.activeDownloads>0?"warning":"healthy":"unknown",label:"Download Service",description:`${(n==null?void 0:n.activeDownloads)||0} active downloads`})]}),i&&s.jsxs("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(du,{className:"h-4 w-4 text-red-600"}),s.jsx("span",{className:"text-sm text-red-800 font-medium",children:"Connection Error"})]}),s.jsx("p",{className:"text-sm text-red-700 mt-1",children:"Unable to fetch system status. Please check your connection."})]})]}),s.jsxs("div",{className:"lg:col-span-2 bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Live Activity"}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[s.jsx(Ts,{className:"h-4 w-4"}),s.jsxs("span",{children:["Last update: ",l.toLocaleTimeString()]}),s.jsx(Ds,{className:"h-4 w-4 animate-spin"})]})]}),s.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:o.length===0?s.jsxs("div",{className:"text-center py-8 text-gray-500",children:[s.jsx(zi,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{children:"No recent activity"}),s.jsx("p",{className:"text-sm",children:"System events will appear here"})]}):o.map(m=>{const v=h(m.type),b=f(m.type);return s.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg",children:[s.jsx(v,{className:`h-5 w-5 mt-0.5 ${b}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:m.message}),s.jsx("span",{className:"text-xs text-gray-500",children:m.timestamp.toLocaleTimeString()})]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Source: ",m.source]})]})]},m.id)})})]})]})},gN=()=>{const{isLoading:e,isError:t,error:n,refetch:r}=il(),[i,o]=d.useState("overview"),[a,l]=d.useState(!0),c=()=>{r()},u=[{id:"overview",label:"System Overview",icon:zi,description:"Key metrics and system health"},{id:"monitoring",label:"Real-time Monitoring",icon:Ds,description:"Live activity and status updates"},{id:"actions",label:"System Actions",icon:sl,description:"Administrative controls and tools"}];return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"border-b border-gray-200 pb-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"System Status"}),s.jsx("p",{className:"text-gray-600 mt-1",children:"Monitor API health, database status, and system performance"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("label",{className:"text-sm text-gray-600",children:"Auto-refresh"}),s.jsx("button",{onClick:()=>l(!a),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${a?"bg-blue-600":"bg-gray-200"}`,children:s.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${a?"translate-x-6":"translate-x-1"}`})})]}),s.jsxs(se,{onClick:c,disabled:e,variant:"outline",size:"sm",children:[s.jsx(Ds,{className:`h-4 w-4 mr-2 ${e?"animate-spin":""}`}),e?"Refreshing...":"Refresh"]})]})]}),s.jsx("div",{className:"mt-4",children:t?s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(so,{className:"h-5 w-5 text-red-600"}),s.jsx("span",{className:"text-red-800 font-medium",children:"System Error"})]}),s.jsx("p",{className:"text-red-700 text-sm mt-1",children:n instanceof Error?n.message:"Unable to fetch system status"})]}):s.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ps,{className:"h-5 w-5 text-green-600"}),s.jsx("span",{className:"text-green-800 font-medium",children:"System Operational"})]}),s.jsx("p",{className:"text-green-700 text-sm mt-1",children:"All systems are functioning normally"})]})})]}),s.jsx("div",{className:"border-b border-gray-200",children:s.jsx("nav",{className:"flex space-x-8",children:u.map(h=>{const f=h.icon;return s.jsxs("button",{onClick:()=>o(h.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 transition-colors ${i===h.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[s.jsx(f,{className:"h-5 w-5"}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"font-medium",children:h.label}),s.jsx("div",{className:"text-xs text-gray-500",children:h.description})]})]},h.id)})})}),s.jsxs("div",{className:"space-y-6",children:[i==="overview"&&s.jsx("div",{className:"space-y-6",children:s.jsx(hN,{})}),i==="monitoring"&&s.jsx("div",{className:"space-y-6",children:s.jsx(pN,{})}),i==="actions"&&s.jsx("div",{className:"space-y-6",children:s.jsx(fN,{})})]}),s.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[s.jsxs("div",{children:[s.jsx("p",{children:"SceneryAddons System Monitor"}),s.jsxs("p",{children:["Last updated: ",new Date().toLocaleString()]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{children:["Auto-refresh: ",a?"Enabled":"Disabled"]}),s.jsx("p",{children:"Update interval: 30 seconds"})]})]})})]})};function xN(){const[e,t]=d.useState("Not started"),[n,r]=d.useState(""),[i,o]=d.useState([]),a=u=>{o(h=>[...h,`[${new Date().toISOString()}] ${u}`])},l=async()=>{try{a("Starting connection test..."),t("Connecting..."),r("");const u=new yd().withUrl("http://localhost:5269/downloadProgressHub",{withCredentials:!0,skipNegotiation:!1,transport:fe.WebSockets|fe.ServerSentEvents|fe.LongPolling}).configureLogging(T.Trace).build();if(u.onclose(h=>{a(`Connection closed: ${(h==null?void 0:h.message)||"No error"}`),t("Disconnected")}),u.onreconnecting(h=>{a(`Reconnecting: ${(h==null?void 0:h.message)||"No error"}`),t("Reconnecting")}),u.onreconnected(h=>{a(`Reconnected with ID: ${h}`),t("Connected")}),await u.start(),a("Connection started successfully!"),t("Connected"),u.state===ne.Connected)try{await u.invoke("JoinSessionGroup","test-session"),a("Successfully joined test session group")}catch(h){a(`Error invoking hub method: ${h.message}`)}window.__testConnection=u}catch(u){const h=`Connection failed: ${u.message||u}`;a(h),r(h),t("Failed"),console.error("SignalR connection error:",u)}},c=async()=>{const u=window.__testConnection;if(u)try{await u.stop(),a("Connection stopped"),t("Stopped"),delete window.__testConnection}catch(h){a(`Error stopping connection: ${h.message}`)}};return d.useEffect(()=>()=>{c()},[]),s.jsxs("div",{className:"p-6 max-w-4xl mx-auto",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"SignalR Connection Test"}),s.jsxs("div",{className:"mb-4 space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"font-medium",children:"Connection State:"}),s.jsx("span",{className:`px-2 py-1 rounded text-sm ${e==="Connected"?"bg-green-100 text-green-800":e==="Failed"?"bg-red-100 text-red-800":e==="Connecting..."?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:e})]}),n&&s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded text-red-700",children:n})]}),s.jsxs("div",{className:"flex space-x-4 mb-6",children:[s.jsx("button",{onClick:l,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Test Connection"}),s.jsx("button",{onClick:c,className:"px-4 py-2 bg-gray-600 text-white rounded hover:bg-gray-700",children:"Stop Connection"}),s.jsx("button",{onClick:()=>o([]),className:"px-4 py-2 bg-gray-400 text-white rounded hover:bg-gray-500",children:"Clear Logs"})]}),s.jsxs("div",{className:"bg-gray-900 text-gray-100 p-4 rounded font-mono text-sm overflow-auto max-h-96",children:[s.jsx("div",{className:"font-bold mb-2",children:"Connection Logs:"}),i.length===0?s.jsx("div",{className:"text-gray-500",children:'No logs yet. Click "Test Connection" to start.'}):i.map((u,h)=>s.jsx("div",{className:"mb-1",children:u},h))]}),s.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded",children:[s.jsx("h2",{className:"font-bold mb-2",children:"Debug Information:"}),s.jsxs("ul",{className:"space-y-1 text-sm",children:[s.jsx("li",{children:"API URL: http://localhost:5269"}),s.jsx("li",{children:"Hub Endpoint: /downloadProgressHub"}),s.jsxs("li",{children:["SignalR Version: ",tg]}),s.jsxs("li",{children:["Browser: ",navigator.userAgent]})]})]})]})}function yN(){const[e,t]=d.useState("Disconnected"),[n,r]=d.useState([]),[i,o]=d.useState(null);d.useEffect(()=>{const l=new yd().withUrl("http://localhost:5269/downloadProgressHub").withAutomaticReconnect().build();o(l),l.onreconnecting(()=>{t("Reconnecting..."),a("Reconnecting to server...")}),l.onreconnected(()=>{t("Connected"),a("Reconnected to server")}),l.onclose(()=>{t("Disconnected"),a("Connection closed")});const c=async()=>{try{await l.start(),t("Connected"),a("Connected to server")}catch(u){t("Failed to connect"),a(`Connection failed: ${u}`),setTimeout(c,5e3)}};return c(),()=>{l.stop()}},[]);const a=l=>{r(c=>[...c,`${new Date().toLocaleTimeString()}: ${l}`])};return s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Simple SignalR Test"}),s.jsxs("div",{className:`inline-flex items-center px-3 py-2 rounded-md mb-4 ${e==="Connected"?"bg-green-50 text-green-700":"bg-red-50 text-red-700"}`,children:[s.jsx("span",{className:"text-sm font-medium",children:e}),e==="Connected"&&s.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse ml-2"})]}),s.jsxs("div",{className:"mt-4",children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Connection Log"}),s.jsx("div",{className:"bg-gray-100 p-4 rounded-md h-64 overflow-y-auto",children:n.map((l,c)=>s.jsx("div",{className:"mb-1 font-mono text-sm",children:l},c))})]})]})}function vN(){return s.jsx(db,{children:s.jsx(Lj,{children:s.jsx(q2,{children:s.jsx(Yb,{children:s.jsxs(u1,{children:[s.jsx(Wt,{path:"/",element:s.jsx(v5,{})}),s.jsx(Wt,{path:"/addons",element:s.jsx(F5,{})}),s.jsx(Wt,{path:"/addons-enhanced",element:s.jsx(H5,{})}),s.jsx(Wt,{path:"/advanced-search",element:s.jsx(G5,{})}),s.jsx(Wt,{path:"/analytics",element:s.jsx(Z5,{})}),s.jsx(Wt,{path:"/downloads",element:s.jsx(oN,{})}),s.jsx(Wt,{path:"/system-status",element:s.jsx(gN,{})}),s.jsx(Wt,{path:"/signalr-test",element:s.jsx(xN,{})}),s.jsx(Wt,{path:"/simple-signalr",element:s.jsx(yN,{})})]})})})})})}const wN=new F1({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3,retry:(e,t)=>{var n;return((n=t.response)==null?void 0:n.status)===404?!1:e<3},retryDelay:e=>Math.min(1e3*2**e,3e4)},mutations:{onError:e=>{console.error("Mutation error:",e)}}}});ip(document.getElementById("root")).render(s.jsx(d.StrictMode,{children:s.jsxs(H1,{client:wN,children:[s.jsxs(x1,{children:[s.jsx(vN,{}),s.jsx(V2,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{style:{background:"#22c55e"}},error:{style:{background:"#ef4444"}}}})]}),s.jsx(t2,{initialIsOpen:!1})]})}));
//# sourceMappingURL=index-DXGPLCPb.js.map
